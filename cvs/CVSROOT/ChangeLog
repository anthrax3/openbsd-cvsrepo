CVSROOT:	/cvs
Module name:	www
Changes by:	mlarkin@cvs.openbsd.org	2017/04/01 17:35:12

Modified files:
	.              : 61.html 

Log message:
update 61.html with vmm improvements from last couple weeks


CVSROOT:	/cvs
Module name:	www
Changes by:	beck@cvs.openbsd.org	2017/04/01 17:48:07

Modified files:
	.              : 61.html 

Log message:
LibreSSL will be 2.5.3 for release, include releease notes so far in 61.html


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/01 18:27:36

Modified files:
	sys/conf       : newvers.sh 

Log message:
unlock tree, we are now hacking on 6.1-current


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/01 18:27:44

Modified files:
	usr.bin/systat : iostat.c 

Log message:
Make dma range buffer cache pages visible in systat io
ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/01 18:28:56

Modified files:
	sys/dev/acpi   : acpitz.c 

Log message:
normalize order of arguments to if ()


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/01 18:53:37

Modified files:
	libexec/comsat : comsat.c 

Log message:
Prefer pread() over lseek()+read()
open() only needs the mode argument if O_CREAT is present

ok beck@ deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	jcs@cvs.openbsd.org	2017/04/01 19:00:51

Modified files:
	.              : 61.html 

Log message:
add acpisbs, mention acpi change for apple hardware


CVSROOT:	/cvs
Module name:	www
Changes by:	jsg@cvs.openbsd.org	2017/04/01 20:16:09

Modified files:
	.              : arm64.html 

Log message:
Describe problems caused by boards that require boot firmware on the
system disk.

ok patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/01 20:51:51

Modified files:
	usr.bin/unifdef: unifdef.c 

Log message:
Replace snprintf(NULL, malloc, snprintf.... with the much better asprintf.
ok millert


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/01 21:51:13

Modified files:
	sys/arch/mips64/mips64: context.S 

Log message:
Bring back the wait instruction into the idle loop, but only on octeon.
This lets an idle SoC run a bit cooler.

Tested on CN5020, CN6120 and CN7130.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/01 22:01:52

Modified files:
	gnu/usr.bin/binutils-2.17/bfd: archive64.c 

Log message:
Fix an out-of-bounds memory access with 64-bit armaps.

OK kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/02 00:02:19

Modified files:
	distrib/notes/arm64: hardware 

Log message:
add overdrive 1000


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/02 06:56:39

Modified files:
	sys/netinet    : tcp_usrreq.c 

Log message:
Fix tcp stats reporting

Return the sum of per-cpu counters instead of the current cpu's
counters.  Brainfart on my side.  Analysis and fix by Andrei-Marius Radu.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/02 09:25:05

Modified files:
	sys/arch/octeon/dev: if_cnmac.c 

Log message:
Drop address conversion cruft.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/02 09:48:19

Modified files:
	sys/arch/loongson/loongson: machdep.c 
	sys/arch/octeon/octeon: machdep.c 
	sys/arch/sgi/sgi: machdep.c 

Log message:
printf format strings should be literals. Reminded by clang.


CVSROOT:	/cvs
Module name:	www
Changes by:	beck@cvs.openbsd.org	2017/04/02 10:38:32

Modified files:
	.              : 61.html 

Log message:
httpd and nc and ocspcheck, etc. etc.


CVSROOT:	/cvs
Module name:	www
Changes by:	beck@cvs.openbsd.org	2017/04/02 10:53:22

Modified files:
	.              : 61.html 

Log message:
minor cleanups


CVSROOT:	/cvs
Module name:	www
Changes by:	beck@cvs.openbsd.org	2017/04/02 11:01:12

Modified files:
	.              : 61.html 

Log message:
don't forget about BN_gcd goodies that were addded to avoid RSA keygen sidechannels


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/02 12:06:57

Modified files:
	sys/arch/arm64/arm64: pmap.c 

Log message:
On ARMv8, the translation table walk is fully coherent so there is no
reason to explicitly flush the cache before invalidating the TLB.  The
barrier that is included in out TLB flushing code should be enough to
guarantee that the TLB walking hardware sees the updated page table
contents, so the explicit barriers can go as well.  Sanitize the code
immediately surrounding the removed bits while I'm there.

Tested by jsg@, ok drahn@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/02 12:13:19

Modified files:
	usr.bin/units  : units.lib 

Log message:
update currency exchange rates;


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/02 12:14:34

Modified files:
	libexec/spamd  : spamd.8 

Log message:
note that some hosts never generate tuples and are ignored;
ok beck


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/02 12:30:27

Modified files:
	faq/ports      : guide.html 

Log message:
consistent formatting in the make commands; from anton lindqvist


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/02 12:41:02

Modified files:
	.              : 61.html 

Log message:
some cleanup


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/02 14:21:44

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
Filter out RDTSCP, needed to handle solaris guests. We set the VMX control
to enable RDTSCP to 0, so when solaris attempted to use the instruction
(since it wasn't filtered out of CPUID information), the CPU issued an
#UD exception.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/02 14:57:22

Modified files:
	sbin/dhclient  : parse.c 

Log message:
Change parse_string() warning from "filename must be a string" to
"expecting a string". Things other than filenames are parsed here.


CVSROOT:	/cvs
Module name:	src
Changes by:	tom@cvs.openbsd.org	2017/04/02 15:23:44

Modified files:
	sbin/isakmpd   : field.c 

Log message:
Check return value of asprintf(), and don't use 0 as a char *

Started by, and ok, deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/02 16:57:21

Modified files:
	usr.sbin/rtadvd: dump.c 

Log message:
Always use return value of asprintf to determine success/failure,
don't rely upon *ret becoming NULL
ok millert, tom


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/02 17:02:06

Modified files:
	usr.bin/less   : line.c 

Log message:
The character buffer should be resized using recallocarray()
ok millert and nicm a while ago


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/02 17:40:09

Modified files:
	sys/kern       : uipc_socket.c 

Log message:
Less convoluted code in soshutdown()
ok guenther


CVSROOT:	/cvs
Module name:	www
Changes by:	stsp@cvs.openbsd.org	2017/04/03 03:16:44

Modified files:
	build          : support.dat 

Log message:
tweak my support entry


CVSROOT:	/cvs
Module name:	www
Changes by:	stsp@cvs.openbsd.org	2017/04/03 03:16:55

Modified files:
	.              : support.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/03 04:08:17

Modified files:
	security/botan2: Makefile 
	security/botan2/pkg: PLIST 
Added files:
	security/botan2/pkg: PFRAG.x86 

Log message:
Fix packaging on !(x86)

rdrand_rng.h is arch-specific.  ok bluhm@ (maintainer)


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/03 07:51:54

Modified files:
	sys/arch/octeon/octeon: locore.S 

Log message:
Compute address for ll/sc only once.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/03 08:16:34

Modified files:
	sbin/dhclient  : clparse.c parse.c 

Log message:
Tweak 'expecting' parse_warn() messages to be more consistent.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/03 09:34:46

Modified files:
	sbin/dhclient  : clparse.c parse.c 

Log message:
Tweak parse_string() to not consume the ';'. Simplifies/shortens
some logic.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/03 09:52:59

Modified files:
	lib/libcrypto/asn1: t_x509.c 

Log message:
Fix silly code that printfs NULL when there are no fractional seconds
on a GENREALIZEDTIME (which there should really never be for anything
remotely standards compliant)
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/03 10:10:00

Modified files:
	sys/dev/onewire: onewire.c 

Log message:
provide size to free(9)


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/03 10:18:35

Modified files:
	usr.bin/grep   : util.c 

Log message:
initialize regmatch_t always, fixes grep -o ""
from Michael Santos


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/03 11:07:58

Modified files:
	libexec/comsat : comsat.c 

Log message:
use recallocarray() because the array contains data that can be observed


CVSROOT:	/cvs
Module name:	www
Changes by:	claudio@cvs.openbsd.org	2017/04/03 11:21:28

Modified files:
	.              : 61.html 

Log message:
The limits for the socketbuffers were 256k and 2M not 2GB that would be
excessive.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/03 11:23:39

Modified files:
	libexec/comsat : comsat.c 

Log message:
check return from pread, don't divide -1 for count


CVSROOT:	/cvs
Module name:	www
Changes by:	claudio@cvs.openbsd.org	2017/04/03 11:58:32

Modified files:
	.              : 61.html 

Log message:
TLS session ticket support in relayd and httpd


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/03 12:23:36

Modified files:
	sbin/dhclient  : conflex.c parse.c 

Log message:
Simplify read_string() to just read the characters between the '"'s.
Push the un-vising up to parse_string(). This allows both the actual
string and the un-vised version to be available as desired. Use
memcpy() instead of strdup() to copy un-vised string since it may
legitimately contain NUL.


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/04/03 12:43:41

Modified files:
	usr.sbin/wsfontload: wsfontload.8 

Log message:
WSDISPLAY_MAXFONTCOUNT macro was introduced in sys/dev/wscons/wsconsio.h
(revision 1.75) to limit the number of fonts that can be loaded.

Reflect that in the man page as well.

OK jcs@


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/03 13:40:43

Modified files:
	share/man/man3 : CMSG_DATA.3 

Log message:
Send and receive 1 byte of data in addition to the control message. This is
needed to make the code work in more cases.
Sending actually is not really needed, but do it anyway, to avoid confusing
mismatch between producer and consumer.
Problem noted by Luke Small; ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/03 13:42:04

Modified files:
	lib/libc/sys   : recv.2 

Log message:
Add caveat telling it's better to always read a data byte when passing
control messages.
Problem noted by Luke Small; ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/03 13:59:39

Modified files:
	sbin/dhclient  : clparse.c dhcpd.h parse.c 

Log message:
Change parse_string() to take an optional integer pointer that can
be used to return the final size of the parsed (i.e. un-vis'ed)
string. Use same, plus memcpy() to ensure entire final string is
copied to intended destination even if there are embedded NULs.


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/04/03 14:59:19

Modified files:
	sbin/shutdown  : shutdown.c 

Log message:
warn format string should be literal.

OK deraadt@, millert@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/03 16:23:01

Modified files:
	build          : support.dat 

Log message:
+Wenka Computer Systems


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/03 16:23:25

Modified files:
	.              : support.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/03 18:03:12

Modified files:
	etc/etc.alpha  : Makefile.inc 
	etc/etc.amd64  : Makefile.inc 
	etc/etc.arm64  : Makefile.inc 
	etc/etc.armv7  : Makefile.inc 
	etc/etc.hppa   : Makefile.inc 
	etc/etc.i386   : Makefile.inc 
	etc/etc.landisk: Makefile.inc 
	etc/etc.loongson: Makefile.inc 
	etc/etc.luna88k: Makefile.inc 
	etc/etc.macppc : Makefile.inc 
	etc/etc.sgi    : Makefile.inc 
	etc/etc.socppc : Makefile.inc 
	etc/etc.sparc64: Makefile.inc 

Log message:
cp -p the bootblocks to RELEASEDIR; ok tb


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/03 18:24:56

Modified files:
	usr.bin/ssh    : sftp-server.c 

Log message:
disallow creation (of empty files) in read-only mode; reported by
Michal Zalewski, feedback & ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/04/03 18:40:52

Modified files:
	sys/dev/pci    : if_iwm.c if_iwmreg.h 

Log message:
Add 8265 and 3168 support. Both cards need new firmware files which currently
need to be installed by hand until the iwm-firmware package has been updated.
This includes handling (by ignoring) of IWM_UCODE_TLV_FW_MEM_SEG and
IWM_DEBUG_LOG_MSG firmware commands. Mostly stolen from dragonflybsd.
With this in the X270 has working ethernet and wifi.
Commit! deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/03 20:37:15

Modified files:
	usr.sbin/snmpd : snmpd.c 

Log message:
Rewrite tohexstr() to use the common idiom of converting a byte
string to hex nybble by nybble.  This avoids using the return value
of snprintf() unchecked.  OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/03 22:38:31

Modified files:
	sys/dev/ic     : malo.c 

Log message:
add a free() size near microcode loading


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/04 06:30:04

Modified files:
	sys/arch/sparc64/sparc64: lock_machdep.c 

Log message:
Issue memory barrier before lock release, not after. This ensures
the release write becomes globally visible only after any writes
of the critical section are globally visible. In practice, the
reordering has not happened because the kernel runs in the total
store order mode.

Tested by and OK kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/04 06:56:24

Modified files:
	sys/arch/arm64/arm64: pmap.c 

Log message:
Cleanup the code further.  Get rid of the remaining C++-style comments,
remove some debug printfs, get rid of STATIC and __inline defines and
remove a bit more unused code.

ok drahn@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/04 07:01:20

Modified files:
	sbin/dhclient  : clparse.c dhclient.c dhcpd.h 

Log message:
Treat SSID's like the 0 to 32 bytes of uint8_t data that they really
are. Track and use the actual lengths and use memcpy()/memcmp()
instead of strcmp()/strdup().


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/04 08:04:54

Modified files:
	usr.sbin/sasyncd: sasyncd.c 

Log message:
Add missing newline in fprintf error message.

OK jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/04 08:08:19

Modified files:
	lib/libc/sys   : recv.2 

Log message:
tweak previous;


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/04 08:33:44

Modified files:
	usr.sbin/smtpd : table.5 

Log message:
document comments in table files; help/ok gilles


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/04 09:15:48

Modified files:
	sbin/dhclient  : dhclient.c dhcpd.h dispatch.c 

Log message:
Send a RTM_PROPOSAL to clear out other dhclient instances on startup.

Replaces forcing interface link state down and up to generate
RTM_IFINFO messages.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/04 09:50:29

Modified files:
	usr.sbin/dhcrelay: dhcpd.h dhcrelay.c 

Log message:
constify pc_remote and pc_circuit

OK rzalamena@


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/04 09:52:12

Modified files:
	usr.sbin/dhcrelay: dispatch.c 

Log message:
The unsigned result cannot be -1, turn it into a signed variable.

OK rzalamena@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/04 11:50:45

Modified files:
	distrib/miniroot: install.sub 

Log message:
Ensure, that during upgrades, the default for the "Location of sets"
question is set to http if /etc/installurl exists and override the
install method information from the cgi server.

'makes sense' deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/04 12:17:02

Modified files:
	sys/kern       : vfs_subr.c 

Log message:
struct vfsconf is tightly packed, but let's M_ZERO it in case that ever
changes to avoid exposing userland memory.


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/04/04 14:16:09

Modified files:
	usr.sbin/httpd : httpd.c 

Log message:
Do not purge the CONFIG_SERVERS config in the parent. The ticket code uses
the servers config for its rekeying handling. Without this no rekeying happens
and httpd stops working. Learned the hard way by me and beck@
OK reyk@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/04 14:51:45

Modified files:
	net/icinga/core2: Makefile distinfo 

Log message:
update to icinga2 2.6.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/04 14:52:13

Modified files:
	mail/rspamd    : Makefile distinfo 
	mail/rspamd/pkg: PLIST 

Log message:
update to rspamd-1.5.4, from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/04 15:09:30

Modified files:
	www/squid      : Makefile distinfo 

Log message:
update to squid-3.5.25


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/04 15:20:22

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Also remove non syspatch hidden files/dirs.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/04 15:23:06

Modified files:
	net/libnice    : Makefile distinfo 
	net/libnice/pkg: PLIST 

Log message:
Update to libnice-0.1.14.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/04 15:24:13

Modified files:
	print/foomatic-db: Makefile 
	print/foomatic-db/pkg: PLIST 

Log message:
Remove foo2hiperc-z1, it conflicts with foo2zjs; reported by espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/04 15:24:44

Modified files:
	print/foo2zjs  : Makefile distinfo 
	print/foo2zjs/patches: patch-Makefile patch-getweb_in 
	print/foo2zjs/pkg: PLIST 

Log message:
Long overdue update to foo2zjs-20170320.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/04 15:38:51

Modified files:
	www/trac       : Makefile distinfo 

Log message:
update to Trac-1.2.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jeremy@cvs.openbsd.org	2017/04/04 15:40:01

Modified files:
	lang/ruby/2.2  : Makefile distinfo 
	lang/ruby/2.2/pkg: PLIST-ri_docs 

Log message:
Update to ruby 2.2.7


CVSROOT:	/cvs
Module name:	ports
Changes by:	jeremy@cvs.openbsd.org	2017/04/04 15:40:40

Modified files:
	databases/ruby-pg: Makefile distinfo 

Log message:
Update to ruby-pg 0.20.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/04 15:45:55

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/patches: 
	                                   patch-lib_googlecloudsdk_core_util_platforms_py 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-149.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/04 15:54:30

Modified files:
	devel/py-wbem  : Makefile 

Log message:
missing RDEP on py-yaml


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/04 16:37:01

Modified files:
	usr.sbin/sasyncd: sasyncd.8 sasyncd.c 

Log message:
add a config test flag to sasyncd

ok reyk@ deraadt@ jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/04 16:51:29

Modified files:
	fonts/go-fonts : Makefile distinfo 
	fonts/go-fonts/pkg: PLIST 

Log message:
Update to a newer go-image snapshot to get a newer version of the ttf
go fonts.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/04 18:35:02

Modified files:
	usr.sbin/syslogd: syslogd.c 

Log message:
Do not print a warning if closing the control socket fails.  It
cannot happen and there is nothing that could be done about it.
OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/04 18:57:47

Modified files:
	www/gitea      : Makefile distinfo 
	www/gitea/patches: patch-conf_app_ini 
	www/gitea/pkg  : PLIST 
Added files:
	www/gitea/patches: patch-cmd_web_go 

Log message:
Update to gitea-1.1.0 and backport a patch to make it work with httpd
(from Pavel Korovin)

Tested by Pavel Korovin, ok robert@ (maintainer)


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/04 21:13:53

Modified files:
	lib/libtls     : Symbols.list tls.c tls_config.c tls_conninfo.c 
	                 tls_internal.h 

Log message:
Internal changes to allow for relayd engine privsep. sends the hash of the
public key as an identifier to RSA, and adds an function for relayd to
use to disable private key checking when doing engine privsep.
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/04 21:19:22

Modified files:
	lib/libtls     : Symbols.list shlib_version tls.c tls.h 
	                 tls_conninfo.c tls_internal.h tls_peer.c 

Log message:
Add tls_peer_cert_chain_pem - To retreive the peer certificate and chain
as PEM format. This allows for it to be used or examined with tools
external to libtls
bump minor
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/04 21:20:19

Modified files:
	usr.bin/nc     : nc.1 netcat.c 

Log message:
Allow nc to save the peer certificate and chain in a pem file specified
with -Z
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/04 21:23:37

Modified files:
	distrib/sets/lists/base: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/04 21:34:57

Modified files:
	net/haproxy    : Makefile distinfo 

Log message:
Update to haproxy-1.6.12


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/04 21:59:13

Modified files:
	sys/kern       : kern_clock.c 

Log message:
clear structure on the stack before copying out for sysctl.  At present
it has no pads, but a future ABI change could add something and leak
kernel memory.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/04 22:00:41

Modified files:
	sys/kern       : kern_sysctl.c 

Log message:
Here at OpenBSD we change ABIs at the fling of a hat.  Just in case a
future disk info sysctl has pads in the structures, use M_ZERO when
allocating the storage to avoid leaking kernel memory.


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/04 22:15:44

Modified files:
	sys/kern       : kern_sysctl.c 

Log message:
timeval has trailing padding on powerpc and m88k, so memset it before
copyout to avoid leaking kernel stack

ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	mglocker@cvs.openbsd.org	2017/04/04 22:25:58

Modified files:
	databases/apache-couchdb: Makefile 

Log message:
Make the port work again by referring to the correct lang/erlang location.

ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/04 22:44:03

Modified files:
	usr.bin/systat : engine.c 

Log message:
an annoying whitespace glitch


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/05 00:55:59

Modified files:
	usr.bin/nc     : nc.1 netcat.c 

Log message:
- -Z before -z in options list
- add -Z to help and usage()


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 01:00:37

Modified files:
	lang/python/3.6: Makefile distinfo 
	lang/python/3.6/pkg: PLIST-main PLIST-tests 
Removed files:
	lang/python/3.6/patches: patch-Python_random_c 

Log message:
update to python 3.6.1.
release notes: https://docs.python.org/3.6/whatsnew/changelog.html#python-3-6-1
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 01:08:51

Modified files:
	security/oledump: Makefile distinfo 
	security/oledump/pkg: PLIST 

Log message:
minor update to 0.0.27.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 01:13:55

Modified files:
	security/pdf-parser: Makefile distinfo 

Log message:
update pdf-parser to 0.6.7.
more information: https://blog.didierstevens.com/2016/12/28/update-pdf-parser-version-0-6-7/


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/05 01:34:48

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.35.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/05 01:35:08

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.71.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/05 01:52:00

Modified files:
	devel/glib2mm  : Makefile distinfo 

Log message:
Update to glib2mm-2.50.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/04/05 02:02:05

Modified files:
	comms/gammu    : Makefile distinfo 
	comms/gammu/patches: patch-CMakeLists_txt 

Log message:
Update to gammu-1.38.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/05 02:45:33

Modified files:
	sbin/ifconfig  : ifconfig.8 

Log message:
various improvements, from klemens nanni;
i've omitted hunk 3 of his diff, as what's there now is correct;

ok mikeb


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/05 03:34:39

Modified files:
	www/webkitgtk4 : Makefile distinfo 

Log message:
Update to webkitgtk4-2.16.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/05 03:46:18

Modified files:
	mail/mozilla-thunderbird: Makefile distinfo 
	mail/mozilla-thunderbird/patches: 
	                                  patch-mail_installer_Makefile_in 
	                                  patch-mozilla_js_src_jit_ProcessExecutableMemory_cpp 
	                                  patch-mozilla_security_manager_pki_resources_content_exceptionDialog_js 
	                                  patch-mozilla_storage_mozStorageConnection_cpp 
	mail/mozilla-thunderbird/pkg: PLIST-lightning PLIST-main 
	mail/thunderbird-i18n: Makefile.inc distinfo 
Removed files:
	mail/mozilla-thunderbird/patches: 
	                                  patch-mozilla_js_src_jit_ProcessExecutableMemory_h 
	                                  patch-mozilla_toolkit_components_protobuf_src_google_protobuf_stubs_atomicops_h 

Log message:
Update to thunderbird 52.0/lightning 5.4.

See https://www.mozilla.org/en-US/thunderbird/52.0/releasenotes/

Note that it now defaults to use Gtk+3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/05 04:02:06

Modified files:
	lang/bacon     : Makefile distinfo 

Log message:
Update to bacon 3.5.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/05 04:27:36

Modified files:
	telephony/asterisk: Makefile distinfo 

Log message:
update to asterisk-13.14.1

http://downloads.digium.com/pub/security/AST-2017-001.html

CDR: Protect from data overflow in ast_cdr_setuserfield.
ast_cdr_setuserfield wrote to a fixed length field using strcpy.
This could result in a buffer overrun when called from chan_sip or
func_cdr. This patch adds a maximum bytes written to the field by using
ast_copy_string instead.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/05 04:45:20

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Change tty_repeat_space to write large sets of spaces together instead
of writing them individually.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/05 04:45:39

Modified files:
	usr.bin/tmux   : cfg.c 

Log message:
cfg_file can be static.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/05 04:49:46

Modified files:
	usr.bin/tmux   : cmd-choose-client.c cmd-find.c 
	                 cmd-list-clients.c format.c screen-redraw.c 
	                 server-client.c tmux.1 tmux.h tty.c 

Log message:
Give each client a name. This defaults to the tty name as before but
falls back to an alternative if the tty name is not available. This is
clearer than overloading the client ttyname member and allows us to
remove the path stored in the tty struct, it should always be the same
as the client.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/05 05:04:48

Modified files:
	usr.bin/tmux   : cmd-find.c 

Log message:
Try again to resolve problems with mistaking sessions for windows: now
do not look up windows as sessions (and panes as windows) when they are
qualified with a ':' or a '.'. So 'foo' as a window target will look for
windows and sessions called 'foo', but ':foo' will only look for
windows, and 'foo:' only for sessions. This means the common case of
using an unadorned session as a window target (send -tfoo) should
continue to work, but an explicit window will not get confused with a
session (send -t:foo).


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 05:31:45

Modified files:
	usr.sbin/syslogd: log.c log.h privsep.c syslogd.c syslogd.h 
	                  ttymsg.c 

Log message:
Replace logdebug() with generic log_debug() from log.c.  Implement
log_debugadd() to construct debug message incrementally.
OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 05:43:23

Modified files:
	lang/python/3.5: Makefile distinfo 
	lang/python/3.5/pkg: PLIST-idle PLIST-main PLIST-tests 

Log message:
update to 3.5.3.
more information: https://docs.python.org/3.5/whatsnew/changelog.html#python-3-5-3
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 05:44:11

Modified files:
	sysutils/libesedb: Makefile distinfo 

Log message:
update liesedb to 20170121.
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 05:44:45

Modified files:
	sysutils/libvhdi: Makefile distinfo 

Log message:
update libvhdi to 20170223.
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 05:45:20

Modified files:
	sysutils/libqcow: Makefile distinfo 

Log message:
update libqcow to 20170222.
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 05:56:51

Modified files:
	sysutils/libregf: Makefile distinfo 
	sysutils/libregf/pkg: PLIST 

Log message:
update libregf to 20170130.
ok benoit@.


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/04/05 05:57:58

Modified files:
	usr.sbin/pkg_add/OpenBSD: Delete.pm 

Log message:
For a non-interactive attempt to pkg_delete a firmware package, print a
message advising use of "fw_update -d" rather than saying "ok" and doing
nothing. (pkg_delete intentionally makes it hard to uninstall firmware
to prevent surprises when cleaning a machine).

aja and I were surprised by the "ok" leaving the fw package installed.
suggestion from espie to mention fw_update -d in the message.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/05 06:08:20

Added files:
	infrastructure/bin: extract-dependencies 

Log message:
resurrect extract-dependencies, it's actually a helper for show-required-by
which I forgot. found out by kili@
(no real impact for release since ports work should happen on current anyway)


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/05 06:14:18

Modified files:
	usr.bin/tmux   : key-bindings.c 

Log message:
Add Home and End for copy mode.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 06:19:02

Modified files:
	devel/p5-Test-Regexp: Makefile distinfo 

Log message:
update p5-Test-Regexp to 2017040101


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 06:20:53

Modified files:
	converters/p5-Cpanel-JSON-XS: Makefile distinfo 

Log message:
update p5-Cpanel-JSON-XS to 3.0231


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 06:41:34

Modified files:
	textproc/p5-Regexp-Common: Makefile distinfo 

Log message:
update p5-Regexp-Common to 2017040401


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/05 07:29:10

Modified files:
	security/py-artifacts: Makefile distinfo 

Log message:
update to 20161022.
inputs and ok benoit@.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/05 07:35:18

Modified files:
	sys/net        : if_pfsync.c rtsock.c 
	sys/netinet    : igmp.c ip_carp.c ip_divert.c ip_icmp.c 
	                 ip_input.c ip_ipip.c tcp_usrreq.c udp_usrreq.c 
	sys/netinet6   : icmp6.c 

Log message:
When building counter memory in preparation to copy to userland, always
zero the buffers first.  All the current objects appear to be safe,
however future changes might introduce structure pads.
Discussed with guenther, ok bluhm


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 07:36:34

Modified files:
	security/botan : Makefile distinfo 

Log message:
update botan to 1.10.16
CVE-2017-2801


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/05 07:38:18

Modified files:
	usr.sbin/rtadvd: dump.c 

Log message:
Don't rely on asprintf setting pointer to NULL on failure.

ok millert@ deraadt@ tom@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/05 08:39:39

Modified files:
	sysutils/packer: Makefile distinfo 

Log message:
Update to packer-1.0.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/05 08:40:56

Modified files:
	usr.sbin/dhcrelay: bpf.c dhcpd.h packet.c 

Log message:
Rework the packet.c code for decoding and assembling DHCP messages.

This code suffered from many years of incremental improvements, fix it to:
- verify available buffer space in all cases and don't just trust the caller
- have an API where you always pass the full buffer length and absolute offset
- use consistent types for lengths and buffer offsets (int vs. size_t, ssize_t)
- don't just ignore errors, return and fail when something is wrong

OK rzalamena@


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/05 08:43:14

Modified files:
	usr.sbin/dhcrelay: Makefile 

Log message:
We can enable many -W compiler warnings now.

OK rzalamena@


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/05 08:48:48

Modified files:
	usr.sbin/rtadvd: rtadvd.c 

Log message:
sendmsg returns a signed value, fix error check

ok millert@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/05 08:50:05

Modified files:
	usr.sbin/rtadvd: rtadvd.c 

Log message:
Unify variables used for recvmsg/sendmsg

ok millert@ deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/05 08:52:13

Modified files:
	net/samba      : Tag: OPENBSD_6_0 Makefile 
	net/samba/patches: Tag: OPENBSD_6_0 patch-source3_smbd_open_c 
Added files:
	net/samba/patches: Tag: OPENBSD_6_0 
	                   patch-source3_smbd_filename_c 
	                   patch-source3_smbd_proto_h 
	                   patch-source3_smbd_vfs_c 

Log message:
Fix a regression introduced by the fix for CVE-2017-2619

* BUG 12721: Fix regression with "follow symlinks = no"
Patch adapted from samba-4.4.13.  Tests & ok Ian


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 09:16:13

Modified files:
	usr.sbin/syslogd: syslogd.c 

Log message:
Replace all combinations of logerror() and die() with log.c fatal().
Internally syslogd's fatal() calls die() to do cleanup if necessary.
Also replace all err(3) after log_init() with fatal().
OK millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/05 09:57:11

Modified files:
	usr.bin/systat : engine.c 

Log message:
Clamp size to length if snprintf ever indicates overflow
w/ millert


CVSROOT:	/cvs
Module name:	www
Changes by:	mikeb@cvs.openbsd.org	2017/04/05 10:18:14

Modified files:
	.              : 61.html 

Log message:
Mention support for Intel X550


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/05 12:15:43

Modified files:
	lib/libc/sys   : mmap.2 

Log message:
Not all devices support mmap, document EINVAL in this case too.
OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/05 12:22:31

Modified files:
	sbin/dhclient  : dhcpd.h dispatch.c kroute.c 

Log message:
Shuffle sendhup() into dispatch.c, the only place it is used.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 13:34:49

Modified files:
	usr.sbin/syslogd: syslogd.c 

Log message:
Replace logerror() functions with generic log_warn() from log.c.
Make messages a bit more consistent.  Note that the new function
supports format strings.  Replace some log_debug() with log_warn().
OK millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/05 13:43:15

Modified files:
	net/libmaxminddb: Makefile distinfo 

Log message:
Update GeoLite2 databases to latest version.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/05 13:45:44

Modified files:
	sysutils/udfclient: Makefile distinfo 

Log message:
Update to udfclient 0.8.8. From Josh Grosse (MAINTAINER).


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/05 13:57:22

Modified files:
	emulators      : Makefile 
Removed files:
	emulators/spectemu: Makefile distinfo 
	emulators/spectemu/patches: patch-Makefile_in patch-README 
	                            patch-spmain_c patch-spsound_c 
	emulators/spectemu/pkg: DESCR PLIST 

Log message:
Remove emulators/spectemu.

The version we have in ports (0.94) is from 1998, and has been marked as
BROKEN since July 2015. The most recent release (0.99.3) is from 2004.

We have an up to date port for emulators/fuse, which emulates the 48K
and more, and is still being maintained.

OK jca@, sthen@, benoit@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/05 14:03:38

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register removal of spectemu.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/05 15:29:57

Modified files:
	x11/st         : Makefile 
	x11/st/patches : patch-config_mk 
Added files:
	x11/st/patches : patch-st_c 

Log message:
Add pledge() to st. Patch by tb@ and semarie@.
OK jung@ (MAINTAINER) gsoares@.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 15:30:04

Modified files:
	usr.sbin/syslogd: syslogd.c 

Log message:
The function logmsg() was used to generate local messages and to
process incoming messages.  Split this functionality into log_info()
and logline().  Sort the parameters like they appear in the syslog
line.
OK millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 15:55:31

Modified files:
	usr.sbin/syslogd: syslogd.c syslogd.h ttymsg.c 

Log message:
As we did not have nice log functions before, ttymsg() had to return
the error string.  Log the message when the error happens and make
the function void.
OK millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 16:15:35

Modified files:
	usr.sbin/syslogd: syslogd.c syslogd.h 

Log message:
The global variable Startup is not used anymore and can be deleted.
The functionality has moved into log_setdebug().
OK millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/05 16:27:03

Modified files:
	sys/netinet    : ip_ipcomp.c 

Log message:
Replace 2 bcopy()'s with a simple assignment as both variables are
properly aligned malloc(9)d data and sockaddr_union fields.  While here,
convert the remaining bcopy() to memmove().

with and ok @bluhm


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/05 16:32:14

Modified files:
	regress/usr.sbin/syslogd: args-client-tcp-close.pl 
	                          args-client-tcp-error.pl 
	                          args-client-tcp.pl 
	                          args-client-tls-close.pl 
	                          args-client-tls-error.pl 
	                          args-client-tls-fake.pl 
	                          args-client-tls-tcp.pl 
	                          args-client-tls.pl 
	                          args-dropped-sighup-tcp.pl 
	                          args-dropped-sighup-tls.pl 
	                          args-dropped-sigterm-tcp.pl 
	                          args-dropped-sigterm-tls.pl 
	                          args-dropped-tcp.pl 
	                          args-dropped-tls.pl args-error.pl 
	                          args-fdexhaustion-tcp.pl 
	                          args-maxhostlen.pl 
	                          args-maxloghostlen.pl 
	                          args-maxportlen.pl 
	                          args-proto-invalid.pl 
	                          args-proto-udp4-host6.pl 
	                          args-proto-udp4-only6.pl 
	                          args-proto-udp6-host4.pl 
	                          args-proto-udp6-only4.pl 
	                          args-rsyslog-client-tcp.pl 
	                          args-rsyslog-client-tls.pl 
	                          args-server-tcp-close.pl 
	                          args-server-tcp-error.pl 
	                          args-server-tcp-reconnect.pl 
	                          args-server-tls-client-fake.pl 
	                          args-server-tls-close.pl 
	                          args-server-tls-error.pl 
	                          args-server-tls-reconnect.pl 
	                          args-server-tls-tcp.pl args-sigterm.pl 
	                          args-sync-tcp.pl 
	                          args-tls-cafile-default.pl 
	                          args-tls-cafile-empty.pl 
	                          args-tls-cafile-fake.pl 
	                          args-tls-cafile-noexist.pl 
	                          args-tls-cafile-toobig.pl 
	                          args-tls-cert-empty.pl 
	                          args-tls-cert-noexist.pl 
	                          args-tls-cipher-null.pl 
	                          args-tls-host-bad.pl 
	                          args-tls-key-empty.pl 
	                          args-tls-key-noexist.pl 

Log message:
Syslogd's debug and error messages have changed a bit, adapt test.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/05 16:45:21

Modified files:
	sys/dev/usb    : uaudio.c usb_subr.c 

Log message:
3 more mallocarray() uses


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/05 20:11:08

Modified files:
	sys/netinet6   : ip6_input.c mld6.c 

Log message:
Convert bcopy to memcpy as the memory does not overlap.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/05 21:15:29

Modified files:
	sys/dev/sdmmc  : sdhc.c sdmmc.c sdmmc_mem.c sdmmc_scsi.c 

Log message:
add sizes to free() calls
ok dhill


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/04/05 21:49:40

Modified files:
	databases/postgresql: Tag: OPENBSD_6_0 Makefile distinfo 
	databases/postgresql/pkg: Tag: OPENBSD_6_0 PLIST-docs 

Log message:
Reliability update to 9.5.6


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/05 22:48:54

Modified files:
	sys/dev/usb    : uchcom.c ucycom.c uslhcom.c 

Log message:
Unify a few attach-time patterns between usb *com drivers, and remove
extra zero'ing of variables not needed because softc is pre-zero'd.
ok jsg


CVSROOT:	/cvs
Module name:	www
Changes by:	jsg@cvs.openbsd.org	2017/04/05 23:37:39

Modified files:
	.              : arm64.html 

Log message:
mention the 'setenv boot_targets' workaround for rpi3


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/06 01:07:28

Modified files:
	sys/dev/sdmmc  : sdmmc.c 

Log message:
remove stray character in previous that broke the build


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/06 01:12:21

Modified files:
	mail/mozilla-thunderbird/patches: 
	                                  patch-mozilla_js_src_jit_ProcessExecutableMemory_cpp 
Removed files:
	mail/mozilla-thunderbird/patches: 
	                                  patch-mozilla_gfx_skia_moz_build 
	                                  patch-mozilla_gfx_skia_skia_src_opts_SkBitmapProcState_opts_SSSE3_cpp 
	                                  patch-mozilla_js_src_jit_ExecutableAllocator_h 
	                                  patch-mozilla_js_src_jit_Lowering_cpp 

Log message:
Remove patches which were supposed to be removed, and unfuck other
patches. *mumbles something about cvs*
Noticed by nigel@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 01:42:25

Modified files:
	textproc/highlight: Makefile distinfo 
	textproc/highlight/pkg: PLIST 

Log message:
Update to highlight-3.36.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/06 02:01:30

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.36.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/06 02:01:46

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.72.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 02:11:20

Modified files:
	.              : 61.html 

Log message:
vmm/vmd are new in 6.1, so tweak some wording to reflect that

input/ok reyk


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/06 02:16:26

Modified files:
	www/py-bokeh   : Makefile distinfo 
	www/py-bokeh/pkg: PLIST 

Log message:
Update to py-bokeh-0.12.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/06 02:23:56

Modified files:
	x11/dbus       : Makefile distinfo 

Log message:
Update to dbus-1.10.18.


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/06 02:39:47

Modified files:
	lib/libc/stdlib: malloc.c 

Log message:
first print size in meta-data then supplied arg size when an inconsistency is
detected wrt recallocarray()


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/06 02:48:30

Modified files:
	sysutils/consul: Makefile distinfo 

Log message:
Update to consul-0.8.0.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 02:50:07

Modified files:
	.              : 61.html 

Log message:
hoist vmm/vmd over wifi improvements. add a few full stops while there.

suggested by deraadt and stsp


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 02:57:25

Modified files:
	devel/p5-Config-Grammar: Makefile distinfo 

Log message:
Update to p5-Config-Grammar-1.12.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 03:14:25

Modified files:
	devel/p5-Data-Dump-Streamer: Makefile distinfo 

Log message:
Update to p5-Data-Dump-Streamer-2.40.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/06 03:28:29

Modified files:
	lib/libcxxabi  : Makefile 

Log message:
Compile C code with -funwind-tables.  Fixes exception handling on architectures
that don't generate .eh_frame info by default such as arm64.

ok jsg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 03:46:01

Modified files:
	devel/p5-Data-GUID: Makefile distinfo 

Log message:
Update to p5-Data-GUID-0.049.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 03:55:01

Modified files:
	devel/p5-Date-Extract: Makefile distinfo 

Log message:
Update to p5-Date-Extract-0.06.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/06 04:21:30

Modified files:
	databases/py-sqlparse: Makefile 
	databases/py-sqlparse/pkg: PLIST 
	devel/py-xlsxwriter: Makefile 
	devel/py-xlsxwriter/pkg: PLIST 
	security/py-artifacts: Makefile 
	security/py-artifacts/pkg: PLIST 

Log message:
if py and py3 conflict so be it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/06 04:23:20

Modified files:
	x11/kde/i18n3  : Makefile.inc 
	x11/kde/i18n3/pkg: PLIST-af PLIST-ar PLIST-az PLIST-be PLIST-bg 
	                   PLIST-bn PLIST-br PLIST-bs PLIST-ca PLIST-cs 
	                   PLIST-csb PLIST-cy PLIST-da PLIST-de PLIST-el 
	                   PLIST-en_GB PLIST-eo PLIST-es PLIST-et 
	                   PLIST-eu PLIST-fa PLIST-fi PLIST-fr PLIST-fy 
	                   PLIST-ga PLIST-gl PLIST-he PLIST-hi PLIST-hr 
	                   PLIST-hsb PLIST-hu PLIST-is PLIST-it PLIST-ja 
	                   PLIST-kk PLIST-km PLIST-ko PLIST-lt PLIST-lv 
	                   PLIST-mk PLIST-mn PLIST-ms PLIST-nb PLIST-nds 
	                   PLIST-nl PLIST-nn PLIST-pa PLIST-pl PLIST-pt 
	                   PLIST-pt_BR PLIST-ro PLIST-ru PLIST-rw 
	                   PLIST-se PLIST-sk PLIST-sl PLIST-sr 
	                   PLIST-sr@Latn PLIST-ss PLIST-sv PLIST-ta 
	                   PLIST-te PLIST-tg PLIST-th PLIST-tr PLIST-uk 
	                   PLIST-uz PLIST-uz@cyrillic PLIST-vi PLIST-wa 
	                   PLIST-zh_CN PLIST-zh_TW 

Log message:
kde4 barfing


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/06 04:24:26

Modified files:
	devel/arm-elf/newlib: Makefile 
	devel/arm-elf/newlib/pkg: PLIST 
	devel/arm-none-eabi/newlib: Makefile 
	devel/arm-none-eabi/newlib/pkg: PLIST 

Log message:
license file ? fine. Just make sure it's in a specific dir so ports don't
conflict


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/06 04:25:21

Modified files:
	devel/kf5/baloo: Makefile 
	devel/kf5/baloo/pkg: PLIST 

Log message:
naming similar ports differently is dubious


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/06 04:26:15

Modified files:
	lang/gcc/4.6   : Makefile 
	lang/gcc/4.6/pkg: PLIST-c++ PLIST-f95 PLIST-objc 

Log message:
lots of stuff that conflicts with 4.9 and doesn't say so.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/06 04:27:14

Modified files:
	x11/kde4/baloo : Makefile 
	x11/kde4/baloo/pkg: PLIST 

Log message:
conflict with kf5-baloo


CVSROOT:	/cvs
Module name:	src
Changes by:	bcook@cvs.openbsd.org	2017/04/06 04:36:12

Modified files:
	lib/libcrypto  : Tag: OPENBSD_6_1 opensslv.h 

Log message:
bump version for stable release


CVSROOT:	/cvs
Module name:	src
Changes by:	bcook@cvs.openbsd.org	2017/04/06 04:38:24

Modified files:
	lib/libcrypto  : opensslv.h 

Log message:
bump version for new development branch


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 05:11:30

Added files:
	faq            : upgrade61.html cwm-migrate-config.pl 

Log message:
add 6.1 upgrade guide. the release cycle was very long and lots of things
changed. accordingly, this page is huge...

thanks to tj, sthen and okan for their input


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 05:13:02

Modified files:
	faq            : upgrade60.html 

Log message:
hook up upgrade61.html


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 05:19:41

Modified files:
	faq            : current.html 

Log message:
roll for the 6.2 release cycle


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 05:22:51

Modified files:
	faq            : upgrade61.html 

Log message:
fix an html tag


CVSROOT:	/cvs
Module name:	ports
Changes by:	feinerer@cvs.openbsd.org	2017/04/06 05:26:00

Modified files:
	print/gl2ps    : Makefile distinfo 

Log message:
Update to GL2PS 1.4.0

"go ahead and commit" pirofti@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/06 05:42:21

Modified files:
	security/nss   : Makefile distinfo 

Log message:
Bugfix update to nss 3.29.4.

https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.29.4_release_notes


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 05:43:14

Modified files:
	devel/p5-Time-Progress: Makefile distinfo 

Log message:
Update to p5-Time-Progress-2.12.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/06 05:47:45

Modified files:
	devel/p5-Test-Without-Module: Makefile distinfo 

Log message:
Update to p5-Test-Without-Module-0.19.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/06 06:12:21

Modified files:
	x11/ratpoison  : Makefile distinfo 
	x11/ratpoison/pkg: PLIST 

Log message:
Update to ratpoison-1.4.9

Now with Xrandr support (finally...)


CVSROOT:	/cvs
Module name:	src
Changes by:	gsoares@cvs.openbsd.org	2017/04/06 06:20:48

Modified files:
	usr.sbin/iscsid: log.c 
	usr.sbin/relayd: ca.c 

Log message:
fix format string found by clang -Wformat-security
OK deraadt millert


CVSROOT:	/cvs
Module name:	src
Changes by:	gsoares@cvs.openbsd.org	2017/04/06 06:22:32

Modified files:
	usr.sbin/ldapd : parse.y 

Log message:
use memset() instead of bzero()
OK jmatthew


CVSROOT:	/cvs
Module name:	www
Changes by:	bluhm@cvs.openbsd.org	2017/04/06 06:36:29

Modified files:
	.              : 61.html 

Log message:
More syslog and sensorsd features.


CVSROOT:	/cvs
Module name:	ports
Changes by:	gsoares@cvs.openbsd.org	2017/04/06 06:46:12

Modified files:
	devel/cppcheck : Makefile distinfo 

Log message:
update to cppcheck-1.78


CVSROOT:	/cvs
Module name:	ports
Changes by:	gsoares@cvs.openbsd.org	2017/04/06 06:54:35

Modified files:
	devel/cppcheck : Makefile 

Log message:
tidy up 1 line longer than 80 chars in Makefile
found by and thanks /usr/ports/infrastructure/bin/portcheck


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 07:43:46

Modified files:
	faq            : upgrade60.html 

Log message:
use 6.0 manuals


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 07:48:56

Modified files:
	faq            : upgrade61.html 

Log message:
use 6.1 manuals (and 6.0 for pkg.conf)


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/06 08:25:18

Modified files:
	sys/netinet    : ip_spd.c ipsec_input.c ipsec_output.c 

Log message:
Replace bcopy with a simple assignment where both variables are
properly aligned and sockaddr_union fields, or with memcpy when
the memory doesn't overlap.

OK bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/06 08:55:43

Modified files:
	usr.sbin/syslogd: log.c 

Log message:
Add the LOG_SYSLOG facility to local messages.
OK millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/06 09:25:24

Modified files:
	sys/arch/octeon/dev: octeon_intr.c 
	sys/arch/octeon/include: intr.h 

Log message:
Extend the fdt interrupt API a little.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/06 09:29:47

Modified files:
	sys/arch/octeon/dev: octmmc.c 

Log message:
Use the correct interrupt disestablish routine.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/06 09:30:12

Modified files:
	libexec/spamd  : spamd.c 

Log message:
fix missing \ on \n, spotted by Edgar Pettijohn


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/06 10:56:44

Modified files:
	regress/usr.sbin/syslogd: args-selector.pl funcs.pl 
Added files:
	regress/usr.sbin/syslogd: args-selector-syslog.pl 

Log message:
Check that local syslog messages have the the expected priority.


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/06 11:00:52

Modified files:
	lib/libc/stdlib: malloc.3 

Log message:
Consistentcy between nmembers and size order. From Christopher Hettrick;
ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/06 11:00:53

Modified files:
	sys/dev/sdmmc  : sdmmc_io.c sdmmc_scsi.c 

Log message:
Sizes for the remaining free() calls, and use mallocarray()
ok visa


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/06 11:28:37

Modified files:
	.              : 61.html 

Log message:
remove an XXX: comment


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/06 11:32:03

Modified files:
	faq            : faq15.html 

Log message:
don't mention calling pkg_create directly. use ports infrastructure instead.
minor wording tweak while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/06 11:33:39

Modified files:
	sbin/wsconsctl : wsconsctl.8 wsconsctl.c 

Log message:
document -=; while here, simplify things so that we don;t add a separate
usage every time we think of a new way to use this;

-= bits from anton lindqvist
ok tb tom


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/06 11:36:00

Modified files:
	share/man/man4 : inet6.4 

Log message:
shuffle for a saner read; help/ok bluhm


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/06 11:36:18

Modified files:
	sys/netinet    : ip_esp.c ip_mroute.c 

Log message:
Convert bcopy to memcpy where the memory does not overlap, otherwise,
use memmove.  While here, change some previous conversions to a simple
assignment.

ok deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	reyk@cvs.openbsd.org	2017/04/06 11:54:43

Modified files:
	.              : 61.html 

Log message:
Add notes about iked

OK deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	reyk@cvs.openbsd.org	2017/04/06 12:06:15

Modified files:
	.              : 61.html 

Log message:
Missing "d" in iked man link.

Pointed out by tj


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/06 12:07:13

Modified files:
	usr.sbin/vmd   : vmd.c vmd.h vmm.c 
	usr.sbin/vmctl : main.c vmctl.c vmctl.h 

Log message:
Do not expose vmm(4) VM IDs to the user, use vmd(8)'s IDs instead.

Each VM has two IDs: one from the kernel (vmm) and a different one
from userland (vmd).  The vmm ID is not consistent and incremented on
every boot during runtimg of the host system.  The vmd ID remains the
same during the lifetime of a configured VM, even after reboots.
Configured VMs will even get and keep their IDs when the configuration
is loaded.  This is more what users expect.

Pointed out and tested by otto@

OK deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 12:23:12

Modified files:
	.              : 61.html 

Log message:
missing punctuation and a typo

from rob pierce


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/06 12:25:38

Modified files:
	lib/libcrypto/bio: bio.h 

Log message:
trailing ; on end of macro definition is wrong; ok guenther


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/06 12:55:42

Modified files:
	sbin/bioctl    : bioctl.8 

Log message:
less chatty EXAMPLES; from anton lindqvist


CVSROOT:	/cvs
Module name:	src
Changes by:	natano@cvs.openbsd.org	2017/04/06 13:09:45

Modified files:
	usr.sbin/makefs: cd9660.c cd9660.h 
	usr.sbin/makefs/cd9660: cd9660_write.c 

Log message:
Remove the CD9660MAXPATH define. It was used to construct the path for
opening the file, so PATH_MAX makes more sense here. While there change
the code to do two less allocations per file.

ok deraadt


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/06 13:15:24

Modified files:
	faq            : upgrade61.html 

Log message:
replace two occurrences of i386 with amd64


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/06 14:34:07

Modified files:
	audio/opus-tools: Makefile distinfo 
Removed files:
	audio/opus-tools/patches: patch-configure patch-src_audio-in_c 

Log message:
Update to 0.1.10.  No list of changes available, but looks like bug fixes.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/06 15:12:06

Modified files:
	usr.bin/doas   : doas.h env.c 

Log message:
prepenv can take a const rule


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/06 15:14:12

Modified files:
	usr.bin/doas   : doas.c 

Log message:
a little const here and there to prevent rules from changing


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/06 15:16:14

Modified files:
	usr.sbin/rebound: rebound.c 

Log message:
replace some long if/else chains with a switch


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/06 15:35:22

Modified files:
	usr.sbin/vmd   : parse.y 

Log message:
"kernel" got renamed to "boot" in vm.conf but I didn't commit the parse.y bits.

Found by Pontus Lundkvist

OK deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/06 16:11:23

Modified files:
	databases/mongodb: Makefile distinfo 
	databases/mongodb/pkg: PLIST 

Log message:
update to mongodb-3.2.12, from Andrew Aldridge (plus remove REVISION)


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/06 16:41:39

Modified files:
	sbin/dhclient  : Makefile 

Log message:
Inspired by recent dhcrelay(8) changes add some stricter CFLAGS. No code
changes needed (yet).


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/06 22:18:45

Modified files:
	.              : 61.html 

Log message:
pkg counts (a few are estimates for now)


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/06 22:45:24

Modified files:
	sys/dev/acpi   : acpicpu.c 

Log message:
Simplify the size calculation for memset()

From Anton Lindqvist (anton.lindqvist(at)gmail.com)


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/06 22:48:44

Modified files:
	sys/sys        : siginfo.h 

Log message:
si_addr should be of type void *, not char *

From Andrew Aldridge (i80and(at)foxquill.com)
ok millert@ mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/07 00:04:45

Modified files:
	textproc/uncrustify: Makefile distinfo 
	textproc/uncrustify/pkg: PLIST 

Log message:
update uncrustify to 0.64.
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/07 01:07:19

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.37.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/07 01:07:32

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.74.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/07 01:12:22

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/patches: 
	                                   patch-platform_gsutil_gslib_commands_config_py 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-150.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/07 01:24:01

Modified files:
	benchmarks/speedtest-cli: Makefile distinfo 

Log message:
Update speedtest-cli to 1.0.3.

OK benoit@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/07 01:44:40

Modified files:
	www/libcroco   : Makefile distinfo 
	www/libcroco/pkg: PLIST 

Log message:
Update to libcroco-0.6.12.
- drop the gettext MODULE


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/07 02:48:30

Modified files:
	lib/libtls     : tls_internal.h 

Log message:
Use uint8_t instead of u_int8_t - for consistency and to make things easier
for portable.

From Raphael Hittich.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/07 05:55:43

Modified files:
	security/nss   : Makefile distinfo 

Log message:
Update to 3.29.5: '3.29.4 has been deleted, because it identified itself
with an incorrect version number'

prodded by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/07 07:30:43

Modified files:
	sys/arch/octeon/include: autoconf.h 
	sys/arch/octeon/octeon: machdep.c 

Log message:
Make SoC version available in a simple form.


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/07 07:51:35

Modified files:
	.              : plus.html plus20.html plus21.html plus22.html 
	                 plus23.html plus24.html plus25.html plus26.html 
	                 plus27.html plus28.html plus29.html plus30.html 
	                 plus31.html plus32.html plus33.html plus34.html 
	                 plus35.html plus36.html plus37.html plus38.html 
	                 plus39.html plus40.html plus41.html plus42.html 
	                 plus43.html plus44.html plus45.html plus46.html 
	                 plus47.html plus48.html plus49.html plus50.html 
	                 plus51.html plus52.html plus53.html plus54.html 
	                 plus55.html plus56.html plus57.html plus58.html 
	                 plus59.html plus60.html 
Added files:
	.              : plus61.html 

Log message:
rotate plus files


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/07 08:17:38

Modified files:
	sys/arch/mips64/include: cpu.h 
	sys/arch/mips64/mips64: cpu.c 
	sys/arch/octeon/include: octeon_model.h 
	sys/arch/octeon/octeon: machdep.c 

Log message:
Add prid for CN72xx/CN73xx.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 08:25:10

Modified files:
	sysutils/sysclean: Makefile distinfo 
	sysutils/sysclean/pkg: DESCR 

Log message:
update to sysclean-2.2, from semarie


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 08:56:24

Modified files:
	security/letsencrypt/py-acme: distinfo 
	security/letsencrypt/client: distinfo 
	security/letsencrypt/client/patches: patch-examples_cli_ini 
	security/letsencrypt/client/pkg: PLIST 

Log message:
update to certbot-0.13.0


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/07 09:03:01

Modified files:
	sbin/dhclient  : dhclient.c dhcpd.h options.c 

Log message:
Simply decoding of domain search option. No intentional functional
change.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/07 09:36:16

Modified files:
	usr.sbin/syslogd: syslogd.c 

Log message:
Incoming TCP connections from clients fill the files of a log server.
A log client reconnects at every SIGHUP.  Write these accept and
close messages with debug priority, then they can be turned on in
syslog.conf.  Default is off.
While there, move a debug message and set the priority of the exit
message explicitly to error.
OK mpf@ millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/07 09:49:46

Modified files:
	regress/usr.sbin/syslogd: args-selector-syslog.pl 
	                          args-sighup-config.pl args-sighup.pl 
	                          funcs.pl 

Log message:
Adapt test to new syslogd's local message priority.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/07 10:21:53

Modified files:
	security/gnupg2: Makefile distinfo 
	security/gnupg2/pkg: PLIST 
Added files:
	security/gnupg2/patches: patch-doc_Makefile_in 
Removed files:
	security/gnupg2/patches: patch-agent_gpg-agent_c 
	                         patch-common_init_c 
	                         patch-dirmngr_dirmngr_c 
	                         patch-scd_scdaemon_c 

Log message:
Update gnupg2 to 2.1.20.

OK pea@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/07 11:33:45

Modified files:
	regress/lib/libtls/gotls: tls.go 

Log message:
In ssl.h TLS 1.0 is called TLSv1.  Adapt name in test to make it pass.
OK jsing@


CVSROOT:	/cvs
Module name:	www
Changes by:	gilles@cvs.openbsd.org	2017/04/07 11:38:52

Modified files:
	.              : 61.html 

Log message:
add the opensmtpd bit


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 12:51:52

Modified files:
	security/letsencrypt: Makefile.inc 

Log message:
update to certbot-0.13.0 (missed part of the commit)


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/04/07 13:55:06

Modified files:
	textproc/p5-ack: Makefile distinfo 
	textproc/p5-ack/pkg: PLIST 

Log message:
Update textproc/p5-ack to 2.18.

Feedback from Giannis Tsaraias and bluhm@
OK bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/04/07 14:26:22

Modified files:
	devel/src      : Makefile distinfo 

Log message:
Update devel/src to 1.13

OK aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/04/07 14:27:58

Modified files:
	security/py-M2Crypto: Makefile distinfo 
	security/py-M2Crypto/pkg: PLIST 

Log message:
Update security/py-M2Crypto to 0.26.0

OK aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 14:59:49

Modified files:
	devel/libexecinfo: Makefile 

Log message:
- only do -Wl,--export-dynamic in LDFLAGS not CFLAGS, removes a warning on
gcc, removes a build failure with -Werror on clang.

- add a do-test target.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/07 15:00:42

Modified files:
	distrib/miniroot: install.sub 

Log message:
Extend the information shown by diskinfo() to help to identify
disks. Extract the disk information enclosed in <> and the NAA
from the last matching dmesg line. Useful if there are multiple
identically sized disk of the same type.

Suggested by jirib at devio dot us
Discussed with deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 15:08:43

Modified files:
	graphics/darktable: Makefile distinfo 

Log message:
update to darktable-2.2.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	jeremy@cvs.openbsd.org	2017/04/07 15:14:17

Modified files:
	lang/ruby/2.3  : Makefile distinfo 
	lang/ruby/2.3/pkg: PLIST-ri_docs 

Log message:
Update to ruby 2.3.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 15:32:20

Modified files:
	telephony/asterisk: Makefile distinfo 
	telephony/asterisk/patches: patch-Makefile patch-configure_ac 
	telephony/asterisk/pkg: PLIST-main 
Added files:
	telephony/asterisk/patches: patch-main_libasteriskssl_c 
	                            patch-main_tcptls_c 
Removed files:
	telephony/asterisk/patches: patch-channels_chan_skinny_c 
	                            patch-main_http_c 
	                            patch-main_manager_c 

Log message:
update to asterisk-13.15.0.

add various OPENSSL_VERSION_NUMBER patches now that asterisk supports
openssl 1.1:

- we don't have openssl 1.1's SSL_is_server yet, so use the old check
for ssl->server instead

- we do still need the hack to avoid initing multiple times which is
no longer needed in openssl 1.1


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/07 15:44:07

Modified files:
	etc            : netstart 
	distrib/miniroot: install.sub 

Log message:
Align comments of stripcom() function in netstart and install.sub.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 15:55:11

Modified files:
	databases/py-sqlparse: Makefile 
	databases/py-sqlparse/pkg: PLIST 

Log message:
de-conflict


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 15:56:30

Modified files:
	devel/py-xlsxwriter: Makefile 
	devel/py-xlsxwriter/pkg: PLIST 

Log message:
de-conflict


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/07 16:01:11

Modified files:
	security/py-artifacts: Makefile 
	security/py-artifacts/pkg: PLIST 

Log message:
de-conflict


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/07 16:02:29

Modified files:
	distrib/miniroot: install.sub 

Log message:
Sync variable names with netstart version of stripcom().
Use $_file variable instead of $1 with the wile-loop.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/07 16:15:17

Modified files:
	etc            : netstart 
	distrib/miniroot: install.sub 

Log message:
Align comments of ifstart() function in netstart and install.sub.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/07 16:53:25

Modified files:
	etc            : netstart 
	distrib/miniroot: install.sub 

Log message:
Minimize differences in ifstart() function between netstart and
install.sub which makes it easier to spot changes in the future.

- comments and formatting
- quotes on assignments are not needed (netstart)
- remove stray space in test (netstart)
- use $file variable with while-loop (netstart)
- although valid, instead of i use $i in arithmetic test (install.sub)

OK krw@, tb@
Looks good deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/07 18:31:36

Modified files:
	net/py-ftpdlib : Makefile distinfo 
	net/py-ftpdlib/pkg: PLIST 

Log message:
Update to pyftpdlib 1.5.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/07 19:20:10

Modified files:
	sys/dev/acpi   : acpi.c acpivar.h dsdt.c 

Log message:
Two prototypes for acpi_maptable; merge to one place


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/07 20:57:25

Modified files:
	sys/dev/i2c    : ihidev.c 
	sys/dev/ic     : aac.c ami.c i82365.c nvme.c rtw.c 
	sys/dev/pci    : if_nxe.c if_wpi.c if_wpivar.h mfii.c mpii.c 
	sys/dev/usb    : ehci.c if_athn_usb.c if_athn_usb.h if_kue.c 
	                 if_kuereg.h if_otus.c if_otusreg.h if_urndis.c 
	                 if_zyd.c if_zydreg.h uaudio.c ubcmtp.c ubsa.c 
	                 uchcom.c ucycom.c udl.c udl.h ugen.c uhid.c 
	                 uhidev.c uhub.c umct.c umidi.c umsm.c uoaklux.c 
	                 uoakrh.c uoakv.c upd.c uplcom.c usb.c usb_mem.c 
	                 usb_subr.c usbdi.c usbdivar.h uslhcom.c usps.c 
	                 uticom.c utrh.c uts.c utwitch.c uvideo.c 
	                 uvscom.c 

Log message:
A pile of sizes to free(9).  In test for a few days in snapshots.
Errors will result in nice clean panic messages so we know what's wrong.
Reviewed by dhill visa natano jsg.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/07 21:29:13

Modified files:
	sys/arch/i386/i386: trap.c 

Log message:
Remove some #if 0 code that dates back to r1.1

Pointed out by Michael W. Bombardieri


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/04/07 21:36:50

Modified files:
	sys/dev/pci    : if_msk.c if_skreg.h 

Log message:
Use ADDR64 opcodes to specify 64bit DMA addresses for all buffers.  This
consumes two ring entries per segment, halving the effective size of the
rings, but keeps things simple.  This is required for the onboard nic
on the Overdrive 1000 to work.

ok kettenis@, tested on i386 by jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/07 22:06:01

Modified files:
	sys/sys        : sensors.h 
	sys/kern       : kern_sensors.c 
	sys/dev/acpi   : acpi.c 

Log message:
Sensors are run as callbacks inside tasks.  During suspend a sensor
could be running inside a driver that will be force-detached, or due
to tsleep end up disrupting the softstate/hardstate contract.  At
suspend time, quisce all these callbacks by waiting for completion.
This issue has never been observed for real, but may be implicated in
suspend/resume failures.
ok kettenis guenther mlarkin


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/07 22:25:48

Modified files:
	sysutils/libolecf: Makefile distinfo 

Log message:
update to 20170129.
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/07 22:26:26

Modified files:
	sysutils/libsmdev: Makefile distinfo 

Log message:
update libsmdev to 20170225.
ok benoit@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/07 22:29:56

Modified files:
	lang/python/3.4: Makefile distinfo 
	lang/python/3.4/pkg: PLIST-main 

Log message:
update python to 3.4.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/07 23:05:21

Modified files:
	devel/afl      : Makefile distinfo 

Log message:
update to afl 2.40b


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/08 00:52:18

Modified files:
	security/py-artifacts: Makefile 
	security/py-artifacts/pkg: PLIST 

Log message:
oops, backout: copy-and-pasto, and I missed the files in share/,
spotted by rpointel


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/08 02:33:05

Modified files:
	etc            : netstart 

Log message:
- localize the if, file and stat variables which also ensures that
variables are not named like commands.
- change test from [] to [[]]

OK tb@ halex@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 03:52:55

Modified files:
	x11/gnome/librsvg: Makefile distinfo 
	x11/gnome/librsvg/patches: patch-configure 
	x11/gnome/librsvg/pkg: PLIST 

Log message:
Update to librsvg-2.40.17.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 04:29:34

Modified files:
	net/glib2-networking: Makefile 
	net/glib2-networking/pkg: DESCR 

Log message:
Tweak/sync COMMENT and DESCR.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 04:39:22

Modified files:
	net/glib2-networking: Makefile 
	net/glib2-networking/pkg: PLIST 

Log message:
Just rm the libtool dot.la files instead of @comment'ing them.
Regen WANTLIB while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/08 04:53:48

Modified files:
	sys/arch/octeon/dev: cn30xxgmx.c cn30xxgmxreg.h 

Log message:
Make network ports work on Shasta.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 05:07:42

Modified files:
	devel/meson    : Makefile distinfo 

Log message:
Update to meson-0.39.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 07:29:22

Added files:
	devel/meson    : meson.port.mk 

Log message:
Add the meson MODULE.
It's still a bit rough around the edges but allows me to build the upcoming
libhttpseverywhere port.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 07:29:37

Modified files:
	share/man/man5 : port-modules.5 

Log message:
Document the devel/meson MODULE.


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/08 08:53:35

Modified files:
	.              : 61.html 

Log message:
add section about openssh, built from 7.4 and 7.5 release notes


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/08 09:07:07

Modified files:
	.              : 61.html 

Log message:
normalize text flow


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/08 09:14:37

Modified files:
	.              : 61.html 

Log message:
lead into vmd section better


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 09:47:13

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.38.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/08 09:47:25

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.75.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/08 11:00:10

Modified files:
	sbin/dhclient  : dhclient.c dhcpd.h options.c 

Log message:
Replace a mess of snprintf() dances with easier to read code using
strlcat(). Shorter, clearer, fewer signed vs unsigned questions.

Shrink static buffer for the string version of an option value from
32K to 8K. Since the string version of the entire lease is constructed
in a 8K buffer, bigger option values are pointless.

Use 8K of the saved space for a static buffer for pretty_print_string()
and use it rather scribbling intermediate values into the final
destination.

No intentional functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/08 12:14:23

Modified files:
	www/py-django/lts: Makefile distinfo 
	www/py-django/lts/pkg: PLIST 

Log message:
update django LTS version to 1.11.
ok benoit, sounds good jasper@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/08 12:21:07

Modified files:
	multimedia/gstreamer1: Makefile.inc 
	audio/openal   : Makefile 

Log message:
Use gcc4 MODULE instead of clang on sparc64 & powerpc

clang fails to build those with 'could not read symbols: Bad value' (cf
http://build-failures.rhaalovely.net/sparc64/2017-03-20/multimedia/gstreamer1/core.log
& ttp://build-failures.rhaalovely.net/sparc64/2017-03-20/audio/openal.log)

Fix only those as they take out a large part of the portstree for 6.1
package builds, but reasonably MODCLANG_ARCHS=* shouldnt be used unless
the compiler has been *really* tested on every platform - or clang
should be marked *BROKEN* on sparc64 & macppc, or those platforms should
be taken out of LLVM_ARCHS.

audio/mpd, textproc/link-grammar, devel/keystone and devel/cbmc are in
the same boat and fail the same.

The problem is probably fixable directly in clang for sparc64, and on
powerpc clang doesnt package anyway for 'relocation truncated to fit:
R_PPC_PLTREL24' errors:
http://build-failures.rhaalovely.net/powerpc/2017-02-16/devel/llvm.log


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/08 12:54:52

Modified files:
	sbin/dhclient  : dhcpd.h options.c 

Log message:
Replace another snprintf() dance with easier to read code using
strlcat(). Shorter, clearer, fewer signed vs unsigned questions.

Use an 8K static buffer for pretty_print_classless() and use it
rather scribbling intermediate values into the final destination.

No intentional functional change.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/08 13:06:04

Modified files:
	usr.sbin/vmd   : i8253.c i8253.h 

Log message:
implement channels 1 and 2 of the legacy PIT.

ok otto, deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/08 13:06:29

Modified files:
	usr.sbin/vmd   : i8259.c 

Log message:
implement nonspecific EOI mode for the legacy PIC

ok deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/08 13:08:18

Modified files:
	usr.sbin/vmd   : virtio.c 

Log message:
change a log message from "warn" to "debug" level, as the condition it is
reporting is not actually a warning.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/08 14:16:04

Modified files:
	sbin/dhclient  : clparse.c conflex.c dhclient.c dhcpd.h kroute.c 
	                 options.c packet.c parse.c 

Log message:
Reduce the overburden of signed vs unsigned comparisons by sprinkling
'int' -> 'unsigned int' (and visa versa) where obvious.

Steal a couple of 'unsigned' -> u_int32_t from reyk@'s dhcrelay
tweaks.

No intentional functional change.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/08 14:36:50

Modified files:
	usr.sbin/syspatch: syspatch.8 

Log message:
use .Em for emphasis, not .Pa


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/04/08 14:53:54

Modified files:
	sys/conf       : GENERIC 

Log message:
re-enable POOL_DEBUG after the release; ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/08 16:31:33

Modified files:
	sys/arch/arm64/dev: ampintc.c 

Log message:
Bring over the changes I made to the armv7 version of this driver such that
interrupts are correctly routed to the boot cpu if that isn't the one
connected to CPU interface zero on the interrupt controller.

ok patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/08 16:38:17

Modified files:
	sys/arch/arm64/dev: pciecam.c 

Log message:
For legacy interrupt use the tag of the topmost bridge to establish the
interrupt.  We already correctly swizzle the pin.

ok patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	gsoares@cvs.openbsd.org	2017/04/08 16:50:42

Modified files:
	games/hunt/hunt: hunt.c 

Log message:
format string is better be literal
OK deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	gsoares@cvs.openbsd.org	2017/04/08 16:59:09

Modified files:
	games/hack     : hack.end.c 

Log message:
snprintf() format string should be literal
avoid compiler silly warnings

sure deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	gsoares@cvs.openbsd.org	2017/04/08 17:39:06

Modified files:
	plan9/plan9port: Makefile distinfo 
Removed files:
	plan9/plan9port/patches: patch-src_cmd_9term_win_c 
	                         patch-src_libdraw_font_c 

Log message:
sync with github
zap patches merged upstream


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/08 20:40:24

Modified files:
	usr.sbin/sasyncd: conf.y 

Log message:
Fix multiple cases of reading past the end of a buffer in the sasyncd(8)
config parser found with afl.

feedback and ok millert@ ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 02:38:30

Modified files:
	devel/pango    : Makefile distinfo 

Log message:
Update to pango-1.40.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 03:06:49

Modified files:
	multimedia/gstreamer1: Makefile.inc 

Log message:
Don't maintain a local list of what should use llvm or gcc4 but insead
make sparc64 and powerpc the explicit exceptions.

discussed with landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 03:13:17

Modified files:
	x11/gtk+3      : Makefile distinfo 

Log message:
Update to gtk+3-3.22.12.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/09 03:13:28

Modified files:
	usr.sbin/httpd : httpd.conf.5 

Log message:
image/svg+xml is a default inbuilt media type.
Pointed out by Anton Lindqvist (anton.lindqvist AT gmail), thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 03:13:37

Modified files:
	security/gnutls: Makefile distinfo 

Log message:
Update to gnutls-3.5.11.


CVSROOT:	/cvs
Module name:	src
Changes by:	natano@cvs.openbsd.org	2017/04/09 03:58:53

Modified files:
	usr.sbin/makefs: cd9660.h 

Log message:
Remove unused #define's and struct.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/09 04:49:17

Modified files:
	devel/libhid   : Makefile 

Log message:
Disable -Werror. The dirty hack (var=var) to avoid an "unused parameter"
warning triggers a "explicitly assigning value of variable .. to itself" with
clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/09 05:03:30

Modified files:
	audio/id3lib   : Makefile 

Log message:
set an autoconf var to permit building without iomanip.h; clang/libc++ arches
don't have it, and it's not actually used anyway.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/09 05:07:42

Added files:
	audio/id3lib/patches: patch-examples_demo_convert_cpp 
	                      patch-examples_demo_copy_cpp 
	                      patch-examples_demo_info_cpp 
	                      patch-examples_demo_tag_cpp 

Log message:
"main(unsigned int argc" -> "main(int argc"


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 05:08:07

Modified files:
	devel/capstone : Makefile 

Log message:
disable silent build


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 05:24:08

Modified files:
	games/solarus/solarus: Makefile distinfo 
	games/solarus/solarus/pkg: PLIST 

Log message:
update to solarus-1.5.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 05:24:24

Modified files:
	sysutils/ansible: Makefile distinfo 
	sysutils/ansible/pkg: PLIST 

Log message:
update to ansible-2.2.2.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 05:25:04

Modified files:
	textproc/p5-XML-NamespaceSupport: Makefile distinfo 

Log message:
update to p5-XML-NamespaceSupport-1.12


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 05:29:08

Log message:
    Import gxml-0.14.2.
    
    GXml is a GObject XML API for GNOME, with DOM4 implementation and Serialization
    framework wrapped around libxml2.
    
    ok jasper@
    
    Status:
    
    Vendor Tag:	ajacoutot
    Release Tags:	ajacoutot_20170409
    
    N ports/textproc/gxml/Makefile
    N ports/textproc/gxml/distinfo
    N ports/textproc/gxml/pkg/DESCR
    N ports/textproc/gxml/pkg/PLIST
    N ports/textproc/gxml/patches/patch-Makefile_in
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 05:29:48

Modified files:
	textproc       : Makefile 

Log message:
+gxml


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 05:30:58

Log message:
    Import glib-openssl-2.50.2.
    
    Network-related giomodule for GLib using openssl.
    
    ok jasper@
    
    Status:
    
    Vendor Tag:	ajacoutot
    Release Tags:	ajacoutot_20170409
    
    N ports/security/glib-openssl/Makefile
    N ports/security/glib-openssl/distinfo
    N ports/security/glib-openssl/pkg/DESCR
    N ports/security/glib-openssl/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 05:31:46

Log message:
    Import libhttpseverywhere-0.4.1.
    
    libhttpseverywhere leverages the power of HTTPSEverywhere
    (https://www.eff.org/https-everywhere) for desktop applications. HTTPSEverywhere
    is a browser plugin that comes with a set of rules that ensure that HTTP is used
    instead of HTTPS only when this is absolutely not circumventable.
    
    ok jasper@
    
    Status:
    
    Vendor Tag:	ajacoutot
    Release Tags:	ajacoutot_20170409
    
    N ports/security/libhttpseverywhere/Makefile
    N ports/security/libhttpseverywhere/distinfo
    N ports/security/libhttpseverywhere/pkg/DESCR
    N ports/security/libhttpseverywhere/pkg/PLIST
    N ports/security/libhttpseverywhere/patches/patch-meson_build
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 05:32:40

Modified files:
	security       : Makefile 

Log message:
+glib-openssl
+libhttpseverywhere


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 05:52:10

Modified files:
	textproc/gxml  : Makefile distinfo 

Log message:
Update to gxml-0.14.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 05:53:44

Modified files:
	misc/rlwrap    : Makefile distinfo 
	misc/rlwrap/patches: patch-Makefile_in patch-filters_Makefile_in 
	misc/rlwrap/pkg: PLIST 

Log message:
update to rlwrap-0.43


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 06:02:47

Modified files:
	sysutils/augeas: Makefile distinfo 
	sysutils/augeas/pkg: PLIST 

Log message:
update to augeas-1.8.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 06:03:20

Added files:
	games/solarus/solarus/patches: patch-gui_CMakeLists_txt 

Log message:
fix packaging (forgot to cvs add)


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 06:16:26

Modified files:
	graphics/clutter/clutter-gst: Makefile distinfo 
	graphics/clutter/clutter-gst/pkg: PLIST 

Log message:
update to clutter-gst-3.0.24


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/09 06:49:11

Modified files:
	net/p5-Chatbot-Eliza: Makefile distinfo 

Log message:
Update to p5-Chatbot-Eliza-1.07.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 08:16:54

Modified files:
	lang/newlisp   : Makefile distinfo 

Log message:
update to newlisp-10.7.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/04/09 08:21:09

Modified files:
	www/goaccess   : Makefile distinfo 

Log message:
Update to goaccess-1.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/09 08:31:44

Modified files:
	regress/lib/libtls/gotls: tls.go 

Log message:
Improve unknown protocol version handling.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/09 08:33:21

Modified files:
	lib/libcrypto/buffer: buf_str.c 

Log message:
Explicitly test for NULL.

ok beck@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/09 08:37:44

Modified files:
	x11/gnome/gdm  : Makefile 

Log message:
CONFIGURE_STYLE=gnu is the default around here.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/09 09:03:54

Modified files:
	lib/libcrypto/buffer: buffer.c 

Log message:
With recallocarray() BUF_MEM_grow() is essentially the same as
BUF_MEM_grow_clean() (the only difference is clearing on internal down
sizing), so make it a wrapper.

ok beck@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/09 09:06:20

Modified files:
	lib/libcrypto/buffer: buffer.c 

Log message:
Simplify/clean up BUF_MEM_grow_clean().

ok beck@


CVSROOT:	/cvs
Module name:	www
Changes by:	jsing@cvs.openbsd.org	2017/04/09 09:30:39

Modified files:
	.              : 61.html 

Log message:
Clarify Curve25519/X25519 support.


CVSROOT:	/cvs
Module name:	www
Changes by:	jsing@cvs.openbsd.org	2017/04/09 09:41:29

Modified files:
	.              : 61.html 

Log message:
Remove mentions of LibreSSL fixes that were for issues introduced in the
same release cycle.


CVSROOT:	/cvs
Module name:	www
Changes by:	jsing@cvs.openbsd.org	2017/04/09 09:47:12

Modified files:
	.              : 61.html 

Log message:
LibreSSL edits.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/09 09:47:18

Modified files:
	sys/kern       : kern_sensors.c 

Log message:
Correct wakeup() dance in sensor_task_work()
Problem noticed by krw


CVSROOT:	/cvs
Module name:	www
Changes by:	jsing@cvs.openbsd.org	2017/04/09 09:58:26

Modified files:
	.              : 61.html 

Log message:
Add softraid crypto bcrypt PBKDF change.


CVSROOT:	/cvs
Module name:	www
Changes by:	jsing@cvs.openbsd.org	2017/04/09 10:17:27

Modified files:
	.              : 61.html 

Log message:
Remove another issue added and fixed between releases.


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 11:57:58

Modified files:
	sys/net        : if_pfsync.c if_vxlan.c 
	sys/netinet    : ip_carp.c ip_output.c 

Log message:
Use mallocarray to allocate multicast group memberships.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:05:17

Modified files:
	sys/dev/wscons : wsemul_vt100.c wsevent.c 

Log message:
Convert some malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:07:19

Modified files:
	sys/dev/ic     : aac.c adw.c ath.c 

Log message:
Convert some malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:09:41

Modified files:
	sys/dev/usb/dwc2: dwc2_hcd.c dwc2_hcdddma.c 

Log message:
Convert some malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:14:39

Modified files:
	sys/uvm        : uvm_swap.c 

Log message:
Convert a malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:15:09

Modified files:
	sys/ntfs       : ntfs_subr.c 

Log message:
Convert a malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:15:32

Modified files:
	sys/net80211   : ieee80211_input.c 

Log message:
Convert a malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/09 12:16:00

Modified files:
	sys/dev/pci    : azalia.c if_dc_pci.c if_nep.c 

Log message:
Convert some malloc(9) to mallocarray(9)

ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/09 12:52:51

Added files:
	devel/protobuf/patches: patch-src_google_protobuf_message_cc 

Log message:
add missing header (istream) to devel/protobuf; unbreaks with clang

this port is overdue an update really..any takers?


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 13:01:35

Modified files:
	sysutils/consul-template: Makefile distinfo 

Log message:
update to consul-template-0.18.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/09 13:11:09

Modified files:
	lang/erlang/19 : Makefile distinfo 
	lang/erlang/19/pkg: PLIST-main PLIST-wx 

Log message:
update to erlang-19.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/09 13:30:09

Modified files:
	infrastructure/bin: check-lib-depends 

Log message:
add some back-substitution functionality to check-lib-depends, to be used
later.

okay sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/09 13:59:43

Modified files:
	sys/dev/pci    : if_nep.c 

Log message:
malloc -> mallocarray; a typo


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/09 14:44:13

Modified files:
	sbin/dhclient  : Makefile conflex.c dhclient.c kroute.c 
	                 options.c parse.c 

Log message:
Seven casts, a couple of tweaks and CFLAGS+=-Wsign-compare for the
win.

No intentional functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/09 15:16:34

Added files:
	devel/ois/patches: patch-demos_FFConsoleDemo_cpp 
	                   patch-demos_OISConsole_cpp 

Log message:
missing headers


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/09 15:18:27

Modified files:
	sysutils/ruby-puppet-lint: Makefile distinfo 
	sysutils/ruby-puppet-lint/pkg: PLIST 

Log message:
Update to 2.2.1, and take MAINTAINER

OK jasper@


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/09 15:32:42

Modified files:
	gnu/usr.bin/binutils/gdb: amd64obsd-tdep.c i386obsd-tdep.c 

Log message:
Sync symbol lists for trap/interrupt frame detection with what ddb(4) uses

ok deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	schwarze@cvs.openbsd.org	2017/04/09 15:46:10

Modified files:
	faq/ports      : specialtopics.html 

Log message:
Jan Stary noticed that calling mandoc "quite stable by now" might
cause fear, uncertainty, and doubt, so delete the useless sentence.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/09 15:47:05

Modified files:
	lib/libcompiler_rt: Makefile 

Log message:
Add a few missing quad-precision support functions on arm64 and reorder the
list to match what's in CMakeLists.txt.

ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/09 19:26:54

Modified files:
	lib/libssl/man : SSL_CTX_sess_number.3 

Log message:
typo fix; from <Jon dot Spillett at oracle dot com>
via OpenSSL commit 7bd27895


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/09 19:46:37

Modified files:
	lib/libssl/man : SSL_CTX_use_certificate.3 

Log message:
pasto; from <Jon dot Spillett at oracle dot com> via OpenSSL commit 3aaa1bd0


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/09 20:15:54

Modified files:
	sys/dev/pci    : if_msk.c 

Log message:
Attempt to map msk(4) interrupt via MSI.

The device tree that ships with the overdrive 1000 has an interrupt-map
property that is known to be wrong.  Using MSI on msk makes the builtin
Ethernet on the overdrive 1000 work.

Tested on arm64 with
"Marvell Yukon 88E8059" rev 0x00, Yukon-2 Optima (0x1)

and i386 with
"Marvell Yukon 88E8072" rev 0x10, Yukon-2 Extreme rev. B0 (0x2)

Committing this early in the release cycle to try find cases where using
MSI doesn't work.

Based on part of an earlier patch from jmatthew@
ok jmatthew@ kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/09 23:10:56

Modified files:
	lib/libc       : shlib_version 

Log message:
monir bump for freezero


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/09 23:45:02

Modified files:
	include        : stdlib.h 
	lib/libc       : Symbols.list 
	lib/libc/hidden: stdlib.h 
	lib/libc/stdlib: malloc.3 malloc.c 

Log message:
Introducing freezero(3) a version of free that guarantees the process
no longer has access to the content of a memmory object. It does
this by either clearing (if the object memory remains cached) or
by calling munmap(2). ok millert@, deraadt@, guenther@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/09 23:47:33

Modified files:
	distrib/sets/lists/base: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 00:09:32

Modified files:
	lib/libssl     : ssl_clnt.c 

Log message:
Convert various client key exchange functions to freezero(3). The memory
contents needs to be made inaccessible - this is simpler and less error
prone than the current "if not NULL, explicit_bzero(); free()" dance.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/10 00:31:31

Modified files:
	lib/libc/stdlib: malloc.3 

Log message:
tweak previous;


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/04/10 02:19:12

Modified files:
	sbin/fsck_ffs  : pass1.c 

Log message:
Remove always false comparison: inosused type is ino_t, which is
unsigned.

While there, fix a whitespace issue.

OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/10 03:27:08

Modified files:
	usr.sbin/sasyncd: sasyncd.c 

Log message:
Check early if the mandatory carp "interface" was configured.

This allows the new -n config check to work correctly.

OK jsg@ deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/10 04:47:28

Modified files:
	emulators/vice : Makefile distinfo 
	emulators/vice/patches: patch-configure_ac patch-doc_Makefile_in 
	emulators/vice/pkg: PLIST 

Log message:
Update vice to 3.1.

Notable changes:

- Use the newly introduced --disable-portaudio configure option
- Avoid picking up mpg123

OK benoit@


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/10 05:10:33

Modified files:
	security/botan2: Makefile distinfo 
	security/botan2/patches: patch-configure_py 
	                         patch-src_build-data_os_openbsd_txt 
	security/botan2/pkg: PLIST 
Removed files:
	security/botan2/patches: patch-src_scripts_install_py 
	                         patch-src_tests_test_name_constraint_cpp 

Log message:
update botan2 to version 2.1.0
fix CVE-2017-7252 CVE-2017-2801
major library bump, forgotten upstream, use LIBbotan-2_VERSION
keep patches local that are needed by port system
build patches have been accepted upstream
support for getentropy(2) and arc4random(3) accepted upstream
botan CLI has been renamed to botan2 upstream
rename doc dir to botan-2
OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/10 05:18:28

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
Define LIBCXX, to hold the name of the standard C++ library/libraries
for use in WANTLIB. Method independently suggested by espie@ and myself,
ok phessler@ landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kettenis@cvs.openbsd.org	2017/04/10 05:30:51

Modified files:
	devel/swig     : Makefile 
Added files:
	devel/swig/patches: patch-Source_Swig_include_c 

Log message:
Fix filedescriptor leak.

ok kili@, jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/10 05:45:29

Modified files:
	archivers/fuse-zip: Makefile 
	archivers/innoextract: Makefile 
	archivers/lzip/lzip: Makefile 
	archivers/lzip/lziprecover: Makefile 
	archivers/lzip/plzip: Makefile 
	archivers/p7zip: Makefile 
	archivers/par2cmdline: Makefile 
	archivers/pecl-rar: Makefile 
	archivers/quazip: Makefile 
	archivers/snappy: Makefile 
	archivers/unrar: Makefile 
	archivers/zipios: Makefile 
	astro/celestia : Makefile 
	audio/adplay   : Makefile 
	audio/adplug   : Makefile 
	audio/akode    : Makefile 
	audio/aqualung : Makefile 
	audio/audacious-plugins: Makefile 
	audio/audacity : Makefile 
	audio/calf     : Makefile 
	audio/caps-plugins: Makefile 
	audio/chromaprint: Makefile 
	audio/cmt      : Makefile 
	audio/easytag  : Makefile 
	audio/espeak   : Makefile 
	audio/festival/core: Makefile 
	audio/flac     : Makefile 
	audio/gimmix   : Makefile 
	audio/gmpc-plugins: Makefile 
	audio/goattracker: Makefile 
	audio/gogglesmm: Makefile 
	audio/grip     : Makefile 
	audio/hydrogen : Makefile 
	audio/id3ed    : Makefile 
	audio/id3lib   : Makefile 
	audio/ladspa   : Makefile 
	audio/libbs2b  : Makefile 
	audio/libcanberra: Makefile 
	audio/libcdio  : Makefile 
	audio/liblastfm: Makefile 
	audio/libmodplug: Makefile 
	audio/libmusicbrainz: Makefile 
	audio/libmusicbrainz5: Makefile 
	audio/libofa   : Makefile 
	audio/libsidplay: Makefile 
	audio/lmms     : Makefile 
	audio/mac      : Makefile 
	audio/mcp-plugins: Makefile 
	audio/milkytracker: Makefile 
	audio/moc      : Makefile 
	audio/mp3blaster: Makefile 
	audio/mumble   : Makefile 
	audio/musique  : Makefile 
	audio/ncmpcpp  : Makefile 
	audio/ocp      : Makefile 
	audio/paulstretch: Makefile 
	audio/picard   : Makefile 
	audio/pms      : Makefile 
	audio/py-tagpy : Makefile 
	audio/ruby-id3lib: Makefile 
	audio/ruby-taglib: Makefile 
	audio/sidplay  : Makefile 
	audio/soundtouch: Makefile 
	audio/taglib   : Makefile 
	audio/tagtool  : Makefile 
	audio/tempest  : Makefile 
	audio/vagalume : Makefile 
	audio/vamp-plugin-sdk: Makefile 
	audio/xcd      : Makefile 
	audio/xmms2    : Makefile 
	benchmarks/bonnie++: Makefile 
	benchmarks/sysbench: Makefile 
	biology/nutdb  : Makefile 
	cad/fritzing   : Makefile 
	cad/geda-gaf   : Makefile 
	cad/gerbv      : Makefile 
	cad/gnucap     : Makefile 
	cad/gtkwave    : Makefile 
	cad/kicad      : Makefile 
	cad/klogic     : Makefile 
	cad/necpp      : Makefile 
	cad/openscad   : Makefile 
	cad/qcad       : Makefile 
	cad/qucs       : Makefile 
	comms/fldigi   : Makefile 
	comms/gmfsk    : Makefile 
	comms/gpsk31   : Makefile 
	comms/hamlib   : Makefile 
	comms/hylafax  : Makefile 
	comms/owx      : Makefile 
	comms/qtserialport: Makefile 
	converters/html2text: Makefile 
	converters/lastools: Makefile 
	converters/libpst: Makefile 
	converters/pflogx: Makefile 
	converters/wv2 : Makefile 
	databases/apache-couchdb: Makefile 
	databases/db/v4: Makefile 
	databases/evolution-data-server: Makefile 
	databases/kyotocabinet: Makefile 
	databases/leveldb: Makefile 
	databases/libdbi-drivers: Makefile 
	databases/libpqxx: Makefile 
	databases/libzdb: Makefile 
	databases/mariadb: Makefile 
	databases/mysqlcc: Makefile 
	databases/openldap: Makefile 
	databases/pgadmin3: Makefile 
	databases/postgresql-plv8: Makefile 
	databases/py-odbc: Makefile 
	databases/qt3-sqlite3-plugin: Makefile 
	databases/riak : Makefile 
	databases/soprano: Makefile 
	databases/sqlitebrowser: Makefile 
	databases/sqliteman: Makefile 
	databases/strigi: Makefile 
	databases/xapian-bindings: Makefile 
	databases/xapian-core: Makefile 
	devel/arm-none-eabi/gcc-linaro: Makefile 
	devel/astyle   : Makefile 
	devel/atf      : Makefile 
	devel/atlas    : Makefile 
	devel/beediff  : Makefile 
	devel/boehm-gc : Makefile 
	devel/boost    : Makefile 
	devel/bouml    : Makefile 
	devel/ccrtp    : Makefile 
	devel/cln      : Makefile 
	devel/cmake    : Makefile 
	devel/codeblocks: Makefile 
	devel/codeworker: Makefile 
	devel/commoncpp: Makefile 
	devel/cpptest  : Makefile 
	devel/cppunit  : Makefile 
	devel/cryptopp : Makefile 
	devel/csmith   : Makefile 
	devel/ddd      : Makefile 
	devel/dee      : Makefile 
	devel/doc++    : Makefile 
	devel/doxygen  : Makefile 
	devel/doxygen-gui: Makefile 
	devel/flatzebra: Makefile 
	devel/fox      : Makefile 
	devel/gdb      : Makefile 
	devel/geany    : Makefile 
	devel/gengetopt: Makefile 
	devel/gettext  : Makefile 
	devel/gflags   : Makefile 
	devel/glog     : Makefile 
	devel/gmp      : Makefile 
	devel/gperf    : Makefile 
	devel/gsoap    : Makefile 
	devel/gtest    : Makefile 
	devel/guilib   : Makefile 
	devel/gwenhywfar: Makefile 
	devel/harfbuzz : Makefile 
	devel/jdk/1.7  : Makefile 
	devel/jdk/1.8  : Makefile 
	devel/jsoncpp  : Makefile 
	devel/kdiff3   : Makefile 
	devel/kyua-cli : Makefile 
	devel/libaudiofile: Makefile 
	devel/libbinio : Makefile 
	devel/libconfig: Makefile 
	devel/libexecinfo: Makefile 
	devel/libmemcached: Makefile 
	devel/libofx   : Makefile 
	devel/libplist : Makefile 
	devel/libvmime : Makefile 
	devel/log4cplus: Makefile 
	devel/log4cpp  : Makefile 
	devel/lutok    : Makefile 
	devel/mico     : Makefile 
	devel/monotone : Makefile 
	devel/mozjs17  : Makefile 
	devel/mygui    : Makefile 
	devel/mysql++  : Makefile 
	devel/ninja    : Makefile 
	devel/ode      : Makefile 
	devel/ois      : Makefile 
	devel/openmpi  : Makefile 
	devel/pcre     : Makefile 
	devel/pcre++   : Makefile 
	devel/poedit   : Makefile 
	devel/protobuf : Makefile 
	devel/protobuf-c: Makefile 
	devel/ptlib    : Makefile 
	devel/py-sip   : Makefile 
	devel/pysvn    : Makefile 
	devel/qgit     : Makefile 
	devel/qjson    : Makefile 
	devel/ragel    : Makefile 
	devel/rapidsvn : Makefile 
	devel/re2c     : Makefile 
	devel/rlog     : Makefile 
	devel/ruby-therubyracer: Makefile 
	devel/sdcc     : Makefile 
	devel/sdlmm    : Makefile 
	devel/smpeg    : Makefile 
	devel/smpeg2   : Makefile 
	devel/srecord  : Makefile 
	devel/stp      : Makefile 
	devel/swig     : Makefile 
	devel/tclcl    : Makefile 
	devel/ti-msp430gcc: Makefile 
	devel/uuid     : Makefile 
	devel/yaml-cpp : Makefile 
	editors/TeXmacs: Makefile 
	editors/abiword: Makefile 
	editors/focuswriter: Makefile 
	editors/fte    : Makefile 
	editors/ht     : Makefile 
	editors/ktikz  : Makefile 
	editors/le     : Makefile 
	editors/moe    : Makefile 
	editors/py-qscintilla: Makefile 
	editors/qscintilla: Makefile 
	editors/scintilla: Makefile 
	editors/scite  : Makefile 
	editors/subtitleeditor: Makefile 
	editors/tea    : Makefile 
	editors/teaqt  : Makefile 
	editors/texmaker: Makefile 
	editors/texworks: Makefile 
	editors/tiled  : Makefile 
	editors/tpad   : Makefile 
	education/drgeo: Makefile 
	education/verbiste: Makefile 
	emulators/BasiliskII: Makefile 
	emulators/bochs: Makefile 
	emulators/desmume: Makefile 
	emulators/dgen-sdl: Makefile 
	emulators/dosbox: Makefile 
	emulators/fceux: Makefile 
	emulators/frodo: Makefile 
	emulators/fs-uae: Makefile 
	emulators/fuse-utils: Makefile 
	emulators/gambatte: Makefile 
	emulators/gxemul: Makefile 
	emulators/mupen64plus/core: Makefile 
	emulators/mupen64plus/rsp-z64: Makefile 
	emulators/mupen64plus/video-arachnoid: Makefile 
	emulators/mupen64plus/video-glide64: Makefile 
	emulators/mupen64plus/video-rice: Makefile 
	emulators/mupen64plus/video-z64: Makefile 
	emulators/nestopia: Makefile 
	emulators/openmsx: Makefile 
	emulators/pcsxr: Makefile 
	emulators/sdlmame: Makefile 
	emulators/sdlmess: Makefile 
	emulators/stella: Makefile 
	emulators/vice : Makefile 
	emulators/virtualjaguar: Makefile 
	games/abuse    : Makefile 
	games/afternoonstalker: Makefile 
	games/alephone/alephone: Makefile 
	games/amoebax  : Makefile 
	games/amph     : Makefile 
	games/armagetronad: Makefile 
	games/astromenace: Makefile 
	games/batrachians: Makefile 
	games/blobby   : Makefile 
	games/blobwars : Makefile 
	games/boswars  : Makefile 
	games/braincurses: Makefile 
	games/brumbrumrally: Makefile 
	games/burgerspace: Makefile 
	games/bzflag   : Makefile 
	games/capitan-sevilla: Makefile 
	games/choria   : Makefile 
	games/chromium-bsu: Makefile 
	games/clonekeen: Makefile 
	games/cosmosmash: Makefile 
	games/crack-attack: Makefile 
	games/crimson  : Makefile 
	games/csmash   : Makefile 
	games/dangerdeep: Makefile 
	games/dunelegacy: Makefile 
	games/dungeon-crawl: Makefile 
	games/easyrpg  : Makefile 
	games/eboard   : Makefile 

Log message:
use LIBCXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/10 05:46:23

Modified files:
	games/einstein : Makefile 
	games/eliot    : Makefile 
	games/enigma   : Makefile 
	games/f1spirit : Makefile 
	games/fillets-ng: Makefile 
	games/flare    : Makefile 
	games/gargoyle : Makefile 
	games/gemrb    : Makefile 
	games/gnuchess : Makefile 
	games/golly    : Makefile 
	games/gottcode : Makefile.inc 
	games/grhino   : Makefile 
	games/hedgewars: Makefile 
	games/hex-a-hop: Makefile 
	games/instead-launcher: Makefile 
	games/irrlamb  : Makefile 
	games/jag      : Makefile 
	games/kbilliards: Makefile 
	games/kobodeluxe: Makefile 
	games/late     : Makefile 
	games/liberalcrimesquad: Makefile 
	games/life     : Makefile 
	games/lincity-ng: Makefile 
	games/lostpixels: Makefile 
	games/love     : Makefile 
	games/maelstrom: Makefile 
	games/manaplus : Makefile 
	games/mars     : Makefile 
	games/meandmyshadow: Makefile 
	games/megaglest/base: Makefile 
	games/minetest : Makefile 
	games/nethack  : Makefile 
	games/numptyphysics: Makefile 
	games/oilwar   : Makefile 
	games/openttd  : Makefile 
	games/pokerth  : Makefile 
	games/pushover : Makefile 
	games/qgo      : Makefile 
	games/quadrupleback: Makefile 
	games/redeclipse: Makefile 
	games/residualvm: Makefile 
	games/ri-li    : Makefile 
	games/roadfighter: Makefile 
	games/sauerbraten: Makefile 
	games/scorched3d: Makefile 
	games/scummvm  : Makefile 
	games/scummvm-tools: Makefile 
	games/snipe2d  : Makefile 
	games/spacehulk: Makefile 
	games/speeddreams: Makefile 
	games/starfighter: Makefile 
	games/stepmania: Makefile 
	games/taxipilot: Makefile 
	games/teeworlds: Makefile 
	games/tong     : Makefile 
	games/toppler  : Makefile 
	games/tutris   : Makefile 
	games/tuxkart  : Makefile 
	games/tuxpaint-config: Makefile 
	games/valyriatear: Makefile 
	games/vegastrike/engine: Makefile 
	games/vodovod  : Makefile 
	games/warmux   : Makefile 
	games/wesnoth  : Makefile 
	games/widelands: Makefile 
	games/xbreaky  : Makefile 
	games/xevil    : Makefile 
	games/xjig     : Makefile 
	games/xkobo    : Makefile 
	games/xmahjongg: Makefile 
	games/xminehunter: Makefile 
	games/xmoto    : Makefile 
	games/xwelltris: Makefile 
	games/xye      : Makefile 
	games/zaz      : Makefile 
	geo/garmindev  : Makefile 
	geo/gdal       : Makefile 
	geo/geos       : Makefile 
	geo/gpsbabel   : Makefile 
	geo/gpstk      : Makefile 
	geo/mapserver  : Makefile 
	geo/merkaartor : Makefile 
	geo/osm2pgrouting: Makefile 
	geo/postgis    : Makefile 
	geo/qlandkartegt: Makefile 
	geo/spatialindex: Makefile 
	geo/spatialite/gis: Makefile 
	geo/spatialite/gui: Makefile 
	geo/spatialite/librasterlite: Makefile 
	geo/spatialite/librasterlite2: Makefile 
	geo/spatialite/librewms: Makefile 
	geo/spatialite/libspatialite: Makefile 
	geo/spatialite/tools: Makefile 
	graphics/DevIL : Makefile 
	graphics/GraphicsMagick: Makefile 
	graphics/ImageMagick: Makefile 
	graphics/agg   : Makefile 
	graphics/amide : Makefile 
	graphics/animorph: Makefile 
	graphics/aqsis : Makefile 
	graphics/asymptote: Makefile 
	graphics/autopano-sift-c: Makefile 
	graphics/cal3d : Makefile 
	graphics/ctl   : Makefile 
	graphics/dcmtk : Makefile 
	graphics/delaboratory: Makefile 
	graphics/discwrapper: Makefile 
	graphics/djview4: Makefile 
	graphics/djvulibre: Makefile 
	graphics/evince: Makefile 
	graphics/exiv2 : Makefile 
	graphics/ffmpegthumbnailer: Makefile 
	graphics/fotowall: Makefile 
	graphics/freeimage: Makefile 
	graphics/ftgl  : Makefile 
	graphics/fyre  : Makefile 
	graphics/gd    : Makefile 
	graphics/geeqie: Makefile 
	graphics/gegl  : Makefile 
	graphics/gegl03: Makefile 
	graphics/geomview: Makefile 
	graphics/gfract: Makefile 
	graphics/gimp/deskew: Makefile 
	graphics/gnofract4d: Makefile 
	graphics/goocanvas: Makefile 
	graphics/grap  : Makefile 
	graphics/graphite2: Makefile 
	graphics/gthumb: Makefile 
	graphics/gtkimageview: Makefile 
	graphics/ilmbase: Makefile 
	graphics/inkscape: Makefile 
	graphics/ipe   : Makefile 
	graphics/k3dsurf: Makefile 
	graphics/lensfun: Makefile 
	graphics/libpgf: Makefile 
	graphics/libraw: Makefile 
	graphics/libvidcap: Makefile 
	graphics/lsys  : Makefile 
	graphics/maim  : Makefile 
	graphics/makehuman: Makefile 
	graphics/mandelbulber: Makefile 
	graphics/mhgui : Makefile 
	graphics/ocrad : Makefile 
	graphics/opencolorio: Makefile 
	graphics/opencsg: Makefile 
	graphics/opencv: Makefile 
	graphics/openexr: Makefile 
	graphics/openexr-viewers: Makefile 
	graphics/openimageio: Makefile 
	graphics/openscenegraph: Makefile 
	graphics/pdf2djvu: Makefile 
	graphics/png2ico: Makefile 
	graphics/povray: Makefile 
	graphics/pstoedit: Makefile 
	graphics/py-matplotlib: Makefile 
	graphics/quesoglc: Makefile 
	graphics/rawstudio: Makefile 
	graphics/shotwell: Makefile 
	graphics/slop  : Makefile 
	graphics/tesseract/tesseract: Makefile 
	graphics/tiff  : Makefile 
	graphics/ufraw : Makefile 
	graphics/viewnior: Makefile 
	graphics/zint  : Makefile 
	graphics/zxing : Makefile 
	infrastructure/bin: check-lib-depends 
	inputmethods/scim: Makefile 
	inputmethods/scim-anthy: Makefile 
	inputmethods/scim-chewing: Makefile 
	inputmethods/scim-fcitx: Makefile 
	inputmethods/scim-hangul: Makefile 
	inputmethods/scim-pinyin: Makefile 
	inputmethods/scim-qtimm: Makefile 
	inputmethods/scim-tables: Makefile 
	inputmethods/uim: Makefile 
	japanese/groff : Makefile 
	japanese/kasumi: Makefile 
	japanese/mecab : Makefile 
	java/jlint     : Makefile 
	lang/classpath : Makefile 
	lang/erlang/16 : Makefile 
	lang/erlang/17 : Makefile 
	lang/erlang/18 : Makefile 
	lang/erlang/19 : Makefile 
	lang/freehdl   : Makefile 
	lang/intel2gas : Makefile 
	lang/iverilog  : Makefile 
	lang/jikes     : Makefile 
	lang/jruby     : Makefile 
	lang/libv8     : Makefile 
	lang/parrot    : Makefile 
	lang/php       : Makefile.inc 
	lang/php/5.6   : Makefile 
	lang/php/7.0   : Makefile 
	lang/python    : Makefile.inc 
	lang/spidermonkey: Makefile 
	lang/verilator : Makefile 
	mail/archiveopteryx: Makefile 
	mail/avenger   : Makefile 
	mail/claws-mail: Makefile 
	mail/courier-authlib: Makefile 
	mail/courier-unicode: Makefile 
	mail/dovecot   : Makefile 
	mail/dspam     : Makefile 
	mail/evolution-ews: Makefile 
	mail/evolution-rss: Makefile 
	mail/libetpan  : Makefile 
	mail/maildrop  : Makefile 
	mail/mu        : Makefile 
	mail/opensmtpd-extras: Makefile 
	mail/perdition : Makefile 
	mail/prepop    : Makefile 
	mail/sylpheed  : Makefile 
	mail/zarafa/zarafa: Makefile 
	math/aamath    : Makefile 
	math/cgal      : Makefile 
	math/freemat   : Makefile 
	math/ginac     : Makefile 
	math/gnuplot   : Makefile 
	math/graphviz  : Makefile 
	math/hdf5      : Makefile 
	math/kst       : Makefile 
	math/libneural : Makefile 
	math/libqalculate: Makefile 
	math/logic2cnf : Makefile 
	math/minisat   : Makefile 
	math/netcdf    : Makefile 
	math/ntl       : Makefile 
	math/octave    : Makefile 
	math/openfst   : Makefile 
	math/plplot    : Makefile 
	math/py-scipy  : Makefile 
	math/veusz     : Makefile 
	math/wxMaxima  : Makefile 
	math/z3        : Makefile 
	misc/cdrdao    : Makefile 
	misc/dtcltiny  : Makefile 
	misc/gpsd      : Makefile 
	misc/openbabel : Makefile 
	misc/rocrail   : Makefile 
	misc/xnc       : Makefile 
	multimedia/atomicparsley: Makefile 
	multimedia/avidemux: Makefile 
	multimedia/ccextractor: Makefile 
	multimedia/dvdstyler: Makefile 
	multimedia/gstreamer-0.10/plugins-bad: Makefile 
	multimedia/gstreamer-0.10/plugins-good: Makefile 
	multimedia/gstreamer-0.10/plugins-ugly: Makefile 
	multimedia/gstreamer1/plugins-bad: Makefile 
	multimedia/gstreamer1/plugins-good: Makefile 
	multimedia/kguitar: Makefile 
	multimedia/libmatroska: Makefile 
	multimedia/libmp4v2: Makefile 
	multimedia/libquicktime: Makefile 
	multimedia/libvpx: Makefile 
	multimedia/lives: Makefile 
	multimedia/mediainfo: Makefile 
	multimedia/mediatomb: Makefile 
	multimedia/mjpegtools: Makefile 
	multimedia/mpgtx: Makefile 
	multimedia/ogmrip: Makefile 
	multimedia/ogmtools: Makefile 
	multimedia/streamdvd: Makefile 
	multimedia/swfmill: Makefile 
	multimedia/swftools: Makefile 
	multimedia/transcode: Makefile 
	multimedia/x265: Makefile 
	net/amule      : Makefile 
	net/cagibi     : Makefile 
	net/castget    : Makefile 
	net/centerim   : Makefile 
	net/corebird   : Makefile 
	net/dclib      : Makefile 
	net/dxpc       : Makefile 
	net/dysnomia   : Makefile 
	net/filezilla  : Makefile 
	net/freetalk   : Makefile 
	net/gloox      : Makefile 
	net/gnugk      : Makefile 

Log message:
use LIBCXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/10 05:46:37

Modified files:
	net/h323plus   : Makefile 
	net/hexchat    : Makefile 
	net/iperf      : Makefile 
	net/irrtoolset : Makefile 
	net/jabberd    : Makefile 
	net/kea        : Makefile 
	net/kismet     : Makefile 
	net/lftp       : Makefile 
	net/libmygpo-qt: Makefile 
	net/libproxy   : Makefile 
	net/libtorrent : Makefile 
	net/livemedia  : Makefile 
	net/minbif     : Makefile 
	net/mldonkey   : Makefile 
	net/monitoring-plugins: Makefile 
	net/mosh       : Makefile 
	net/mosquitto  : Makefile 
	net/mutella    : Makefile 
	net/nam        : Makefile 
	net/neon       : Makefile 
	net/nepenthes  : Makefile 
	net/nload      : Makefile 
	net/nmap       : Makefile 
	net/ns         : Makefile 
	net/ntopng     : Makefile 
	net/openconnect: Makefile 
	net/osrtspproxy: Makefile 
	net/pchar      : Makefile 
	net/pidgin     : Makefile 
	net/pmacct     : Makefile 
	net/poco       : Makefile 
	net/psi        : Makefile 
	net/py-msgpack : Makefile 
	net/py-pcapy   : Makefile 
	net/qsynergy   : Makefile 
	net/quirc      : Makefile 
	net/retroshare : Makefile 
	net/rtorrent   : Makefile 
	net/ruby-eventmachine: Makefile 
	net/spectrum   : Makefile 
	net/synergy    : Makefile 
	net/tcpreen    : Makefile 
	net/telepathy/folks: Makefile 
	net/telepathy/telepathy-qt: Makefile 
	net/valknut    : Makefile 
	net/vncsnapshot: Makefile 
	net/xprobe     : Makefile 
	net/yaz        : Makefile 
	net/zeromq     : Makefile 
	news/multimail : Makefile 
	news/pan       : Makefile 
	print/apvlv    : Makefile 
	print/cups     : Makefile 
	print/hplip    : Makefile 
	print/htmldoc  : Makefile 
	print/lilypond : Makefile 
	print/lyx      : Makefile 
	print/poppler  : Makefile 
	print/py-poppler: Makefile 
	print/qpdf     : Makefile 
	print/scribus  : Makefile 
	print/sile     : Makefile 
	print/splix    : Makefile 
	print/texlive/base: Makefile 
	productivity/aqbanking: Makefile 
	productivity/devtodo: Makefile 
	productivity/entomologist: Makefile 
	productivity/fet: Makefile 
	productivity/glabels: Makefile 
	productivity/gnucash: Makefile 
	productivity/grisbi: Makefile 
	productivity/qhacc: Makefile 
	productivity/rubrica2: Makefile 
	security/botan : Makefile 
	security/cyrus-sasl2: Makefile 
	security/encfs : Makefile 
	security/fwbuilder: Makefile 
	security/gnutls: Makefile 
	security/keepassx: Makefile 
	security/kqoauth: Makefile 
	security/libnipper: Makefile 
	security/nipper: Makefile 
	security/opendnssec: Makefile 
	security/ophcrack: Makefile 
	security/pcsc-cyberjack: Makefile 
	security/pwsafe: Makefile 
	security/qca   : Makefile 
	security/qca-gnupg: Makefile 
	security/qca-ossl: Makefile 
	security/qca-tls: Makefile 
	security/qca2  : Makefile 
	security/qoauth: Makefile 
	security/qtkeychain: Makefile 
	security/softhsm: Makefile 
	security/ssdeep: Makefile 
	security/steghide: Makefile 
	security/yubico/yubikey-personalization-gui: Makefile 
	sysutils/apachetop: Makefile 
	sysutils/bacula: Makefile 
	sysutils/colortail: Makefile 
	sysutils/ddrescue: Makefile 
	sysutils/dtpstree: Makefile 
	sysutils/dvd+rw-tools: Makefile 
	sysutils/incron: Makefile 
	sysutils/knutclient: Makefile 
	sysutils/nut   : Makefile 
	sysutils/rsyslog: Makefile 
	sysutils/sleuthkit: Makefile 
	sysutils/smartmontools: Makefile 
	telephony/asterisk: Makefile 
	telephony/iaxclient: Makefile 
	telephony/pjsua: Makefile 
	telephony/stuntman: Makefile 
	tests/portbump/t1: Makefile 
	tests/portbump/t2: Makefile.inc 
	tests/portbump/t4: Makefile 
	tests/portbump/t5: Makefile 
	tests/portcheck/t7: Makefile 
	textproc/apertium: Makefile 
	textproc/apertium-lex-tools: Makefile 
	textproc/arabica: Makefile 
	textproc/aspell/core: Makefile 
	textproc/clo++ : Makefile 
	textproc/clucene: Makefile 
	textproc/enchant: Makefile 
	textproc/exempi: Makefile 
	textproc/fragistics: Makefile 
	textproc/groff : Makefile 
	textproc/gspell: Makefile 
	textproc/gtkspell: Makefile 
	textproc/gtkspell3: Makefile 
	textproc/gtranslator: Makefile 
	textproc/heirloom-doctools: Makefile 
	textproc/highlight: Makefile 
	textproc/hunspell: Makefile 
	textproc/icu4c : Makefile 
	textproc/isearch: Makefile 
	textproc/libebml: Makefile 
	textproc/libical: Makefile 
	textproc/libwpd: Makefile 
	textproc/lq-sp : Makefile 
	textproc/lttoolbox: Makefile 
	textproc/openjade: Makefile 
	textproc/opensp: Makefile 
	textproc/p5-Encode-Detect: Makefile 
	textproc/p5-Text-Aspell: Makefile 
	textproc/pugixml: Makefile 
	textproc/py-ICU: Makefile 
	textproc/rarian: Makefile 
	textproc/redland: Makefile 
	textproc/sablotron: Makefile 
	textproc/source-highlight: Makefile 
	textproc/sp    : Makefile 
	textproc/sphinx: Makefile 
	textproc/tinyxml: Makefile 
	textproc/tinyxml2: Makefile 
	textproc/uchardet: Makefile 
	textproc/uncrustify: Makefile 
	textproc/vislcg3: Makefile 
	textproc/wkhtmltopdf: Makefile 
	textproc/xerces-c: Makefile 
	textproc/xpdf  : Makefile 
	textproc/xxdiff: Makefile 
	www/arora      : Makefile 
	www/bluefish   : Makefile 
	www/cclive     : Makefile 
	www/cgicc      : Makefile 
	www/conkeror   : Makefile 
	www/dansguardian: Makefile 
	www/dillo      : Makefile 
	www/fcgi       : Makefile 
	www/gtkhtml4   : Makefile 
	www/havp       : Makefile 
	www/icedtea-web: Makefile 
	www/larbin     : Makefile 
	www/lighttpd   : Makefile 
	www/minitube   : Makefile 
	www/mozilla    : mozilla.port.mk 
	www/nginx      : Makefile 
	www/phantomjs  : Makefile 
	www/ruby-capybara-webkit: Makefile 
	www/ruby-passenger: Makefile 
	www/seamonkey  : Makefile 
	www/slowhttptest: Makefile 
	www/sqtop      : Makefile 
	www/webkit     : Makefile 
	www/xapian-omega: Makefile 
	x11/bbdate     : Makefile 
	x11/bbkeys     : Makefile 
	x11/bbpager    : Makefile 
	x11/blackbox   : Makefile 
	x11/compiz/core: Makefile 
	x11/compiz/libcompizconfig: Makefile 
	x11/e17/evas   : Makefile 
	x11/ede/desktop: Makefile 
	x11/ede/lib    : Makefile 
	x11/fleditor   : Makefile 
	x11/fltk       : Makefile 
	x11/fluxbox    : Makefile 
	x11/fluxter    : Makefile 
	x11/flwm       : Makefile 
	x11/fsv        : Makefile 
	x11/gaia       : Makefile 
	x11/gmrun      : Makefile 
	x11/gnome/anjuta: Makefile 
	x11/gnome/banshee: Makefile 
	x11/gnome/bijiben: Makefile 
	x11/gnome/builder: Makefile 
	x11/gnome/calendar: Makefile 
	x11/gnome/color-manager: Makefile 
	x11/gnome/contacts: Makefile 
	x11/gnome/control-center: Makefile 
	x11/gnome/empathy: Makefile 
	x11/gnome/gedit: Makefile 
	x11/gnome/latexila: Makefile 
	x11/gnome/libgda: Makefile 
	x11/gnome/online-accounts: Makefile 
	x11/gnome/recipes: Makefile 
	x11/gnome/shell: Makefile 
	x11/gnome/sushi: Makefile 
	x11/gnome/todo : Makefile 
	x11/gnome/tracker: Makefile 
	x11/gnustep/gui: Makefile 
	x11/gnustep/libobjc2: Makefile 
	x11/gnustep/pdfkit: Makefile 
	x11/goggles    : Makefile 
	x11/grantlee   : Makefile 
	x11/gtk-engines2: Makefile 
	x11/gtk2-aurora-engine: Makefile 
	x11/gtk2-equinox-engine: Makefile 
	x11/gtk2-murrine-engine: Makefile 
	x11/gtk2-nodoka-engine: Makefile 
	x11/gtk2-oxygen-engine: Makefile 
	x11/gtk3-oxygen-engine: Makefile 
	x11/gtkglarea  : Makefile 
	x11/gtkglext   : Makefile 
	x11/icewm      : Makefile 
	x11/idesk      : Makefile 
	x11/irrlicht   : Makefile 
	x11/kde/accessibility3: Makefile 
	x11/kde/arts3  : Makefile 
	x11/kde/artwork3: Makefile 
	x11/kde/base3  : Makefile 
	x11/kde/games3 : Makefile 
	x11/kde/libs3  : Makefile 
	x11/kdirstat   : Makefile 
	x11/mplayer    : Makefile 
	x11/nx/nxcomp  : Makefile 
	x11/nx/nxproxy : Makefile 
	x11/nx/nxssh   : Makefile 
	x11/nx/opennx  : Makefile 
	x11/p5-Wx      : Makefile 
	x11/pekwm      : Makefile 
	x11/pinot      : Makefile 
	x11/polkit-qt  : Makefile 
	x11/py-qt4     : Makefile 
	x11/py-wxPython: Makefile 
	x11/qrfcview   : Makefile 
	x11/qt3        : Makefile 
	x11/qt4        : Makefile 
	x11/qvwm       : Makefile 
	x11/qwt        : Makefile 
	x11/slim       : Makefile 
	x11/treewm     : Makefile 
	x11/vlc        : Makefile 
	x11/waimea     : Makefile 
	x11/wbar       : Makefile 
	x11/wm2        : Makefile 
	x11/wmi        : Makefile 
	x11/wmx        : Makefile 
	x11/wxSVG      : Makefile 
	x11/wxWidgets  : Makefile 
	x11/xchm       : Makefile 
	x11/xdrawchem  : Makefile 
	x11/xfce4/parole: Makefile 
	x11/xfce4/thunar-media-tags: Makefile 
	x11/xfce4/xfce4-whiskermenu: Makefile 
	x11/xfe        : Makefile 
	x11/xglobe     : Makefile 
	x11/xplanet    : Makefile 
	x11/xsettingsd : Makefile 

Log message:
use LIBCXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	kettenis@cvs.openbsd.org	2017/04/10 06:54:14

Modified files:
	editors/emacs/patches: patch-configure 

Log message:
Make this build on arm64.  No REVISION bump as this didn't build on arm64
before.

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/10 06:56:11

Modified files:
	www/webkitgtk4/patches: 
	                        patch-Source_WebCore_bindings_scripts_generate-bindings-all_pl 

Log message:
Committed upstream.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/10 06:56:26

Modified files:
	devel/p5-BSD-Resource: Makefile distinfo 

Log message:
update p5-BSD-Resource to 1.2911


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 07:05:06

Modified files:
	lib/libssl/man : Makefile 
Added files:
	lib/libssl/man : SSL_CTX_set_tlsext_servername_callback.3 

Log message:
new manual page SSL_CTX_set_tlsext_servername_callback(3) for SNI;
from <Jon dot Spillett at oracle dot com>
via OpenSSL commit 8c55c461


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/10 07:13:02

Modified files:
	emulators/qemu : Makefile distinfo 
	emulators/qemu/patches: patch-hw_virtio_virtio_c 

Log message:
Update to qemu-2.8.1.

from Brad (MAINTAINER)


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/10 07:32:26

src/usr.sbin/slaacctl

Update of /cvs/src/usr.sbin/slaacctl
In directory cvs.openbsd.org:/tmp/cvs-serv31155/slaacctl

Log Message:
Directory /cvs/src/usr.sbin/slaacctl added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/10 07:35:42

Added files:
	usr.sbin/slaacctl: Makefile parser.c parser.h slaacctl.8 
	                   slaacctl.c 
Removed files:
	usr.sbin/slaacdctl: Makefile parser.c parser.h slaacdctl.8 
	                    slaacdctl.c 

Log message:
The canonical name for ctl programs is without 'd'.
Pointed out by Brad.
OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/10 07:36:04

Modified files:
	gnu/usr.bin/clang/include/clang/intrin: Makefile 

Log message:
Generate and install arm_neon.h on arm and arm64.

ok jsg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/10 07:38:41

Modified files:
	net/unifi      : Makefile distinfo 
	net/unifi/pkg  : PLIST 

Log message:
update to unifi-5.4.14


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/10 07:40:36

Modified files:
	distrib/sets/lists/comp: md.arm64 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/04/10 07:56:16

Modified files:
	games/adventure: hdr.h 

Log message:
Clean up disabled declaration in the text struct.

OK deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/10 07:59:31

Modified files:
	.              : 61.html 

Log message:
6.1 pkg counts for arm and hppa


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 08:00:51

Modified files:
	lib/libssl/man : SSL_CTX_add_extra_chain_cert.3 SSL_CTX_ctrl.3 
	                 SSL_CTX_sess_number.3 
	                 SSL_CTX_sess_set_cache_size.3 
	                 SSL_CTX_set_max_cert_list.3 SSL_CTX_set_mode.3 
	                 SSL_CTX_set_options.3 
	                 SSL_CTX_set_session_cache_mode.3 
	                 SSL_CTX_set_tlsext_status_cb.3 
	                 SSL_CTX_set_tlsext_ticket_key_cb.3 
	                 SSL_num_renegotiations.3 SSL_session_reused.3 
	                 SSL_set_max_send_fragment.3 ssl.3 

Log message:
for pure *_ctrl() wrapper macros, move the reference from ssl(3)
to SSL_CTX_ctrl(3) to make ssl(3) slightly more palatable


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/10 08:01:55

Modified files:
	games/sl       : Makefile distinfo 
	games/sl/pkg   : DESCR 
Removed files:
	games/sl/patches: patch-sl_1 

Log message:
Update sl to 5.02.

Notable changes:

- Switch to using GitHub
- Remove now unnecessary patch, upstream man page is now in English

OK jung@


CVSROOT:	/cvs
Module name:	www
Changes by:	kettenis@cvs.openbsd.org	2017/04/10 08:17:58

Modified files:
	.              : 61.html 

Log message:
Mention that armv7 has had some major improvements (including and ABI switch).


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/10 08:22:04

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/10 08:32:47

Modified files:
	sbin/ipsecctl  : pfkdump.c 

Log message:
Found another len += snprintf...
ok mikeb


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/10 08:35:30

Modified files:
	sys/arch/mips64/include: signal.h 

Log message:
Use __ASSEMBLER__ instead of __LANGUAGE_ASSEMBLY.
The latter is not defined by clang.

OK guenther@, kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/10 08:46:13

Modified files:
	usr.sbin/slaacctl: slaacctl.8 
	usr.sbin/slaacd: slaacd.8 

Log message:
slaacdctl -> slaacctl;


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 09:37:55

Modified files:
	lib/libssl/man : Makefile SSL_CTX_set_session_id_context.3 
	                 SSL_SESSION_get_time.3 SSL_SESSION_new.3 
	                 SSL_copy_session_id.3 SSL_get_session.3 ssl.3 
Added files:
	lib/libssl/man : SSL_SESSION_get0_peer.3 
	                 SSL_SESSION_get_compress_id.3 
	                 SSL_SESSION_get_id.3 
	                 SSL_SESSION_set1_id_context.3 

Log message:
Additional SSL_SESSION documentation
from Matt Caswell <matt at openssl dot org>, OpenSSL commit b31db505.
Improve crosslinking while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 09:54:46

Modified files:
	lib/libssl/man : Makefile SSL_CTX_ctrl.3 
Added files:
	lib/libssl/man : SSL_get_server_tmp_key.3 

Log message:
new manual page SSL_get_server_tmp_key(3)
from Matt Caswell <matt@openssl.org>, OpenSSL commit 508fafd8


CVSROOT:	/cvs
Module name:	www
Changes by:	jca@cvs.openbsd.org	2017/04/10 09:54:51

Modified files:
	.              : want.html 

Log message:
I could use an arm64 box for ports work.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 10:11:51

Modified files:
	lib/libssl/man : BIO_f_ssl.3 SSL_CTX_set_cert_store.3 
	                 d2i_SSL_SESSION.3 

Log message:
fix some .Xr errors that jmc@ found with mdoclint(1)


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/10 10:20:31

Modified files:
	lib/libc/sys   : recv.2 

Log message:
Fix tabs in example code.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 10:47:08

Modified files:
	lib/libssl     : ssl_asn1.c 

Log message:
Use freezero() for i2d_SSL_SESSION() - one line of code instead of three.
In this case the memory allocated can also be significant, in which case
freezero() will have less overhead than explicit_bzero() (munmap instead
of touching all of the memory to write zeros).


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 10:48:43

Modified files:
	lib/libssl     : t1_enc.c 

Log message:
freezero() the key block; simpler code and less of it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsing@cvs.openbsd.org	2017/04/10 10:50:19

Modified files:
	lang/go        : Makefile distinfo 
	lang/go/pkg    : PLIST 

Log message:
Update lang/go to 1.8.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/10 11:01:06

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 11:11:13

Modified files:
	lib/libtls     : tls_client.c tls_internal.h tls_peer.c 
	                 tls_server.c tls_verify.c 

Log message:
Rework name verification code so that a match is indicated via an argument,
rather than return codes. More strictly follow RFC 6125, in particular only
check the CN if there are no SAN identifiers present in the certificate
(per section 6.4.4).

Previous behaviour questioned by Daniel Stenberg <daniel at haxx dot se>.

ok beck@ jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 11:12:30

Modified files:
	regress/lib/libtls/verify: verifytest.c 

Log message:
Rework and significantly extend TLS name verification tests to match
changes in libtls.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 11:14:44

Modified files:
	lib/libcrypto/man: X509_cmp_time.3 

Log message:
document three additional functions;
from Emilia Kasper <emilia at openssl dot org>, OpenSSL commit 4ac139b4


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 11:25:22

Modified files:
	lib/libssl     : s3_lib.c 

Log message:
Use freezero() for X25519 keys - same result with more readable code.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/10 11:27:33

Modified files:
	lib/libssl     : d1_lib.c s3_lib.c ssl_sess.c 

Log message:
Use freezero() for the internal opaque structures, instead of the current
explicit_bzero()/free(). Less code and potentially less overhead.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/10 11:45:06

Modified files:
	lib/libcrypto/man: EVP_PKEY_CTX_new.3 EVP_PKEY_derive.3 
	                   EVP_PKEY_keygen.3 Makefile 
Added files:
	lib/libcrypto/man: X25519.3 

Log message:
new X25519(3) manual page;
from Dr. Stephen Henson <steve@openssl.org>, OpenSSL commit d218f3c3


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/10 12:09:10

Modified files:
	x11/gnome/control-center/patches: 
	                                  patch-panels_user-accounts_um-realm-manager_c 

Log message:
Add BZ URL.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/10 12:11:03

Modified files:
	graphics/libgphoto2: Makefile distinfo 

Log message:
Update to libgphoto-2.5.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/10 13:10:33

Modified files:
	www/py-django/stable: Makefile distinfo 
	www/py-django/stable/pkg: PLIST 

Log message:
security fix to 1.10.7.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/10 13:11:11

Modified files:
	databases/sqlports: Makefile 
	databases/sqlports/files: TreeWalker.pm 

Log message:
hack things so that LIBCXX doesn't get expanded for sqlports.
This will probably be revisited and cleansed later.

okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/10 13:59:58

Modified files:
	www/p5-WWW-Curl: Makefile 

Log message:
Remove dead HOMEPAGE, falling back to the default CPAN one which still works.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/10 15:47:44

Modified files:
	sbin/dhclient  : dhclient.c privsep.c privsep.h 

Log message:
Rework -L logic to use the idiom used in handling the leases file.
i.e. open FILE during program set up and use the FILE created for
the rest of the program lifetime after dropping privilege and
pledge()'ing. No need for passing messages to the priv process.

Tweak lease file handling a bit in passing.

Monitoring the -L file with external programs like sysutils/entr
still works.

Looks good to sthen@.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/10 17:18:57

Modified files:
	faq            : upgrade61.html 

Log message:
also need to change /usr/{,x}obj if you want to do some building


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/04/10 21:00:12

Modified files:
	www/varnish    : Makefile distinfo 

Log message:
Update for Varnish to 5.1.2.

OK benoit@


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/10 21:28:02

Modified files:
	faq            : faq10.html faq11.html faq14.html faq15.html 
	                 faq4.html faq5.html faq6.html faq8.html 
	                 index.html 
Removed files:
	faq/ports      : ports.html 

Log message:
6.1 faq updates:

- syspatch
- less xdm, more xenodm
- less pkg.conf, more installurl
- vmm networking (written by edd)
- signing_params is gone
- pkg_sign flags changed
- build user changes (written by tb)
- https in the installer
- cvs version bumps
- remove ports.html redirect page

ok tb


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/10 21:29:09

Modified files:
	.              : alpha.html amd64.html anoncvs.html armv7.html 
	                 errata59.html errata61.html ftp.html hppa.html 
	                 i386.html landisk.html loongson.html 
	                 luna88k.html macppc.html octeon.html sgi.html 
	                 sparc64.html stable.html 
	build          : Makefile 
	build/mirrors  : anoncvs.html.head ftp.html.end 

Log message:
6.1 updates.

ok tb


CVSROOT:	/cvs
Module name:	www
Changes by:	jsg@cvs.openbsd.org	2017/04/10 22:51:08

Modified files:
	.              : arm64.html 

Log message:
msk on overdrive 1000


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/10 23:35:37

Modified files:
	www/sblg       : Makefile distinfo 

Log message:
Update to sblg-0.4.1.

Changelog:

"Enpower -l (tag-listing mode). This is now able to emit all tags in JSON
formatted output via -j, which makes it easy for dynamic sites to play with
tag listings in any way they choose. (See sblg(1) for an explanation of the
output format.) Also add -r, which stipulates that -l will print tag-first.
This is most useful for -j, as it allows for easy browsing by tag name."


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/11 00:52:13

Modified files:
	sys/arch/arm64/arm64: machdep.c process_machdep.c 
	sys/arch/arm64/include: reg.h 

Log message:
Revise 'struct fpreg' and dump floating-point register in core dumps.  Also
reset the floating-point register state upon exec.

ok guenther@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:25:38

Modified files:
	devel/glib2    : Makefile distinfo 
	devel/glib2/patches: patch-gio_glib-compile-schemas_c 
	devel/glib2/pkg: PLIST 

Log message:
Update to glib2-2.52.1.
- survived a bulk
- this officially starts the work on updating GNOME to 3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:26:02

Modified files:
	devel/atk      : Makefile distinfo 
	devel/atk/pkg  : PLIST 

Log message:
Update to atk-2.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:26:24

Modified files:
	x11/gnome/at-spi2-core: Makefile distinfo 
	x11/gnome/at-spi2-core/pkg: PLIST 

Log message:
Update to at-spi2-core-2.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:26:39

Modified files:
	x11/gnome/at-spi2-atk: Makefile distinfo 

Log message:
Update to at-spi2-atk-2.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:26:56

Modified files:
	devel/py-gobject3: Makefile distinfo 

Log message:
Update to py-gobject3-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:27:15

Modified files:
	x11/gnome/py-atspi: Makefile distinfo 

Log message:
Update to py3-atspi-2.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 01:37:36

Modified files:
	devel/py-gobject3: Makefile distinfo 

Log message:
Update to py-gobject3-3.24.1.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/11 01:50:27

Modified files:
	faq            : upgrade61.html 

Log message:
missing punctuation


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 02:35:53

Modified files:
	x11/gnome/dictionary: Makefile 
Added files:
	x11/gnome/dictionary/patches: 
	                              patch-libgdict_gdict-client-context_h 
	                              patch-src_gdict-app_c 
	                              patch-src_gdict-sidebar_c 
	                              patch-src_gdict-source-dialog_c 

Log message:
Unbreak with newer GLib.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/11 03:28:00

Modified files:
	devel/py-parsedatetime: Makefile distinfo 
	devel/py-parsedatetime/pkg: PLIST 

Log message:
update py-parsedatetime to 2.3.
ok sthen@ (maintainer).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 03:43:59

Modified files:
	x11/gnome/dictionary: Makefile distinfo 
	x11/gnome/dictionary/pkg: PLIST 
Removed files:
	x11/gnome/dictionary/patches: 
	                              patch-libgdict_gdict-client-context_h 
	                              patch-src_gdict-app_c 
	                              patch-src_gdict-sidebar_c 
	                              patch-src_gdict-source-dialog_c 

Log message:
Update to gnome-dictionary-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 03:49:45

Modified files:
	x11/gnome/adwaita-icon-theme: Makefile distinfo 
	x11/gnome/adwaita-icon-theme/pkg: PLIST 

Log message:
Update to adwaita-icon-theme-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 03:51:48

Modified files:
	x11/gnome/backgrounds: Makefile distinfo 

Log message:
Update to gnome-backgrounds-3.24.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/11 03:57:19

Modified files:
	lib/libutil    : imsg-buffer.c imsg.c 

Log message:
Use freezero(3) for the imsg framework in imsg_free(3) and ibuf_free(3).

In our privsep model, imsg is often used to transport sensitive
information between processes.  But a process might free an imsg, and
reuse the memory for a different thing.  iked uses some
explicit_bzero() to clean imsg-buffer but doing it in the library with
the freezero() is less error-prone and also benefits other daemons.

OK deraadt@ jsing@ claudio@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/11 04:09:31

Modified files:
	faq            : current.html 

Log message:
link to upgrade61.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/11 04:11:38

Modified files:
	x11/gnome/devhelp: Makefile distinfo 
	x11/gnome/devhelp/pkg: PLIST 

Log message:
Update to devhelp-3.24.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/11 04:40:14

Modified files:
	sbin/dhclient  : dhclient.c dhcpd.h kroute.c 

Log message:
Fold priv_write_file() into its only remaining user
priv_write_resolv_conf() and move the latter into kroute.c
with all its priv_ friends.

No intentional functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/11 05:00:24

ports/net/icbd/patches

Update of /cvs/ports/net/icbd/patches
In directory cvs.openbsd.org:/tmp/cvs-serv83813/patches

Log Message:
Directory /cvs/ports/net/icbd/patches added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/04/11 05:01:28

Modified files:
	share/man/man5 : port-modules.5 

Log message:
document more thoroughly the special status of modules gnu, imake, perl5
(for historical reasons)

okay aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/11 05:01:39

Modified files:
	net/icbd       : Makefile 
Added files:
	net/icbd/patches: patch-icb_c patch-icb_h 

Log message:
Don't inline icb_lsmod, fixes with clang (which has c99 inline by default).
Committed upstream.


CVSROOT:	/cvs
Module name:	www
Changes by:	schwarze@cvs.openbsd.org	2017/04/11 05:54:13

Modified files:
	.              : innovations.html 

Log message:
ocspcheck(8) and freezero(3)


CVSROOT:	/cvs
Module name:	www
Changes by:	schwarze@cvs.openbsd.org	2017/04/11 05:57:42

Modified files:
	.              : 61.html 

Log message:
typo


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/11 06:45:36

Modified files:
	www/icedtea-web: Makefile 

Log message:
Switch to jdk-1.8+ to unbreak javaws(1) and take maintainership
ok landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/11 06:49:52

Modified files:
	misc/memcached : Makefile distinfo 

Log message:
Important bugfix update to 1.4.36
Full Changelog at https://github.com/memcached/memcached/wiki/ReleaseNotes


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/11 06:53:49

Modified files:
	mail/p5-MIME-tools: Makefile distinfo 

Log message:
update to 5.509


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/11 07:14:08

Modified files:
	lib/libssl     : ssl_asn1.c 

Log message:
Revert ssl_asn1.c r1.50 - CBB and freezero(3) do not play nicely together.
Back this out while we investigate and implement a solution.

Found the hard way by sthen@


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/11 07:23:37

Modified files:
	.              : 61.html index.html lyrics.html 
Added files:
	images         : Fugu.gif puffy61.gif 

Log message:
release 6.1


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/11 07:32:58

Modified files:
	faq            : current.html 

Log message:
something went wrong in the previous commit.

reported by johnny-o via tj


CVSROOT:	/cvs
Module name:	www
Changes by:	bcook@cvs.openbsd.org	2017/04/11 07:40:34

Modified files:
	libressl       : index.html releases.html 

Log message:
update to 2.5.3 for OpenBSD 6.1 release


CVSROOT:	/cvs
Module name:	www
Changes by:	bcook@cvs.openbsd.org	2017/04/11 07:52:28

Modified files:
	libressl       : index.html 

Log message:
Generalize the utilities line to be a catch-all for new programs, suggested by jsing@, ok from beck@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/11 07:55:38

Modified files:
	textproc       : Makefile 
Removed files:
	textproc/agrep : Makefile distinfo 
	textproc/agrep/patches: patch-agrep_h patch-compat_c 
	                        patch-follow_c patch-mgrep_c 
	                        patch-parse_c patch-sgrep_c 
	                        patch-utilities_c 
	textproc/agrep/pkg: DESCR PLIST 

Log message:
remove the port for agrep-2.04.tar.Z, doesn't build with clang, and we
can't redistribute binaries anyway -

PERMIT_PACKAGE_FTP=	may not modify
PERMIT_PACKAGE_CDROM=	no fee

ok landry


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/11 07:56:52

Modified files:
	textproc/tre   : Makefile 
	textproc/tre/pkg: PLIST 

Log message:
textproc/tre no longer needs @conflict agrep. (this has its own version of
the agrep tool).


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/11 07:57:34

Modified files:
	textproc/glimpse: Makefile 
	textproc/glimpse/pkg: PLIST 

Log message:
remove @conflict agrep, textproc/glimpse has its own version too.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/11 07:59:27

Modified files:
	sbin/dhclient  : dhclient.c kroute.c privsep.h 

Log message:
Shuffle route/interface changing functions together into kroute.c. Try to
group related functions in kroute.c together and comment them a bit.

No intentional functional change.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/11 08:01:38

Modified files:
	build          : mirrors.dat 

Log message:
Remove the commented-out entry for the fau.de mirror which had RAID problems;
requested by Simon Kuhnle. (Thanks for the many years of mirroring at Erlangen!)


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/11 08:15:09

Modified files:
	graphics/png   : Makefile distinfo 

Log message:
maintenance update to 1.6.29


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/11 08:43:49

Modified files:
	sys/dev/ic     : aac.c adw.c ath.c 
	sys/dev/pci    : azalia.c if_dc_pci.c if_nep.c 
	sys/dev/usb/dwc2: dwc2_hcd.c 
	sys/dev/wscons : wsemul_vt100.c wsevent.c 
	sys/net        : if_pfsync.c if_vxlan.c 
	sys/net80211   : ieee80211_input.c 
	sys/netinet    : ip_carp.c ip_output.c 
	sys/ntfs       : ntfs_subr.c 

Log message:
Partially revert previous mallocarray conversions that contain
constants.

The consensus is that if both operands are constant, we don't need
mallocarray.  Reminded by tedu@

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/11 09:16:14

Modified files:
	sys/arch/arm64/dev: pluart.c 
	sys/arch/armv7/dev: pluart.c 

Log message:
Recognize break conditions and enter ddb if ddb.console is set.

ok visa@, deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/11 09:36:56

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
add cached packages to the list of cleaned packages when make clean=packages
I agree with rpe@, this was odd.

Also remove an extra / in constructed package names.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/11 09:55:41

Modified files:
	sys/kern       : kern_pledge.c 

Log message:
Add SIOCATMARK to allow pledge("inet") programs to call sockatmark(3).
from Matthias Pitzl; OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/11 10:00:53

Modified files:
	infrastructure/man/man1: check-lib-depends.1 

Log message:
explain the -S option and how it's currently used


CVSROOT:	/cvs
Module name:	www
Changes by:	tom@cvs.openbsd.org	2017/04/11 10:01:38

Modified files:
	.              : lyrics.html 

Log message:
"Winter of 95" is for release 6.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/11 10:02:15

Modified files:
	infrastructure/bin: check-lib-depends 

Log message:
forgot synopsis


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/11 10:13:53

Modified files:
	.              : ftp.html httpslist 
	build          : mirrors.dat 
	openbgpd       : ftp.html 
	openntpd       : portable.html 
	openssh        : ftp.html portable.html 

Log message:
https for mirror.meerval.net


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/11 10:31:18

Modified files:
	geo/openbsd-developers: Makefile 
	geo/openbsd-developers/files: OpenBSD 

Log message:
Add myself to geo/openbsd-developers.

ok jca@ landry@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/11 11:01:11

Modified files:
	share/man/man3 : sysexits.3 

Log message:
shorten introductory sentence and make deprecation clearer;
disgussed with deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/11 12:40:54

Modified files:
	x11/gnome/eog-plugins: Makefile distinfo 
	x11/gnome/eog-plugins/pkg: PLIST 

Log message:
update to eog-plugins-3.16.6


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/11 13:01:24

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/11 13:23:10

Modified files:
	distrib/miniroot: install.sub 

Log message:
Ensure that the version part of $_url_base is correctly removed by
using $VNAME (x.y) instead of $VERSION (xy). This fixes the problem
that the version part ended up in installurl which is wrong anyway
and also confuses pkg_add.

Thanks to florian@ and trondd at kagu-tsuchi dot com for reporting
this.

OK tb@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/11 13:47:00

Modified files:
	faq            : upgrade61.html 

Log message:
mention postgresql major version bump and the possibility of using the
pg_upgrade tool. omission reported by "vortexx" via tj

help & ok sthen


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/11 14:14:16

Modified files:
	faq            : upgrade61.html 

Log message:
mention the installer bug that has the consequence that some users
must remove a trailing /6.1 from the uri in the installurl file.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/11 14:25:55

Modified files:
	audio/mpg123   : Makefile distinfo 
	audio/mpg123/pkg: PLIST 
Added files:
	audio/mpg123/patches: patch-configure 

Log message:
Update to 1.24.0:
* miscellaneous bug fixes
* use plain dlopen() for opening modules instead of libltdl
* the out123 tool now features tone generation
* enable aarch64 optimizations


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/11 14:31:41

Modified files:
	x11/gnustep/pdfkit: Makefile distinfo 
	x11/gnustep/pdfkit/pkg: PLIST 

Log message:
Update to 1.0.1, and remove BROKEN marker again


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/11 14:32:54

Modified files:
	x11/gnustep/gworkspace: Makefile 
	x11/gnustep/gworkspace/pkg: PLIST 

Log message:
readd dependency to pdfkit, and bump revision


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/11 14:34:27

Modified files:
	x11/gnustep/gui: Makefile distinfo 
	x11/gnustep/gui/pkg: PLIST 

Log message:
Update to 0.25.1, minor shlib bump due to addition of class


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/11 14:35:15

Modified files:
	x11/gnustep/back: Makefile distinfo 

Log message:
minor update to 0.25.1 following the gui update


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/04/11 14:40:33

Modified files:
	share/man/man5 : bsd.port.mk.5 

Log message:
- Mention LIBCXX, prompted by espie@.

- Make it clear that CLANG_ARCHS, GCC3_ARCHS, GCC4_ARCHS refer to the base compiler.
Change "Clang 3.9.1" to just "Clang".


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/04/11 14:40:43

Modified files:
	share/man/man5 : bsd.port.arch.mk.5 

Log message:
- Mention LIBCXX, prompted by espie@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/11 15:02:09

Modified files:
	mail/dovecot   : Makefile distinfo 
	mail/dovecot/pkg: PLIST-server 
Removed files:
	mail/dovecot/patches: patch-src_lib-dcrypt_dcrypt-openssl_c 
	                      patch-src_plugins_trash_trash-plugin_c 

Log message:
update to Dovecot 2.2.29, from Brad.

* passdb/userdb dict: Don't double-expand %variables in keys. If dict
was used as the authentication passdb, using specially crafted
%variables in the username could be used to cause DoS (CVE-2017-2669)


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/11 18:07:19

Modified files:
	.              : index.html 
	faq            : faq4.html 

Log message:
switch "getting openbsd" link to the faq section describing the different
types of install images. adjust wording on said page to accomodate this.

ok deraadt


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/11 19:21:02

Modified files:
	faq            : faq4.html 

Log message:
avoid linking to the bsd.rd section three times in the same section.  make
one 'file sets' in 'downloading openbsd' a link to the file sets section

idea/input tj


CVSROOT:	/cvs
Module name:	ports
Changes by:	jeremy@cvs.openbsd.org	2017/04/11 20:03:18

Modified files:
	www/ruby-unicorn: Makefile distinfo 

Log message:
Update to unicorn 5.3.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/11 20:21:58

Modified files:
	textproc/ripgrep: Makefile distinfo 

Log message:
Update to ripgrep-0.5.1

From the usual suspect (semarie)


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/11 23:46:59

Modified files:
	sys/arch/i386/i386: vmm.c 

Log message:
Correct a format string

Problem noted by Michael W. Bombardieri (mb(at)ii.net)
ok mlarkin@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/12 01:57:06

Modified files:
	gnu/usr.bin/clang/include/clang/intrin: Makefile 

Log message:
Invoke install -d for each directory in the /usr/lib/clang hierarchy
as they aren't in mtree.  Problem with wrong ownership and permission
of directories reported by sthen@.

ok deraadt@ sthen@ tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/12 02:02:10

Modified files:
	gnu/usr.bin/clang/include/clang/intrin: Makefile 

Log message:
explicitly set the ownership on installed include files as well


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 02:07:22

Modified files:
	devel/dtc      : Makefile distinfo 
	devel/dtc/patches: patch-Makefile patch-tests_Makefile_tests 
	devel/dtc/pkg  : PLIST 

Log message:
Update to dtc-1.4.4.

from Brad
OK uaa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 02:20:18

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.39.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 02:20:33

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.76.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 02:29:29

Modified files:
	graphics/shotwell: Makefile distinfo 

Log message:
Update to shotwell-0.26.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 02:47:12

Modified files:
	x11/gnome/user-docs: Makefile distinfo 
	x11/gnome/user-docs/pkg: PLIST 

Log message:
Update to gnome-user-docs-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 03:27:31

Modified files:
	x11/gnome/tracker: Makefile 
Added files:
	x11/gnome/tracker/patches: 
	                           patch-src_tracker-needle_tracker-tags-view_vala 
	                           patch-src_tracker-preferences_tracker-preferences_vala 

Log message:
Allow building with older and newer vala (from upstream).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 03:50:01

Modified files:
	security/heimdal: Makefile distinfo 
	security/heimdal/patches: patch-tools_krb5-config_in 
Removed files:
	security/heimdal/patches: patch-lib_krb5_send_to_kdc_c 

Log message:
Update to heimdal-7.2.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/12 04:52:09

Modified files:
	textproc/vislcg3: Makefile 

Log message:
Convert vislcg3's BROKEN to ONLY_FOR_ARCHS=${CLANG_ARCHS}, the problem we see
with icu4c won't affect things on arches with native clang.

Can't build on aarch64 yet (needs boost which fails).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 04:58:36

Modified files:
	net/bro        : Makefile 
	net/bro/pkg    : PLIST 

Log message:
Conflict with archivers/brotli.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/12 05:11:52

Modified files:
	archivers/unzip: Makefile 
Added files:
	archivers/unzip/patches: patch-ttyio_c 

Log message:
Do not perform tty operations on non-tty file descriptors.  Otherwise
pledge("tty") may abort unzip </dev/null.
discussed with deraadt@ semarie@; OK tb@ sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/12 05:55:41

Modified files:
	regress/sys/kern/pledge/sockopt: Makefile 

Log message:
Add comment how the test works.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/12 05:59:25

Modified files:
	telephony/astmanproxy/patches: patch-Makefile 

Log message:
remove -I- (deprecated in gcc, not available in clang). change preceding -I to -iquote.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/12 06:22:25

Modified files:
	sbin/dhclient  : kroute.c 

Log message:
Shuffle another function.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/12 06:48:20

Modified files:
	net/glib2-networking: Makefile 

Log message:
use LIBCXX


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/12 07:14:08

Modified files:
	regress/sys/kern/pledge: Makefile 
Removed files:
	regress/sys/kern/pledge/sigkill: Makefile sigkill.c sigkill.out 

Log message:
The pledge sigkill test is an outdated copy of sigabrt.  Remove the
former and activate the latter.
OK semarie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/12 07:58:02

Modified files:
	devel/afl      : Makefile distinfo 

Log message:
update to afl 2.41b


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/12 08:08:15

Modified files:
	sbin/dhclient  : dhclient.c 

Log message:
RTM_PROTO3 messages should not trigger a resolv.conf check.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/12 08:46:31

Modified files:
	regress/sys/kern/mount: Makefile 

Log message:
Add comment what the test does.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/12 08:49:05

Modified files:
	usr.bin/script : script.c 

Log message:
bluhm discovered "script < /dev/null" attempts tty operations in violation
of pledge.  We can wrap isatty() around those codepaths.
ok bluhm beck


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/12 08:53:27

Modified files:
	usr.bin/lex    : parse.y 

Log message:
isblank() is ANSI C since C99, no need to provide a replacement.
OK deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/12 09:23:04

Modified files:
	.              : ftp.html httpslist 
	build          : mirrors.dat 
	openbgpd       : ftp.html 
	openntpd       : portable.html 
	openssh        : ftp.html portable.html 

Log message:
https for ftp2.eu.openbsd.org


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/12 09:23:08

Modified files:
	sbin/fsck_ffs  : pass1.c 

Log message:
Prevent inosused from wrapping when soft updates is enabled while
scanning the used inode map.  The code as written assumes inosused
is signed but this is no longer the case.  OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/12 09:59:08

Modified files:
	mail/mutt      : Makefile 

Log message:
enable compressed folders (now that it's in the main mutt release and not
done as a third-party patch). requested by isdtor at gmail/com


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/12 10:06:12

Modified files:
	lib/libc/string: strstr.c 

Log message:
New strstr() implementation from musl libc by Rich Felker.  This
version uses the two-way string matching algorithm and is faster
than the old implementation.  With this change, ports that check
for strstr having linear complexity time strstr will no longer
replace the libc strstr with a private version.
OK deraadt@ espie@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/12 11:34:46

Modified files:
	faq            : faq5.html 

Log message:
recommend that users interested in development add their users to the wobj
group plus some minor tweaks in the noperm release section.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/12 11:41:49

Modified files:
	lib/libc/hash  : siphash.c 

Log message:
SipHash_Final() was assuming the digest was 64-bit aligned, resulting in
misaligned memory accesses with armv7 ramdisk -Os bsd.rd ping
ok florian millert


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 11:59:32

Modified files:
	x11/kde4/libs/patches: patch-kdecore_io_kdirwatch_cpp 
	                       patch-kdecore_util_kshareddatacache_p_h 

Log message:
Regen patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 12:01:08

Modified files:
	x11/kde4/libs  : Makefile 
Added files:
	x11/kde4/libs/patches: patch-cmake_modules_FindHUNSPELL_cmake 

Log message:
Detect hunspell 1.6 presence, fixes x11/kde4/lokalize with upcoming
hunspell update.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 12:09:01

Modified files:
	textproc/hunspell: Makefile distinfo 
	textproc/hunspell/patches: patch-man_hu_hunspell_1 
	                           patch-man_hunspell_1 
	                           patch-src_tools_hunspell_cxx 
	                           patch-tests_test_sh 
	textproc/hunspell/pkg: PLIST 

Log message:
Update to hunspell 1.6.1, went into a full bulk build without issues

- requirement for upcoming firefox 53
- switch to github as upstream
- SHARED_LIBS renamed from hunspell-1.3 to hunspell-1.6, depending ports
will be fixed shortly
- disable nls/gettext, it doesnt build (and is also disabled in freebsd)
- reset MAINTAINERship to ports@ (discussed with edd@)
- fix test.sh shebang patch so that all tests runs fine
ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 12:12:33

Modified files:
	www/mozilla    : mozilla.port.mk 
	devel/codeblocks: Makefile 
	devel/kf5/sonnet: Makefile 
	devel/xulrunner/24: Makefile 
	editors/focuswriter: Makefile 
	editors/ghostwriter: Makefile 
	editors/libreoffice: Makefile 
	editors/texmaker: Makefile 
	editors/texworks: Makefile 
	mail/mozilla-thunderbird: Makefile 
	textproc/link-grammar: Makefile 
	www/firefox-esr: Makefile 
	www/mozilla-firefox: Makefile 
	www/otter-browser: Makefile 
	www/seamonkey  : Makefile 
	www/tor-browser/browser: Makefile 
	x11/kde4/lokalize: Makefile 

Log message:
Fix WANTLIB and bump REVISION for all ports depending on hunspell.

While here enforce dependency on hunspell 1.6 in mozilla.port.mk, as
it's a requirement for 53.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 12:13:33

Modified files:
	www/mozilla    : mozilla.port.mk 

Log message:
Ride the previous REVISION bump and enforce dependency on nss 3.29.5,
hard requirement for firefox 53.


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/04/12 12:24:37

Modified files:
	lib/libedit    : chared.c el.c hist.c terminal.c 

Log message:
Use calloc(3) and recallocarray(3) instead of *alloc* + memset(0).

ok deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/12 12:35:50

Modified files:
	sys/crypto     : siphash.c 

Log message:
The kernel has to slightly different version of SipHash_Final but with
the same bug as just fixed in userland:

----------
SipHash_Final() was assuming the digest was 64-bit aligned, resulting in
misaligned memory accesses with armv7 ramdisk -Os bsd.rd ping
ok florian millert
----------

OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 12:42:34

Modified files:
	textproc/multimarkdown: Makefile distinfo 
Added files:
	textproc/multimarkdown/patches: patch-CMakeLists_txt 
	                                patch-src_html_c 
	                                patch-src_latex_c 
	                                patch-src_multimarkdown_c 
	                                patch-src_parse_utilities_c 
	                                patch-src_parser_leg 
	                                patch-src_writer_c 
Removed files:
	textproc/multimarkdown/patches: patch-Makefile patch-html_c 
	                                patch-latex_c 
	                                patch-parse_utilities_c 
	                                patch-parser_leg patch-writer_c 

Log message:
Update to multimarkdown 5.4.0, from Sean Levy, who's been pinging about
this patch for more than a year (!)

- uses pledge()
- switch to cmake
- enabel tests

Various versions of this patch tested by Micah Muer and Michael McConville


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/12 12:46:52

Modified files:
	meta/tor-browser: Makefile 
	www/tor-browser: Makefile.inc 
	www/tor-browser/browser: Makefile distinfo 
	www/tor-browser/browser/files: extension-overrides.js 
	www/tor-browser/browser/pkg: PLIST 
	www/tor-browser/https-everywhere: Makefile distinfo 
	www/tor-browser/torbutton: Makefile distinfo 

Log message:
Update to tor-browser 6.5.1, from MAINTAINER Sean Levy

- update tor-browser to 6.5.1, based off firefox esr45.8.0
- update https-everywhere to 5.2.11
- update torbutton to 1.9.6.14


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/12 13:12:01

Modified files:
	usr.sbin/dhcpd : conflex.c confpars.c 

Log message:
Add missing function prototypes. Mark kw_cmp() as static like all
its friends.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/12 13:17:30

Modified files:
	usr.sbin/dhcpd : dispatch.c 

Log message:
One 'foo' per function is enough. Rename one to eliminate shadowing.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/12 13:19:11

Modified files:
	usr.sbin/dhcpd : Makefile 

Log message:
Inspired by recent dhcrelay changes, bring in stricter CFLAGS!


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/12 13:29:48

Modified files:
	devel/netbeans : Makefile distinfo 
	devel/netbeans/patches: patch-etc_netbeans_conf 
	devel/netbeans/pkg: PLIST README 
Added files:
	devel/netbeans/patches: patch-bin_netbeans 
Removed files:
	devel/netbeans/patches: patch-platform_lib_nbexec 

Log message:
Update netbeans from 6.9.1 to 8.2

Most work from daniel@ and me with many tweaks from daniel@.

Notable changes:
- Switch to jdk-1.8+
- Remove hidden bash dependency
- Add OpenBSD mem size calculation
- Add giovanni@ and me as MAINTAINER
- README tweaks

ok daniel@ giovanni@


CVSROOT:	/cvs
Module name:	www
Changes by:	fcambus@cvs.openbsd.org	2017/04/12 13:51:45

Modified files:
	build          : groups.dat 

Log message:
Update SBUG URL (http => https).


CVSROOT:	/cvs
Module name:	www
Changes by:	fcambus@cvs.openbsd.org	2017/04/12 13:53:29

Modified files:
	.              : groups.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/12 14:00:30

Log message:
    Import universal-ctags
    
    universal-ctags provides a maintained and actively developed alternative
    to traditional ctags(1) and Exuberant Ctags.  It comes with additional
    options and programming language support.
    
    With many port improvements and tweaks from jca@
    
    ok sthen@ jca@
    
    Status:
    
    Vendor Tag:	rsadowski
    Release Tags:	rsadowski_20170412
    
    N ports/devel/universal-ctags/Makefile
    N ports/devel/universal-ctags/distinfo
    N ports/devel/universal-ctags/pkg/DESCR
    N ports/devel/universal-ctags/pkg/PLIST
    N ports/devel/universal-ctags/patches/patch-makefiles_testing_mak
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/12 14:03:29

Modified files:
	devel          : Makefile 

Log message:
hook up universal-ctags


CVSROOT:	/cvs
Module name:	www
Changes by:	schwarze@cvs.openbsd.org	2017/04/12 14:18:24

Modified files:
	faq/ports      : specialtopics.html 

Log message:
Revert previous to rev. 1.57.
I have no idea what happened here and am quite sorry for the disruption.
Havoc reported by Anton dot Lindqvist at gmail dot com, thanks.


CVSROOT:	/cvs
Module name:	www
Changes by:	schwarze@cvs.openbsd.org	2017/04/12 14:24:17

Modified files:
	faq/ports      : specialtopics.html 

Log message:
Try again what i intended to do in rev. 1.58:
Jan Stary noticed that calling mandoc "quite stable by now" might
cause fear, uncertainty, and doubt, so delete the useless sentence.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/12 15:49:33

Modified files:
	infrastructure/db: user.list 
	net/ftpsesame  : Makefile 
	net/ftpsesame/patches: patch-ftpsesame_c 
	net/ftpsesame/pkg: PLIST 

Log message:
Give ftpsesame its own uid; it was sharing "proxy" (removed from base).
Reported by Olivier Regnier.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/12 15:50:30

Modified files:
	net/ftpsesame  : Tag: OPENBSD_6_1 Makefile 
	net/ftpsesame/patches: Tag: OPENBSD_6_1 patch-ftpsesame_c 
	net/ftpsesame/pkg: Tag: OPENBSD_6_1 PLIST 

Log message:
MFC: Give ftpsesame its own uid; it was sharing "proxy" (removed from base).
Reported by Olivier Regnier.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/12 16:33:15

Modified files:
	www/webkitgtk4 : Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC: maintenance update to WebKitGTK 2.16.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/12 17:09:08

Modified files:
	archivers/zoo  : Makefile 
	archivers/zoo/patches: patch-ar_h patch-misc_c patch-zoopack_c 

Log message:
Regen patches and move REVISION where it belongs


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/12 17:17:57

Modified files:
	archivers/zoo/patches: patch-bsd_c 

Log message:
Fix broken patch that prevents clang builds.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/12 18:40:06

Modified files:
	devel/liburcu  : Makefile 

Log message:
New HOMEPAGE


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/12 21:52:25

Modified files:
	sys/arch/alpha/include: proc.h 
	sys/arch/amd64/include: proc.h 
	sys/arch/arm/include: proc.h 
	sys/arch/arm64/include: proc.h 
	sys/arch/hppa/include: proc.h 
	sys/arch/i386/include: proc.h 
	sys/arch/m88k/include: proc.h 
	sys/arch/mips64/include: proc.h tcb.h 
	sys/arch/mips64/mips64: vm_machdep.c 
	sys/arch/powerpc/include: proc.h 
	sys/arch/sh/include: proc.h 
	sys/arch/sparc64/include: proc.h 
	sys/kern       : kern_exec.c kern_fork.c kern_prot.c kern_sig.c 
	sys/sys        : proc.h 

Log message:
Provide mips64 with kernel-facing TCB_{GET,SET} macros that store it
in struct mdproc.  With that, all archs have those and the __HAVE_MD_TCB
macro can be unifdef'ed as always defined.

ok kettenis@ visa@ jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/12 22:06:46

Modified files:
	sys/kern       : kern_prot.c kern_pledge.c syscalls.master 

Log message:
Delete the getlogin59 syscall, which was last used one year, two releases,
and four libc major versions ago

ok sthen@ jsing@ deraadt@ jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/12 22:09:46

Modified files:
	sys/sys        : syscall.h syscallargs.h 
	sys/kern       : init_sysent.c syscalls.c 

Log message:
regen


CVSROOT:	/cvs
Module name:	src
Changes by:	patrick@cvs.openbsd.org	2017/04/13 01:04:09

Modified files:
	sbin/iked      : config.c iked.h ikev2.c ikev2_pld.c 

Log message:
Add a NAT-T keepalive timer in case we are behind a NAT gateway.

See RFC 5996, section 2.23, NAT Traversal:
In the case of a mismatching NAT_DETECTION_DESTINATION_IP hash, it
means that the system receiving the NAT_DETECTION_DESTINATION_IP
payload is behind a NAT and that system SHOULD start sending
keepalive packets as defined in [UDPENCAPS].

With markus@, ok reyk@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:05:37

Modified files:
	devel/gobject-introspection: Makefile distinfo 

Log message:
update to gobject-introspection-1.52.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:06:13

Modified files:
	lang/vala      : Makefile distinfo 
	lang/vala/pkg  : PLIST 

Log message:
update to vala-0.36.1

tested in a bulk by aja@, fallout will be dealt with shortly


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:06:47

Modified files:
	x11/gnome/anjuta: Makefile 
	x11/gnome/anjuta/patches: patch-configure 
	x11/gnome/anjuta/pkg: PLIST 

Log message:
disable vala support for now, it requires more love than what upstream gives it


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:07:16

Modified files:
	x11/gnome/code-assistance: Makefile 
Added files:
	x11/gnome/code-assistance/patches: 
	                                   patch-backends_vala_valaoptionparser_vala 
	                                   patch-configure 

Log message:
Fix for vala 0.36


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:07:44

Modified files:
	x11/gnome/builder: Makefile 

Log message:
mark this BROKEN, too many fixes required for vala 0.36. It will be updated
next week anyway.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:08:14

Modified files:
	x11/gnome/libgda: Makefile 

Log message:
sync for VALA_API_VERSION


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:08:40

Modified files:
	www/midori     : Makefile 
Added files:
	www/midori/patches: patch-extensions_adblock_widgets_vala 
	                    patch-extensions_apps_vala 
	                    patch-extensions_history-list_vala 
	                    patch-extensions_notes_vala 
	                    patch-extensions_transfers_vala 
	                    patch-midori_midori-notebook_vala 

Log message:
Fixes for vala 0.36, partly from upstream


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:10:01

Modified files:
	sysutils/deja-dup: Makefile 
Added files:
	sysutils/deja-dup/patches: 
	                           patch-deja-dup_widgets_ConfigList_vala 
	                           patch-deja-dup_widgets_ConfigLocation_vala 

Log message:
Fixes for vala 0.36


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:10:21

Modified files:
	mail/geary     : Makefile 
Added files:
	mail/geary/patches: 
	                    patch-src_client_accounts_account-dialog-account-list-pane_vala 
	                    patch-src_client_components_conversation-find-bar_vala 
	                    patch-src_client_conversation-list_conversation-list-store_vala 
	                    patch-src_client_util_util-date_vala 
	                    patch-src_engine_imap-db_imap-db-folder_vala 
	                    patch-src_engine_imap-engine_imap-engine-generic-account_vala 
	                    patch-src_engine_imap-engine_imap-engine-minimal-folder_vala 
	                    patch-src_engine_imap-engine_replay-ops_imap-engine-mark-email_vala 
	                    patch-src_engine_imap_response_imap-fetch-data-decoder_vala 

Log message:
Fixes for vala 0.36


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/13 01:10:45

Modified files:
	textproc/pdfpc : Makefile distinfo 
	textproc/pdfpc/pkg: PLIST 
Added files:
	textproc/pdfpc/patches: patch-src_classes_window_overview_vala 
Removed files:
	textproc/pdfpc/patches: patch-src_classes_action_movie_vala 

Log message:
- update to pdfpc-4.0.6
- fixes for vala 0.36


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/13 01:30:15

Log message:
    Split openttd's data files into independently versioned packages.
    
    ok sthen@ + tweak from kirby@
    
    Status:
    
    Vendor Tag:	bentley
    Release Tags:	bentley_20170413
    
    N ports/games/openttd-data/Makefile.inc
    N ports/games/openttd-data/Makefile
    N ports/games/openttd-data/opengfx/Makefile
    N ports/games/openttd-data/opengfx/distinfo
    N ports/games/openttd-data/opengfx/pkg/PLIST
    N ports/games/openttd-data/opengfx/pkg/DESCR
    N ports/games/openttd-data/opensfx/Makefile
    N ports/games/openttd-data/opensfx/distinfo
    N ports/games/openttd-data/opensfx/pkg/PLIST
    N ports/games/openttd-data/opensfx/pkg/DESCR
    N ports/games/openttd-data/openmsx/Makefile
    N ports/games/openttd-data/openmsx/distinfo
    N ports/games/openttd-data/openmsx/pkg/PLIST
    N ports/games/openttd-data/openmsx/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/13 01:30:21

Modified files:
	sbin/pfctl     : pfctl_table.c 
	sbin/fsck_ffs  : pass4.c 

Log message:
fix wrongly indented lines


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 01:31:18

Modified files:
	graphics/simple-scan: Makefile distinfo 
	graphics/simple-scan/patches: patch-configure_ac 
	                              patch-src_Makefile_in 
	                              patch-src_simple-scan_vala 
	                              patch-src_ui_vala 
	graphics/simple-scan/pkg: PLIST 

Log message:
Update to simple-scan-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/13 01:37:08

Modified files:
	games/openttd  : Makefile distinfo 
	games/openttd/pkg: PLIST 

Log message:
Update to openttd-1.7.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/13 01:37:39

Modified files:
	games          : Makefile 

Log message:
+openttd-data


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 01:38:46

Modified files:
	x11/gnome      : Makefile.inc 
	x11/gnome/adwaita-icon-theme: Makefile 
	x11/gnome/aisleriot: Makefile 
	x11/gnome/anjuta: Makefile 
	x11/gnome/at-spi2-atk: Makefile 
	x11/gnome/at-spi2-core: Makefile 
	x11/gnome/autoar: Makefile 
	x11/gnome/backgrounds: Makefile 
	x11/gnome/banshee: Makefile 
	x11/gnome/baobab: Makefile 
	x11/gnome/bijiben: Makefile 
	x11/gnome/builder: Makefile 
	x11/gnome/calculator: Makefile 
	x11/gnome/calendar: Makefile 
	x11/gnome/caribou: Makefile 
	x11/gnome/characters: Makefile 
	x11/gnome/clocks: Makefile 
	x11/gnome/code-assistance: Makefile 
	x11/gnome/color-manager: Makefile 
	x11/gnome/contacts: Makefile 
	x11/gnome/control-center: Makefile 
	x11/gnome/dconf-editor: Makefile 
	x11/gnome/desktop: Makefile 
	x11/gnome/devel-docs: Makefile 
	x11/gnome/devhelp: Makefile 
	x11/gnome/dictionary: Makefile 
	x11/gnome/documents: Makefile 
	x11/gnome/empathy: Makefile 
	x11/gnome/eog  : Makefile 
	x11/gnome/eog-plugins: Makefile 
	x11/gnome/epub-thumbnailer: Makefile 
	x11/gnome/file-roller: Makefile 
	x11/gnome/font-viewer: Makefile 
	x11/gnome/gcr  : Makefile 
	x11/gnome/gdl  : Makefile 
	x11/gnome/gdm  : Makefile 
	x11/gnome/gedit: Makefile 
	x11/gnome/gedit-code-assistance: Makefile 
	x11/gnome/gedit-plugins: Makefile 
	x11/gnome/getting-started-docs: Makefile 
	x11/gnome/gfbgraph: Makefile 
	x11/gnome/ghex : Makefile 
	x11/gnome/gjs  : Makefile 
	x11/gnome/grilo: Makefile 
	x11/gnome/grilo-plugins: Makefile 
	x11/gnome/gucharmap: Makefile 
	x11/gnome/gvfs : Makefile 
	x11/gnome/icon-theme: Makefile 
	x11/gnome/icon-theme-symbolic: Makefile 
	x11/gnome/keyring: Makefile 
	x11/gnome/latexila: Makefile 
	x11/gnome/libbonobo: Makefile 
	x11/gnome/libbonoboui: Makefile 
	x11/gnome/libcryptui: Makefile 
	x11/gnome/libgepub: Makefile 
	x11/gnome/libgnome: Makefile 
	x11/gnome/libgnome-keyring: Makefile 
	x11/gnome/libgnomecanvas: Makefile 
	x11/gnome/libgnomecanvasmm: Makefile 
	x11/gnome/libgnomekbd: Makefile 
	x11/gnome/libgnomeui: Makefile 
	x11/gnome/libgweather: Makefile 
	x11/gnome/libmediaart: Makefile 
	x11/gnome/librsvg: Makefile 
	x11/gnome/libsecret: Makefile 
	x11/gnome/libxklavier: Makefile 
	x11/gnome/libzapojit: Makefile 
	x11/gnome/maps : Makefile 
	x11/gnome/menus: Makefile 
	x11/gnome/mime-data: Makefile 
	x11/gnome/mono-gnome: Makefile 
	x11/gnome/mousetweaks: Makefile 
	x11/gnome/music: Makefile 
	x11/gnome/mutter: Makefile 
	x11/gnome/nautilus: Makefile 
	x11/gnome/nautilus-sendto: Makefile 
	x11/gnome/ocrfeeder: Makefile 
	x11/gnome/online-accounts: Makefile 
	x11/gnome/online-miners: Makefile 
	x11/gnome/orca : Makefile 
	x11/gnome/photos: Makefile 
	x11/gnome/pinpoint: Makefile 
	x11/gnome/planner: Makefile 
	x11/gnome/power-manager: Makefile 
	x11/gnome/py-atspi: Makefile 
	x11/gnome/quadrapassel: Makefile 
	x11/gnome/recipes: Makefile 
	x11/gnome/screenshot: Makefile 
	x11/gnome/seahorse: Makefile 
	x11/gnome/seahorse-nautilus: Makefile 
	x11/gnome/seahorse-sharing: Makefile 
	x11/gnome/session: Makefile 
	x11/gnome/settings-daemon: Makefile 
	x11/gnome/shell: Makefile 
	x11/gnome/shell-extensions: Makefile 
	x11/gnome/sushi: Makefile 
	x11/gnome/system-monitor: Makefile 
	x11/gnome/terminal: Makefile 
	x11/gnome/themes-standard: Makefile 
	x11/gnome/todo : Makefile 
	x11/gnome/totem: Makefile 
	x11/gnome/totem-pl-parser: Makefile 
	x11/gnome/tweak-tool: Makefile 
	x11/gnome/vfs2 : Makefile 
	x11/gnome/vinagre: Makefile 
	x11/gnome/weather: Makefile 
	x11/gnome/yelp : Makefile 
	x11/gnome/yelp-tools: Makefile 
	x11/gnome/yelp-xsl: Makefile 
	x11/gnome/zenity: Makefile 

Log message:
Stop setting CONFIGURE_STYLE in Makefile.inc but explicitely add it to ports
that need it; in the future more and more ports will move to meson build anyway.
I first though I'd set CONFIGURE_STYLE in gnome.port.mk but it's too fragile
(MODULES list must be sorted very carefully).
Less magic is good.

discussed with jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/13 02:04:41

Modified files:
	www/midori     : Makefile 

Log message:
Fix previous: rm extensions/*.orig files after patching, otherwise cmake
trips on it and configure fails:
CMake Error: CMake can not determine linker language for target: history-list.orig
CMake Error: CMake can not determine linker language for target: transfers.orig
CMake Error: CMake can not determine linker language for target: apps.orig
CMake Error: CMake can not determine linker language for target: notes.orig


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 02:42:31

Modified files:
	graphics/gegl03: Makefile 

Log message:
Temporarily mark BROKEN.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 02:43:22

Modified files:
	devel/appstream-glib: Makefile distinfo 

Log message:
Update to appstream-glib-0.6.12.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/13 03:00:18

Added files:
	news/multimail/patches: patch-Makefile 

Log message:
Remove hardcoded optimization (-O2) flag.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/13 03:02:41

Modified files:
	benchmarks/speedtest-cli: Makefile distinfo 

Log message:
Update speedtest-cli to 1.0.4.

OK benoit@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/13 03:05:52

Modified files:
	www/midori     : Makefile 
Added files:
	www/midori/patches: patch-midori_midori-browser_c 
	                    patch-midori_midori-view_c 
	                    patch-midori_midori-window_vala 

Log message:
Backport r7039.

Remove the code hiding the titlebar when the window is maximized, has
always confused me. Cf
http://bazaar.launchpad.net/~midori/midori/trunk/revision/7039


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 03:06:38

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-151.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 03:35:56

Modified files:
	mail/dovecot-pigeonhole: Makefile distinfo 

Log message:
update to dovecot-pigeonhole 0.4.18, from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 03:36:36

Modified files:
	mail/rspamd    : Makefile distinfo 
	mail/rspamd/patches: patch-CMakeLists_txt 
	                     patch-src_client_CMakeLists_txt 

Log message:
update to rspamd-1.5.5, from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/13 03:41:15

Modified files:
	archivers/zstd : Makefile distinfo 
	archivers/zstd/patches: patch-tests_playTests_sh 

Log message:
Update to zstd 1.1.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 03:54:38

Modified files:
	editors/abiword: Makefile distinfo 
	editors/abiword/pkg: PLIST 
Added files:
	editors/abiword/patches: 
	                         patch-src_af_xap_gtk_xap_UnixFrameImpl_cpp 
	                         patch-src_af_xap_gtk_xap_UnixFrameImpl_h 
Removed files:
	editors/abiword/patches: patch-src_Makefile_in 

Log message:
Update to abiword-3.0.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 04:35:33

Modified files:
	net/isc-bind   : Makefile distinfo 

Log message:
update to BIND 9.10.4-P8 (-P7 was withdrawn)

CVE-2017-3136: An error handling synthesized records could cause an
assertion failure when using DNS64 with "break-dnssec yes;"

CVE-2017-3137: A response packet can cause a resolver to terminate when
processing an answer containing a CNAME or DNAME

CVE-2017-3138: named exits with a REQUIRE assertion failure if it receives
a null command string on its control channel


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 04:36:11

Modified files:
	net/isc-bind   : Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC update to BIND 9.10.4-P8 (-P7 was withdrawn)

CVE-2017-3136: An error handling synthesized records could cause an
assertion failure when using DNS64 with "break-dnssec yes;"

CVE-2017-3137: A response packet can cause a resolver to terminate when
processing an answer containing a CNAME or DNAME

CVE-2017-3138: named exits with a REQUIRE assertion failure if it receives
a null command string on its control channel


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/13 05:15:15

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
Remove aviion from architecture constants, the OpenBSD/aviion port has
been discontinued after the 5.7 release.

OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 06:05:43

Modified files:
	net/wireshark  : Makefile distinfo 

Log message:
update to wireshark-2.2.6, updated protocol support and the usual round of
dissector infinite loops and crashes


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 06:06:21

Modified files:
	net/wireshark  : Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC update to wireshark-2.2.6, updated protocol support and the usual round of
dissector infinite loops and crashes


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/13 07:01:20

Modified files:
	graphics/gegl03: Makefile 
Added files:
	graphics/gegl03/patches: patch-configure patch-gegl_Makefile_in 

Log message:
Unbreak build with new gobject-introspection (from upstream).


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 07:40:21

Modified files:
	www/tor-browser/noscript: Makefile 

Log message:
missed bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 07:41:29

Modified files:
	www/tor-browser/tor-launcher: Makefile 

Log message:
missed bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/13 07:43:29

Modified files:
	www/tor-browser: Makefile.inc 

Log message:
add a reminder to bump REVISION for extensions


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/13 08:48:31

Modified files:
	usr.sbin/ldapd : syntax.c 

Log message:
multi-statement CHECK_RANGE() macro isn't safe for all placements, and
needs to use "do {} while 0" idiom; all callers need repair also.
Discovered by jsg


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/13 08:59:40

Modified files:
	usr.sbin/dhcpd : dhcpd.h 

Log message:
Remove a bunch of obsolete, unused and irrelevant DHCP client types, fields,
and enums.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/13 09:32:15

Modified files:
	usr.sbin/rebound: rebound.c 

Log message:
moving some code into a switch meant that break no longer stopped the loop.
try harder with a goto. diagnosis and original fix by tb.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/13 12:29:43

Modified files:
	faq/ports      : specialtopics.html 

Log message:
add some man-links and do some minimal cleanup.

initial diff by anton lindqvist plus some tweaks by me


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/13 12:32:55

Modified files:
	lib/libc/stdlib: malloc.3 malloc.c 

Log message:
allow clearing less than allocated and document freezero(3) better


CVSROOT:	/cvs
Module name:	src
Changes by:	brynet@cvs.openbsd.org	2017/04/13 12:36:51

Modified files:
	lib/libc/stdio : getdelim.c 

Log message:
Use recallocarray in getdelim/getline to clear memory on buffer resizes,
inspired by a similar change to fgetln.

ok deraadt millert


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/13 12:41:53

Modified files:
	faq            : faq14.html 

Log message:
more man links


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/13 13:56:26

Modified files:
	mail/p5-Email-MIME: Makefile distinfo 

Log message:
bugfix update to 1.940


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/13 14:48:29

Modified files:
	sys/arch/arm64/arm64: pmap.c 

Log message:
Use the non-interrupt-safe pool allocator for the vp pool to avoid runninng
out of kva in the kmem_map.  Avoids a hang when spawning a lot of processes.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/13 14:57:32

Modified files:
	faq            : faq1.html faq14.html faq6.html faq7.html 
	                 index.html 

Log message:
more consistency in the section titles.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/13 15:21:44

Modified files:
	misc/buffer    : Makefile 
	misc/buffer/patches: patch-buffer_c 
Added files:
	misc/buffer/patches: patch-sem_c 

Log message:
fix build with clang; drop maintainer


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/13 15:49:11

Modified files:
	lib/libc/sys   : execve.2 

Log message:
Xr sigprocmask(2) not the obsolete sigsetmask(3)


CVSROOT:	/cvs
Module name:	ports
Changes by:	jturner@cvs.openbsd.org	2017/04/13 16:25:24

Modified files:
	devel/fossil   : Makefile distinfo 

Log message:
Update fossil to 2.2


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/13 17:29:02

Modified files:
	sys/arch/arm64/include: pte.h 

Log message:
A little bit more trivial cleanup.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/13 18:38:30

Modified files:
	.              : index.html 
Removed files:
	.              : older.html 

Log message:
split "songs & artwork" link into two separate pages, one for each.
remove older.html as its contents were moved to orders.html a while back.

ok deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	ian@cvs.openbsd.org	2017/04/13 18:44:21

Modified files:
	java/jlint/patches: patch-jlint_cc 
Added files:
	java/jlint/patches: patch-method_desc_cc patch-method_desc_hh 

Log message:
Unbreak on clang. ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/13 18:53:28

Modified files:
	usr.sbin/vmctl : vmctl.8 

Log message:
Update a man page example to reflect recent changes.

Spotted by Ilya Kaliman, thanks.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/13 19:02:28

Modified files:
	sys/arch/amd64/amd64: identcpu.c 
	sys/arch/amd64/include: cpu.h 

Log message:
SVM: calculate max ASID value and save for later use. This will be used in
an upcoming diff to handle ASID/VPID reuse/rollover.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/13 19:23:02

Modified files:
	lib/libc/gen   : sysctl.3 

Log message:
correct path; from Klemens Nanni


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/13 23:41:53

Modified files:
	emulators/mupen64plus/video-glide64: Makefile 

Log message:
Disable ASM, fixing the build with clang.

This same code is already disabled in the glide64mk2 port, as it is
marked as SSE (which is disabled) there.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/14 01:05:00

Modified files:
	www/tor-browser/browser/pkg: PLIST 

Log message:
I don't see how this ever packaged; there's no README.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/14 01:22:02

Modified files:
	sys/sys        : cdefs.h 

Log message:
Define __dead and __pure even if __STRICT_ANSI__ for compilers that
support GCC's __attribute__ syntax.  Fixes several warnings when compiling
code with clang with -std=c++11 or some other strict ISO standard.

ok millert@, guenther@


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	jsg@cvs.openbsd.org	2017/04/14 01:46:12

Log message:
    Import libdrm 2.4.79
    
    Status:
    
    Vendor Tag:	libdrm
    Release Tags:	libdrm_2_4_79
    
    U xenocara/lib/libdrm/libsync.h
    U xenocara/lib/libdrm/xf86drmHash.h
    U xenocara/lib/libdrm/libdrm.pc.in
    C xenocara/lib/libdrm/configure
    C xenocara/lib/libdrm/xf86drmMode.c
    U xenocara/lib/libdrm/xf86drmRandom.h
    U xenocara/lib/libdrm/util_double_list.h
    U xenocara/lib/libdrm/xf86drmMode.h
    U xenocara/lib/libdrm/xf86drmSL.c
    U xenocara/lib/libdrm/libdrm_lists.h
    C xenocara/lib/libdrm/Makefile.in
    C xenocara/lib/libdrm/aclocal.m4
    C xenocara/lib/libdrm/xf86drm.c
    U xenocara/lib/libdrm/README
    U xenocara/lib/libdrm/config.h.in
    U xenocara/lib/libdrm/libdrm_macros.h
    U xenocara/lib/libdrm/xf86drmRandom.c
    U xenocara/lib/libdrm/xf86atomic.h
    U xenocara/lib/libdrm/util_math.h
    U xenocara/lib/libdrm/Makefile.sources
    U xenocara/lib/libdrm/xf86drmHash.c
    U xenocara/lib/libdrm/Makefile.am
    C xenocara/lib/libdrm/configure.ac
    C xenocara/lib/libdrm/xf86drm.h
    C xenocara/lib/libdrm/tegra/Makefile.in
    U xenocara/lib/libdrm/tegra/libdrm_tegra.pc.in
    U xenocara/lib/libdrm/tegra/private.h
    U xenocara/lib/libdrm/tegra/tegra-symbol-check
    U xenocara/lib/libdrm/tegra/Makefile.am
    U xenocara/lib/libdrm/tegra/tegra.c
    U xenocara/lib/libdrm/tegra/tegra.h
    U xenocara/lib/libdrm/freedreno/freedreno_drmif.h
    U xenocara/lib/libdrm/freedreno/freedreno_priv.h
    U xenocara/lib/libdrm/freedreno/freedreno_device.c
    U xenocara/lib/libdrm/freedreno/libdrm_freedreno.pc.in
    U xenocara/lib/libdrm/freedreno/freedreno_bo_cache.c
    C xenocara/lib/libdrm/freedreno/Makefile.in
    U xenocara/lib/libdrm/freedreno/freedreno_ringbuffer.h
    U xenocara/lib/libdrm/freedreno/freedreno_pipe.c
    U xenocara/lib/libdrm/freedreno/freedreno-symbol-check
    U xenocara/lib/libdrm/freedreno/freedreno_ringbuffer.c
    U xenocara/lib/libdrm/freedreno/Makefile.sources
    U xenocara/lib/libdrm/freedreno/Makefile.am
    U xenocara/lib/libdrm/freedreno/freedreno_bo.c
    U xenocara/lib/libdrm/freedreno/msm/msm_pipe.c
    U xenocara/lib/libdrm/freedreno/msm/msm_drm.h
    U xenocara/lib/libdrm/freedreno/msm/msm_bo.c
    U xenocara/lib/libdrm/freedreno/msm/msm_ringbuffer.c
    U xenocara/lib/libdrm/freedreno/msm/msm_priv.h
    U xenocara/lib/libdrm/freedreno/msm/msm_device.c
    U xenocara/lib/libdrm/freedreno/kgsl/kgsl_bo.c
    U xenocara/lib/libdrm/freedreno/kgsl/kgsl_device.c
    U xenocara/lib/libdrm/freedreno/kgsl/kgsl_drm.h
    U xenocara/lib/libdrm/freedreno/kgsl/kgsl_pipe.c
    U xenocara/lib/libdrm/freedreno/kgsl/kgsl_ringbuffer.c
    U xenocara/lib/libdrm/freedreno/kgsl/kgsl_priv.h
    U xenocara/lib/libdrm/freedreno/kgsl/msm_kgsl.h
    U xenocara/lib/libdrm/tests/drmdevice.c
    U xenocara/lib/libdrm/tests/drmsl.c
    U xenocara/lib/libdrm/tests/random.c
    C xenocara/lib/libdrm/tests/Makefile.in
    U xenocara/lib/libdrm/tests/Makefile.am
    U xenocara/lib/libdrm/tests/hash.c
    C xenocara/lib/libdrm/tests/tegra/Makefile.in
    U xenocara/lib/libdrm/tests/tegra/openclose.c
    U xenocara/lib/libdrm/tests/tegra/Makefile.am
    U xenocara/lib/libdrm/tests/kms/libkms-test-framebuffer.c
    U xenocara/lib/libdrm/tests/kms/libkms-test-crtc.c
    C xenocara/lib/libdrm/tests/kms/Makefile.in
    U xenocara/lib/libdrm/tests/kms/libkms-test-screen.c
    U xenocara/lib/libdrm/tests/kms/kms-steal-crtc.c
    U xenocara/lib/libdrm/tests/kms/kms-universal-planes.c
    U xenocara/lib/libdrm/tests/kms/libkms-test.h
    U xenocara/lib/libdrm/tests/kms/Makefile.am
    U xenocara/lib/libdrm/tests/kms/libkms-test-device.c
    U xenocara/lib/libdrm/tests/kms/libkms-test-plane.c
    U xenocara/lib/libdrm/tests/etnaviv/state.xml.h
    U xenocara/lib/libdrm/tests/etnaviv/write_bmp.h
    U xenocara/lib/libdrm/tests/etnaviv/etnaviv_bo_cache_test.c
    C xenocara/lib/libdrm/tests/etnaviv/Makefile.in
    U xenocara/lib/libdrm/tests/etnaviv/write_bmp.c
    U xenocara/lib/libdrm/tests/etnaviv/etnaviv_cmd_stream_test.c
    U xenocara/lib/libdrm/tests/etnaviv/etnaviv_2d_test.c
    U xenocara/lib/libdrm/tests/etnaviv/cmdstream.xml.h
    U xenocara/lib/libdrm/tests/etnaviv/state_2d.xml.h
    U xenocara/lib/libdrm/tests/etnaviv/Makefile.am
    U xenocara/lib/libdrm/tests/util/format.c
    U xenocara/lib/libdrm/tests/util/kms.c
    C xenocara/lib/libdrm/tests/util/Makefile.in
    U xenocara/lib/libdrm/tests/util/format.h
    U xenocara/lib/libdrm/tests/util/pattern.c
    U xenocara/lib/libdrm/tests/util/common.h
    U xenocara/lib/libdrm/tests/util/Makefile.sources
    U xenocara/lib/libdrm/tests/util/kms.h
    U xenocara/lib/libdrm/tests/util/Makefile.am
    U xenocara/lib/libdrm/tests/util/pattern.h
    U xenocara/lib/libdrm/tests/amdgpu/bo_tests.c
    U xenocara/lib/libdrm/tests/amdgpu/cs_tests.c
    U xenocara/lib/libdrm/tests/amdgpu/vce_tests.c
    U xenocara/lib/libdrm/tests/amdgpu/amdgpu_test.c
    C xenocara/lib/libdrm/tests/amdgpu/Makefile.in
    U xenocara/lib/libdrm/tests/amdgpu/vce_ib.h
    U xenocara/lib/libdrm/tests/amdgpu/amdgpu_test.h
    U xenocara/lib/libdrm/tests/amdgpu/frame.h
    U xenocara/lib/libdrm/tests/amdgpu/basic_tests.c
    U xenocara/lib/libdrm/tests/amdgpu/uvd_messages.h
    U xenocara/lib/libdrm/tests/amdgpu/Makefile.am
    C xenocara/lib/libdrm/tests/vbltest/Makefile.in
    U xenocara/lib/libdrm/tests/vbltest/vbltest.c
    U xenocara/lib/libdrm/tests/vbltest/Makefile.am
    C xenocara/lib/libdrm/tests/modeprint/Makefile.in
    U xenocara/lib/libdrm/tests/modeprint/modeprint.c
    U xenocara/lib/libdrm/tests/modeprint/Makefile.am
    C xenocara/lib/libdrm/tests/exynos/Makefile.in
    U xenocara/lib/libdrm/tests/exynos/exynos_fimg2d_event.c
    U xenocara/lib/libdrm/tests/exynos/exynos_fimg2d_test.c
    U xenocara/lib/libdrm/tests/exynos/Makefile.am
    U xenocara/lib/libdrm/tests/exynos/exynos_fimg2d_perf.c
    C xenocara/lib/libdrm/tests/radeon/Makefile.in
    U xenocara/lib/libdrm/tests/radeon/rbo.c
    U xenocara/lib/libdrm/tests/radeon/radeon_ttm.c
    U xenocara/lib/libdrm/tests/radeon/Makefile.am
    U xenocara/lib/libdrm/tests/radeon/rbo.h
    C xenocara/lib/libdrm/tests/proptest/Makefile.in
    U xenocara/lib/libdrm/tests/proptest/Makefile.sources
    U xenocara/lib/libdrm/tests/proptest/proptest.c
    U xenocara/lib/libdrm/tests/proptest/Makefile.am
    U xenocara/lib/libdrm/tests/modetest/buffers.c
    U xenocara/lib/libdrm/tests/modetest/cursor.h
    C xenocara/lib/libdrm/tests/modetest/Makefile.in
    U xenocara/lib/libdrm/tests/modetest/cursor.c
    U xenocara/lib/libdrm/tests/modetest/modetest.c
    U xenocara/lib/libdrm/tests/modetest/buffers.h
    U xenocara/lib/libdrm/tests/modetest/Makefile.sources
    U xenocara/lib/libdrm/tests/modetest/Makefile.am
    C xenocara/lib/libdrm/tests/kmstest/Makefile.in
    U xenocara/lib/libdrm/tests/kmstest/Makefile.am
    U xenocara/lib/libdrm/tests/kmstest/main.c
    U xenocara/lib/libdrm/tests/nouveau/threaded.c
    C xenocara/lib/libdrm/tests/nouveau/Makefile.in
    U xenocara/lib/libdrm/tests/nouveau/Makefile.am
    U xenocara/lib/libdrm/etnaviv/etnaviv_priv.h
    U xenocara/lib/libdrm/etnaviv/etnaviv_device.c
    U xenocara/lib/libdrm/etnaviv/etnaviv_bo_cache.c
    C xenocara/lib/libdrm/etnaviv/Makefile.in
    U xenocara/lib/libdrm/etnaviv/etnaviv_pipe.c
    U xenocara/lib/libdrm/etnaviv/etnaviv_drm.h
    U xenocara/lib/libdrm/etnaviv/Makefile.sources
    U xenocara/lib/libdrm/etnaviv/etnaviv_bo.c
    U xenocara/lib/libdrm/etnaviv/Makefile.am
    U xenocara/lib/libdrm/etnaviv/etnaviv_cmd_stream.c
    U xenocara/lib/libdrm/etnaviv/etnaviv_gpu.c
    U xenocara/lib/libdrm/etnaviv/etnaviv_drmif.h
    U xenocara/lib/libdrm/etnaviv/etnaviv-symbol-check
    U xenocara/lib/libdrm/etnaviv/libdrm_etnaviv.pc.in
    U xenocara/lib/libdrm/amdgpu/util_hash.h
    U xenocara/lib/libdrm/amdgpu/amdgpu_device.c
    U xenocara/lib/libdrm/amdgpu/util_hash_table.h
    C xenocara/lib/libdrm/amdgpu/Makefile.in
    U xenocara/lib/libdrm/amdgpu/amdgpu_vamgr.c
    U xenocara/lib/libdrm/amdgpu/amdgpu_asic_id.h
    U xenocara/lib/libdrm/amdgpu/util_hash_table.c
    U xenocara/lib/libdrm/amdgpu/amdgpu_cs.c
    U xenocara/lib/libdrm/amdgpu/amdgpu.h
    U xenocara/lib/libdrm/amdgpu/amdgpu_gpu_info.c
    U xenocara/lib/libdrm/amdgpu/Makefile.sources
    U xenocara/lib/libdrm/amdgpu/libdrm_amdgpu.pc.in
    U xenocara/lib/libdrm/amdgpu/amdgpu_internal.h
    U xenocara/lib/libdrm/amdgpu/Makefile.am
    C xenocara/lib/libdrm/amdgpu/amdgpu_bo.c
    U xenocara/lib/libdrm/amdgpu/amdgpu-symbol-check
    U xenocara/lib/libdrm/amdgpu/util_hash.c
    U xenocara/lib/libdrm/omap/omap_drm.c
    U xenocara/lib/libdrm/omap/omap-symbol-check
    U xenocara/lib/libdrm/omap/omap_drmif.h
    C xenocara/lib/libdrm/omap/Makefile.in
    U xenocara/lib/libdrm/omap/Makefile.am
    U xenocara/lib/libdrm/omap/libdrm_omap.pc.in
    U xenocara/lib/libdrm/omap/omap_drm.h
    U xenocara/lib/libdrm/exynos/exynos_fimg2d.h
    U xenocara/lib/libdrm/exynos/exynos_fimg2d.c
    U xenocara/lib/libdrm/exynos/exynos_drm.c
    C xenocara/lib/libdrm/exynos/Makefile.in
    U xenocara/lib/libdrm/exynos/exynos_drm.h
    U xenocara/lib/libdrm/exynos/fimg2d_reg.h
    U xenocara/lib/libdrm/exynos/exynos-symbol-check
    U xenocara/lib/libdrm/exynos/libdrm_exynos.pc.in
    U xenocara/lib/libdrm/exynos/Makefile.am
    U xenocara/lib/libdrm/exynos/exynos_drmif.h
    C xenocara/lib/libdrm/vc4/Makefile.in
    U xenocara/lib/libdrm/vc4/libdrm_vc4.pc.in
    U xenocara/lib/libdrm/vc4/vc4_qpu_defines.h
    U xenocara/lib/libdrm/vc4/Makefile.sources
    U xenocara/lib/libdrm/vc4/vc4_packet.h
    U xenocara/lib/libdrm/vc4/Makefile.am
    U xenocara/lib/libdrm/man/drmModeGetResources.xml
    U xenocara/lib/libdrm/man/drmAvailable.xml
    C xenocara/lib/libdrm/man/Makefile.in
    U xenocara/lib/libdrm/man/drmHandleEvent.xml
    U xenocara/lib/libdrm/man/drm.xml
    U xenocara/lib/libdrm/man/drm-kms.xml
    U xenocara/lib/libdrm/man/Makefile.am
    U xenocara/lib/libdrm/man/drm-memory.xml
    U xenocara/lib/libdrm/radeon/radeon_bo_int.h
    U xenocara/lib/libdrm/radeon/radeon_bo.c
    U xenocara/lib/libdrm/radeon/radeon_surface.c
    U xenocara/lib/libdrm/radeon/radeon_bo_gem.c
    U xenocara/lib/libdrm/radeon/radeon_cs_gem.c
    C xenocara/lib/libdrm/radeon/Makefile.in
    U xenocara/lib/libdrm/radeon/radeon_cs.c
    U xenocara/lib/libdrm/radeon/radeon_bo_gem.h
    U xenocara/lib/libdrm/radeon/bof.h
    U xenocara/lib/libdrm/radeon/radeon_surface.h
    U xenocara/lib/libdrm/radeon/radeon-symbol-check
    U xenocara/lib/libdrm/radeon/radeon_cs_gem.h
    U xenocara/lib/libdrm/radeon/radeon_cs_int.h
    U xenocara/lib/libdrm/radeon/Makefile.sources
    U xenocara/lib/libdrm/radeon/r600_pci_ids.h
    U xenocara/lib/libdrm/radeon/Makefile.am
    U xenocara/lib/libdrm/radeon/radeon_bo.h
    U xenocara/lib/libdrm/radeon/radeon_cs_space.c
    U xenocara/lib/libdrm/radeon/radeon_cs.h
    U xenocara/lib/libdrm/radeon/bof.c
    U xenocara/lib/libdrm/radeon/libdrm_radeon.pc.in
    C xenocara/lib/libdrm/intel/intel_bufmgr_gem.c
    U xenocara/lib/libdrm/intel/libdrm_intel.pc.in
    U xenocara/lib/libdrm/intel/uthash.h
    C xenocara/lib/libdrm/intel/Makefile.in
    U xenocara/lib/libdrm/intel/intel_bufmgr.c
    U xenocara/lib/libdrm/intel/mm.h
    U xenocara/lib/libdrm/intel/intel_bufmgr_priv.h
    U xenocara/lib/libdrm/intel/intel_bufmgr_fake.c
    C xenocara/lib/libdrm/intel/intel_decode.c
    U xenocara/lib/libdrm/intel/intel_bufmgr.h
    U xenocara/lib/libdrm/intel/intel_chipset.h
    U xenocara/lib/libdrm/intel/mm.c
    U xenocara/lib/libdrm/intel/intel_debug.h
    U xenocara/lib/libdrm/intel/intel_aub.h
    U xenocara/lib/libdrm/intel/Makefile.sources
    U xenocara/lib/libdrm/intel/test_decode.c
    U xenocara/lib/libdrm/intel/intel-symbol-check
    U xenocara/lib/libdrm/intel/Makefile.am
    U xenocara/lib/libdrm/intel/tests/gen6-3d.batch
    U xenocara/lib/libdrm/intel/tests/gen6-3d.batch-ref.txt
    U xenocara/lib/libdrm/intel/tests/gen4-3d.batch
    U xenocara/lib/libdrm/intel/tests/gm45-3d.batch-ref.txt
    U xenocara/lib/libdrm/intel/tests/gen6-3d.batch.sh
    U xenocara/lib/libdrm/intel/tests/gm45-3d.batch
    U xenocara/lib/libdrm/intel/tests/test-batch.sh
    U xenocara/lib/libdrm/intel/tests/gen7-2d-copy.batch.sh
    U xenocara/lib/libdrm/intel/tests/gen7-3d.batch-ref.txt
    U xenocara/lib/libdrm/intel/tests/gen7-2d-copy.batch-ref.txt
    U xenocara/lib/libdrm/intel/tests/gen5-3d.batch.sh
    U xenocara/lib/libdrm/intel/tests/gm45-3d.batch.sh
    U xenocara/lib/libdrm/intel/tests/gen5-3d.batch
    U xenocara/lib/libdrm/intel/tests/gen7-3d.batch
    U xenocara/lib/libdrm/intel/tests/gen7-2d-copy.batch
    U xenocara/lib/libdrm/intel/tests/gen5-3d.batch-ref.txt
    U xenocara/lib/libdrm/intel/tests/gen4-3d.batch.sh
    U xenocara/lib/libdrm/intel/tests/gen7-3d.batch.sh
    U xenocara/lib/libdrm/intel/tests/gen4-3d.batch-ref.txt
    C xenocara/lib/libdrm/m4/libtool.m4
    U xenocara/lib/libdrm/m4/ltsugar.m4
    U xenocara/lib/libdrm/m4/ltversion.m4
    U xenocara/lib/libdrm/m4/lt~obsolete.m4
    U xenocara/lib/libdrm/m4/ltoptions.m4
    U xenocara/lib/libdrm/include/drm/mga_drm.h
    U xenocara/lib/libdrm/include/drm/mach64_drm.h
    U xenocara/lib/libdrm/include/drm/virtgpu_drm.h
    U xenocara/lib/libdrm/include/drm/sis_drm.h
    U xenocara/lib/libdrm/include/drm/savage_drm.h
    U xenocara/lib/libdrm/include/drm/vc4_drm.h
    U xenocara/lib/libdrm/include/drm/drm_fourcc.h
    U xenocara/lib/libdrm/include/drm/nouveau_drm.h
    U xenocara/lib/libdrm/include/drm/vmwgfx_drm.h
    U xenocara/lib/libdrm/include/drm/README
    U xenocara/lib/libdrm/include/drm/tegra_drm.h
    U xenocara/lib/libdrm/include/drm/drm_mode.h
    U xenocara/lib/libdrm/include/drm/r128_drm.h
    U xenocara/lib/libdrm/include/drm/radeon_drm.h
    U xenocara/lib/libdrm/include/drm/qxl_drm.h
    U xenocara/lib/libdrm/include/drm/via_drm.h
    U xenocara/lib/libdrm/include/drm/drm_sarea.h
    U xenocara/lib/libdrm/include/drm/i915_drm.h
    C xenocara/lib/libdrm/include/drm/drm.h
    U xenocara/lib/libdrm/include/drm/amdgpu_drm.h
    U xenocara/lib/libdrm/nouveau/nouveau.c
    C xenocara/lib/libdrm/nouveau/Makefile.in
    U xenocara/lib/libdrm/nouveau/libdrm_nouveau.pc.in
    U xenocara/lib/libdrm/nouveau/bufctx.c
    U xenocara/lib/libdrm/nouveau/pushbuf.c
    U xenocara/lib/libdrm/nouveau/private.h
    U xenocara/lib/libdrm/nouveau/Makefile.sources
    U xenocara/lib/libdrm/nouveau/nouveau-symbol-check
    U xenocara/lib/libdrm/nouveau/Makefile.am
    U xenocara/lib/libdrm/nouveau/abi16.c
    U xenocara/lib/libdrm/nouveau/nouveau.h
    U xenocara/lib/libdrm/nouveau/nvif/cl0080.h
    U xenocara/lib/libdrm/nouveau/nvif/cl9097.h
    U xenocara/lib/libdrm/nouveau/nvif/if0003.h
    U xenocara/lib/libdrm/nouveau/nvif/class.h
    U xenocara/lib/libdrm/nouveau/nvif/unpack.h
    U xenocara/lib/libdrm/nouveau/nvif/ioctl.h
    U xenocara/lib/libdrm/nouveau/nvif/if0002.h
    U xenocara/lib/libdrm/libkms/radeon.c
    U xenocara/lib/libdrm/libkms/linux.c
    U xenocara/lib/libdrm/libkms/nouveau.c
    U xenocara/lib/libdrm/libkms/vmwgfx.c
    C xenocara/lib/libdrm/libkms/Makefile.in
    U xenocara/lib/libdrm/libkms/kms-symbol-check
    U xenocara/lib/libdrm/libkms/intel.c
    U xenocara/lib/libdrm/libkms/dumb.c
    U xenocara/lib/libdrm/libkms/api.c
    U xenocara/lib/libdrm/libkms/Makefile.sources
    U xenocara/lib/libdrm/libkms/libkms.h
    U xenocara/lib/libdrm/libkms/exynos.c
    U xenocara/lib/libdrm/libkms/internal.h
    U xenocara/lib/libdrm/libkms/Makefile.am
    U xenocara/lib/libdrm/libkms/libkms.pc.in
    U xenocara/lib/libdrm/build-aux/depcomp
    U xenocara/lib/libdrm/build-aux/missing
    C xenocara/lib/libdrm/build-aux/config.sub
    C xenocara/lib/libdrm/build-aux/ltmain.sh
    U xenocara/lib/libdrm/build-aux/test-driver
    C xenocara/lib/libdrm/build-aux/config.guess
    U xenocara/lib/libdrm/build-aux/compile
    C xenocara/lib/libdrm/build-aux/install-sh
    
    42 conflicts created by this import.
    Use the following command to help the merge:
    
    cvs checkout -jlibdrm:yesterday -jlibdrm xenocara/lib/libdrm

CVSROOT:	/cvs
Module name:	xenocara
Changes by:	jsg@cvs.openbsd.org	2017/04/14 01:52:11

Modified files:
	lib/libdrm     : Makefile.bsd-wrapper configure configure.ac 
	                 xf86drm.c xf86drm.h xf86drmMode.c 
	lib/libdrm/amdgpu: amdgpu_bo.c 
	lib/libdrm/freedreno: Makefile.in 
	lib/libdrm/include/drm: drm.h 
	lib/libdrm/intel: intel_bufmgr_gem.c intel_decode.c 
	lib/libdrm/tests/etnaviv: Makefile.in 

Log message:
Merge libdrm 2.4.79


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	jsg@cvs.openbsd.org	2017/04/14 01:53:41

Modified files:
	distrib/sets/lists/xbase: md.alpha md.amd64 md.arm64 md.i386 
	                          md.loongson md.macppc md.octeon md.sgi 
	                          md.socppc md.sparc64 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/14 01:55:09

Modified files:
	security/heimdal: Tag: OPENBSD_6_1 Makefile 
Added files:
	security/heimdal/patches: Tag: OPENBSD_6_1 patch-kdc_krb5tgs_c 

Log message:
Fix transit path validation CVE-2017-6594.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	jsg@cvs.openbsd.org	2017/04/14 01:56:08

Modified files:
	.              : 3RDPARTY 

Log message:
update


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/14 02:04:30

Modified files:
	x11/gnome/getting-started-docs: Makefile distinfo 
	x11/gnome/getting-started-docs/pkg: PLIST 

Log message:
Update to gnome-getting-started-docs-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/14 02:05:00

Modified files:
	security/heimdal: Makefile distinfo 

Log message:
SECURITY update to heimdal-7.3.0 (CVE-2017-6594).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/14 02:24:03

Modified files:
	editors/ldapvi : Makefile 
	editors/ldapvi/patches: patch-ldapvi_c 

Log message:
Unbreak build with clang.
Drop the gettext MODULE and regen WANTLIB while here...


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/14 04:18:19

Modified files:
	textproc/gspell: Makefile distinfo 
	textproc/gspell/pkg: PLIST 

Log message:
Update to gspell-1.4.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/14 06:31:07

Modified files:
	books/utp      : Makefile 

Log message:
fix MASTER_SITES, reported by Kusalananda


CVSROOT:	/cvs
Module name:	www
Changes by:	aoyama@cvs.openbsd.org	2017/04/14 06:39:03

Modified files:
	.              : luna88k.html 

Log message:
Add xp(4) device, it is supported since 6.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/14 06:59:28

Modified files:
	editors/texworks: Makefile 

Log message:
bump EPOCH

Found newer package texworks-20090618p0 in /mnt/plist/i386
Found newer package texworks-20090618p1 in /mnt/plist/i386
Found newer package texworks-20090618p2 in /mnt/plist/i386


CVSROOT:	/cvs
Module name:	ports
Changes by:	ian@cvs.openbsd.org	2017/04/14 08:01:47

Modified files:
	books/JLS      : Makefile distinfo 
	books/JLS/pkg  : PLIST 

Log message:
Bump from antiquity to Java 8. Improved by sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/14 08:17:58

Modified files:
	mail/mutt      : Makefile distinfo 

Log message:
update to mutt-1.8.1


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/14 09:02:51

Modified files:
	lib/libc/gen   : ttyname.c 

Log message:
whitespace


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/14 09:11:31

Modified files:
	sys/dev        : softraid.c 
	sys/kern       : kern_sig.c 
	sys/net        : if.c if_spppsubr.c 

Log message:
Avoid some false positives with cppcheck.  No binary change.
OK jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/14 09:19:39

Modified files:
	lib/libssl     : ssl_srvr.c 

Log message:
Clean up server key exchange EC point handling. Encode the point directly
into the CBB memory, rather than mallocing and memcpying, which also makes
makes the code more consistent with the client. Add a missing check for the
first EC_POINT_point2oct() call.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/14 09:20:16

Modified files:
	lib/libssl     : ssl_asn1.c 

Log message:
Switch i2d_SSL_SESSION() back to freezero(3) now that the size constraints
have been relaxed.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/14 09:20:55

Modified files:
	lib/libssl     : bs_cbb.c 

Log message:
Use freezero(3) in the CBB clean up path, since this could hold sensitive
information (such as master keys).


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/14 09:26:53

Modified files:
	lib/libssl     : ssl_srvr.c 

Log message:
Use freezero(3) to clean up the X25519 keys - simpler, cleaner code.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/14 09:32:41

Modified files:
	lib/libssl     : ssl_srvr.c 

Log message:
Use freezero(3) when cleaning up session tickets - not only does it require
less code, but there is also a potential performance gain since they can be
larger allocations.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/14 10:17:38

Modified files:
	faq            : faq11.html 

Log message:
merge two parts of 'customizing x' that were variations on the same theme.

ok tj


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/14 10:39:32

Modified files:
	infrastructure/lib/DPB: Config.pm PortBuilder.pm State.pm 

Log message:
reorg the logic behind permanent_log so that it *is* the permanent log.
fixes -DNO_BUILD_STATS as reported by naddy@ (predates rewriting buildinfo,
and I plain forgot about it obviously)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/14 10:43:40

Modified files:
	infrastructure/lib/DPB: Job.pm 
	infrastructure/lib/DPB/Job: Fetch.pm Port.pm 

Log message:
have both log watching jobs actually share the timeout code.
If I had done this before, I would have fixed kill just once after privsep
and not inadvertently broken the builder stuck timeout...

problem noticed by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/14 12:06:28

Modified files:
	sbin/ipsecctl  : ipsec.conf.5 ipsecctl.h parse.y 

Log message:
Up to now ipsecctl(8) grouped SAs with identical src and dst to the
flow which the first SA matched by the flow type.  This behaviour
was mostly undocumented and unexpected.  Make SA bundles explicit
in ipsec.conf(5).  Only group SAs that have the same src and dst
and also the same bundle identifier.
OK hshoexer@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/14 12:14:33

Modified files:
	regress/sbin/ipsecctl: Makefile sa25.in sa26.in 
Added files:
	regress/sbin/ipsecctl: sa27.in sa27.ok 

Log message:
Add tests with the ipsec.conf SA bundle keyword.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/14 12:23:29

Modified files:
	usr.bin/mandoc : mdoc_term.c 

Log message:
Do not make the colon after the .Lk link text italic.
I just pushed the same change to GNU troff.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/14 12:24:15

Modified files:
	usr.bin/mandoc : mdoc_man.c 

Log message:
Do not make the colon after the .Lk link text italic.
I just pushed the same change to GNU troff.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/14 12:26:40

Modified files:
	devel/libgit2/libgit2: Makefile distinfo 
	devel/libgit2/libgit2/pkg: PLIST 

Log message:
update to libgit2-0.25.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/14 12:26:45

Modified files:
	devel/libgit2/py-git2: Makefile distinfo 
	devel/libgit2/py-git2/pkg: PLIST 

Log message:
update to py-git2-0.25.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/14 12:27:21

Added files:
	devel/libgit2/libgit2/patches: patch-src_openssl_stream_h 

Log message:
missing patch from upstream to unbreak with libressl; no bump as it wouldn't build


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/14 13:03:50

Modified files:
	regress/sys/netinet/ipsec: Makefile ipsec.conf 

Log message:
Add test for IP payload compression.  It is sending small and big
ping packets as only the latter get actually compressed.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/14 13:34:54

Modified files:
	usr.bin/mandoc : mdoc_term.c 

Log message:
Show long .Lk URIs in like an indented display, similar to groff.
Suggested by bentley@.


CVSROOT:	/cvs
Module name:	src
Changes by:	jcs@cvs.openbsd.org	2017/04/14 13:39:59

Modified files:
	gnu/usr.bin/cvs/src: server.c 

Log message:
once cvs's flow-control mechanism has kicked in, stop reading from
its local reader until memory usage goes back down below its
watermark.

during a checkout of a tree with big files (like www) from a fast
reader (disk) and a slow writer (net), the amount of data being
buffered can back up enough that cvs tries to allocate too many
buffers and hits its resource limit, causing death.

cvs's flow-control mechanism properly detects this early on, but the
message sent to the reader process to stop sending data takes too
long to process.

take more aggressive action and just stop reading from the reader
until the writer has ejected enough data that it can start re-using
its already-allocated buffers instead of allocating new ones.

ok deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/04/14 13:49:06

Modified files:
	textproc/groff : Makefile 
	textproc/groff/patches: patch-tmac_doc_tmac 
Added files:
	textproc/groff/patches: patch-tmac_doc-nroff 

Log message:
Pull in four patches that i recently pushed upstream to GNU troff.
Joint work with bentley@, all committed upstream by Carsten Kunze.

https://savannah.gnu.org/bugs/?43554 - better \*[Lq] and \*[Rq]
https://savannah.gnu.org/bugs/?43553 - typographic quotes for .%T
https://savannah.gnu.org/bugs/?50771 - punctuation after .Lk
https://savannah.gnu.org/bugs/?50789 - .Lk with more than two args


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/14 13:50:54

Modified files:
	regress/usr.bin/mandoc/mdoc/Lk: font.out_ascii link.out_ascii 
	                                noarg.in noarg.out_ascii 
	                                noarg.out_lint 
	                                noarg.out_markdown 

Log message:
adjust .Lk tests after groff and mandoc .Lk improvements


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/14 14:22:12

Modified files:
	faq            : faq4.html 

Log message:
in the downloading/verifying section, provide an example sha256 command
for the gnu coreutils as well. also briefly touch on raw device names
for dd and note the "bs=1m" vs "bs=1M" difference.

ok tb


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/14 14:46:31

Modified files:
	sys/net        : if_etherip.c if_etherip.h if_gif.c if_gif.h 
	                 if_pfsync.c if_pfsync.h 
	sys/netinet    : icmp6.h igmp.c igmp_var.h ip_carp.c ip_carp.h 
	                 ip_divert.h ip_ether.c ip_ether.h ip_gre.c 
	                 ip_gre.h ip_icmp.c ip_icmp.h ip_input.c 
	                 ip_ipip.c ip_ipsp.h ip_var.h ipsec_input.c 
	                 raw_ip.c tcp_input.c tcp_var.h udp_usrreq.c 
	                 udp_var.h 
	sys/netinet6   : dest6.c frag6.c icmp6.c ip6_divert.h 
	                 ip6_input.c ip6_var.h raw_ip6.c route6.c 
	sys/sys        : protosw.h 

Log message:
Pass down the address family through the pr_input calls.  This
allows to simplify code used for both IPv4 and IPv6.
OK mikeb@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/14 14:50:35

Modified files:
	sys/net        : if_gif.c 

Log message:
Remove unused define satoin6().


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/04/14 15:37:15

Modified files:
	.              : Makefile 
	etc            : Makefile 

Log message:
mark newish phony targets as phony.
okay tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	dhill@cvs.openbsd.org	2017/04/14 15:53:06

Modified files:
	net/mtr        : Makefile 
	net/mtr/patches: patch-net_c 

Log message:
Fix mtr -u ipv6-target.  mtr code says "sendto() assumes packet length
includes the IPv4 header but not the IPv6 header."  Remove that
assumption and always include the IPv6 header length in the total
packet size.

ok sthen@


CVSROOT:	/cvs
Module name:	www
Changes by:	brynet@cvs.openbsd.org	2017/04/14 17:12:54

Modified files:
	.              : want.html 

Log message:
I could really use a fast Intel laptop.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/14 22:18:40

Modified files:
	sys/arch/octeon/dev: octeon_iobus.c 

Log message:
No GMX on CN73xx.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/14 22:38:27

Modified files:
	sys/arch/octeon/octeon: bus_dma.c 

Log message:
Sync bus_dmamap_load_raw() with amd64 for better constraint checking.
Needed by xhci(4).


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/14 22:54:04

Modified files:
	sys/dev/acpi   : dsdt.c 

Log message:
Fix format string in ACPI_MEMDEBUG block

From Anton Lindqvist (anton.lindqvist(at)gmail.com)


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/15 03:15:45

Modified files:
	usr.sbin/nsd   : configlexer.lex configparser.y configure.ac 
	                 difffile.c nsd-checkconf.c nsd.conf.5.in 
	                 nsd.conf.sample.in options.c options.h packet.c 
	                 packet.h query.c rdata.c server.c udb.c xfrd.c 
	                 zonec.c 

Log message:
update to 4.1.16rc1
tests & OK sthen

(if there are more changes coming for 4.1.16 release we will just
commit them on top)


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/15 03:16:05

Modified files:
	usr.sbin/nsd   : configure 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/15 03:24:20

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 

Log message:
Update to google-cloud-sdk-151.0.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/15 04:23:35

Modified files:
	gnu/usr.bin/binutils-2.17/bfd: elfxx-sparc.c 

Log message:
Handle R_SPARC_WPLT30 relocations against a local symbol.  Fixes building the
audio/openal port with clang.

ok guenther@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/15 05:15:02

Modified files:
	sys/arch/arm64/arm64: pmap.c 

Log message:
The tlb flushes in pmap_set_{l1,l2,l3} use ranges that don't fully make sense.
But those tlb flushes shouldn't be necessary anyway, so simply remove them.
Simplify the tlb flushing code now that we no longer flush ranges, and
revive the branch that doesn't flush a specific ASID for the kernel pmap
since its mappings are global.

ok patrick@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/15 05:42:09

Modified files:
	usr.sbin/ndp   : ndp.8 ndp.c 

Log message:
Let ndp(8) use the process's current routing table by default.
from Pierre Emeriaud;  OK jca@ claudio@
Sync code and man page with arp(8).  OK florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/15 05:50:24

Modified files:
	usr.sbin/arp   : arp.c 

Log message:
Name global variable for routing socket rtsock like in ndp(8).
OK florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/15 05:58:51

Modified files:
	usr.sbin/ndp   : ndp.c 

Log message:
Take implementation for getsocket() from arp(8).  This brings
routing table filter and pledge(2) to ndp(8) modes -s and -d.
OK florian@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/15 06:53:02

Log message:
    import i3lock-2.9 (git master) with bsd_auth(3) support
    
    i3lock is a simple screen locker like slock. After starting it, you will
    see a white screen (you can configure the color/an image). You can return
    to your screen by entering your password.
    
    ok aja@
    
    Status:
    
    Vendor Tag:	jasper
    Release Tags:	jasper_20171504
    
    N ports/x11/i3lock/distinfo
    N ports/x11/i3lock/Makefile
    N ports/x11/i3lock/pkg/PLIST
    N ports/x11/i3lock/pkg/DESCR
    N ports/x11/i3lock/patches/patch-Makefile
    N ports/x11/i3lock/patches/patch-i3lock_c
    N ports/x11/i3lock/patches/patch-unlock_indicator_c
    N ports/x11/i3lock/patches/patch-unlock_indicator_h
    N ports/x11/i3lock/patches/patch-xcb_c
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/15 06:54:42

Modified files:
	x11            : Makefile 

Log message:
+i3lock


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/15 07:12:08

Modified files:
	etc            : weekly 
	share/man      : Makefile 
	share/man/man8 : daily.8 

Log message:
Build full mandoc.db(5) databases by default using makewhatis(8)
without -Q during the build and in weekly(8).  According to tests
by many developers, makewhatis(8) takes a few minutes at most even
on slower hardware like octeon, loongson, ALIX, RPI3, Soekris,
cubox, softiron etc., and security(8) is often worse than makewhatis(8).

In case this causes excessive weekly(8) run times on even slower
(~50 MHz-class) CPUs, consider adding "MAKEWHATISARGS=-Q" to
/etc/weekly.local on machines that feel unhappy.

OK sthen@ kettenis@ millert@ deraadt@


CVSROOT:	/cvs
Module name:	www
Changes by:	florian@cvs.openbsd.org	2017/04/15 07:26:22

Modified files:
	.              : want.html 

Log message:
I could use a umb device


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/15 07:56:43

Modified files:
	sys/kern       : vfs_syscalls.c 
	sys/sys        : mount.h 

Log message:
After forced unmount of a file system that has other mount points
in it, dangling mounts could remain.  When unmounting check the
hierarcy and unmount recursively.  Also prevent that a new mount
appears during the scan.
Joint work with natano@; testing and OK krw@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/15 08:02:46

Modified files:
	devel/boehm-gc : Makefile 
	devel/boehm-gc/patches: patch-include_private_gcconfig_h 

Log message:
add support for aarch64 on OpenBSD, copied from our other archs
ok phessler@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/15 08:11:36

Modified files:
	news/nn        : Makefile 
	news/nn/files  : config.h s-openbsd.h 
	news/nn/patches: patch-term_c 
Added files:
	news/nn/files  : m-openbsd.h 

Log message:
Overhaul this port:
* get rid of MACHINE_ARCH dance and use a single m-openbsd.h file
* simplify the substitutions in Makefile
* use a compact s-openbsd.h file without nested comments
* do not define libtermlib globals again

ok maintainer Aaron W. Hsu


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/15 08:23:45

Modified files:
	sysutils/rofi  : Makefile distinfo 
	sysutils/rofi/pkg: PLIST 

Log message:
update to rofi-1.3.1
- includes a new interactive theme-selector


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/15 08:51:08

Modified files:
	fonts/fantasque-sans: Makefile distinfo 
	fonts/fantasque-sans/patches: patch-Makefile 

Log message:
update to fantasque-sans-1.7.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/15 09:43:31

Modified files:
	sysutils/terraform: Makefile distinfo 

Log message:
Update to terraform-0.9.3.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	matthieu@cvs.openbsd.org	2017/04/15 10:07:08

Modified files:
	.              : MODULES 

Log message:
update


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	robert@cvs.openbsd.org	2017/04/15 11:18:01

Modified files:
	app/fvwm/fvwm  : fvwm.c 

Log message:
remove all compile time __DATE__ and __TIME__ variables from the source

ok deraadt@, matthieu@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/15 11:21:14

Modified files:
	textproc/elasticsearch: Makefile distinfo 
	textproc/elasticsearch/pkg: PLIST 

Log message:
Update to 5.3.0

from Pavel Korovin

OK jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/15 11:23:06

Modified files:
	www/kibana     : Makefile distinfo 
	www/kibana/pkg : PLIST 

Log message:
Update to 5.3.0

from Pavel Korovin

extra @unexec in PLIST from me

OK jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/15 11:24:47

Modified files:
	textproc/py-elasticsearch: Makefile distinfo 

Log message:
Update to 5.3.0

OK jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/15 11:25:39

Modified files:
	devel/py-click : Makefile distinfo 

Log message:
Update to 6.7

OK jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/15 11:26:17

Modified files:
	devel/py-voluptuous: Makefile distinfo 
	devel/py-voluptuous/pkg: PLIST 

Log message:
Update to 0.10.2

OK jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/15 11:27:38

Modified files:
	sysutils/py-elasticsearch-curator: Makefile distinfo 
	sysutils/py-elasticsearch-curator/pkg: PLIST 
Removed files:
	sysutils/py-elasticsearch-curator/patches: patch-setup_py 

Log message:
Update to 5.0.1

OK jasper@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/15 12:45:15

Modified files:
	share/man/man4 : inet6.4 

Log message:
more streamlining, with help from bluhm;


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/04/15 12:55:27

Modified files:
	lib/libc/sys   : reboot.2 

Log message:
Document RB_TIMEBAD; delete RB_* that are obsolete/unimplemented

ok visa@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/15 12:58:45

Modified files:
	sys/arch/sparc64/conf: Makefile.sparc64 

Log message:
Build sparc64 kernels with -ffreestanding.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/15 13:41:36

Modified files:
	lang/rust      : Makefile 

Log message:
mark for parallel building by dpb


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/15 14:33:04

Modified files:
	textproc/openjade: Makefile 
Added files:
	textproc/openjade/patches: patch-style_MultiLineInlineNote_cxx 

Log message:
iostream.h -> iostream; fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/15 14:46:16

Modified files:
	net/mosquitto  : Makefile 
Added files:
	net/mosquitto/patches: patch-test_Makefile 
	                       patch-test_broker_Makefile 
	                       patch-test_broker_c_Makefile 
	                       patch-test_lib_c_08-ssl-fake-cacert_c 
	                       patch-test_lib_c_Makefile 
	                       patch-test_lib_cpp_08-ssl-fake-cacert_cpp 
	                       patch-test_lib_cpp_Makefile 

Log message:
enable tests, part of a larger diff which seems fine to edd@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/15 14:49:09

Modified files:
	net/mosquitto  : Makefile 
	net/mosquitto/patches: patch-src_CMakeLists_txt 
Added files:
	net/mosquitto/patches: patch-src_read_handle_server_c 

Log message:
use libc's uuid generation functions rather than pulling in e2fsprogs.
split up from a combined diff, seems fine to edd@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/15 14:49:44

Modified files:
	net/mosquitto/patches: patch-lib_CMakeLists_txt 
Added files:
	net/mosquitto/patches: patch-lib_mosquitto_c 

Log message:
rand()%x -> arc4random_uniform, split up from a large diff, seems fine
to edd@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/15 15:26:05

Modified files:
	.              : stable.html 

Log message:
sync with release(8)
(nothing wrong with previous version, just needlessly different)


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/15 15:28:32

Modified files:
	.              : stable.html 

Log message:
markup tweak


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/15 15:56:13

Modified files:
	mail/dovecot   : Makefile distinfo 

Log message:
bugfix update to Dovecot 2.2.29.1, from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/15 16:05:29

Modified files:
	devel/pscan    : Makefile distinfo 
	devel/pscan/pkg: DESCR PLIST 

Log message:
Update to newer version of devel/pscan (named "1.3" in README, though the
distfile isn't versioned), and tweak pkg/DESCR. Based on a submission from
maintainer Steffen Wendzel.


CVSROOT:	/cvs
Module name:	src
Changes by:	aoyama@cvs.openbsd.org	2017/04/15 18:52:54

Modified files:
	usr.sbin/dhcrelay6: Makefile 

Log message:
Remove -Werror to make dhcrelay6 on gcc3 architecture successfully.

ok reyk


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/15 20:05:48

Modified files:
	www/py-werkzeug: Makefile distinfo 
	www/py-werkzeug/pkg: PLIST 
Removed files:
	www/py-werkzeug/patches: patch-werkzeug_contrib_lint_py 

Log message:
Update to py-werkzeug-0.12.1


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/16 00:26:55

Modified files:
	lib/libssl     : ssl_asn1.c 

Log message:
backout previous, data_len is not always initialized


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 02:50:49

Modified files:
	etc/mtree      : 4.4BSD.dist 
	etc/examples   : httpd.conf 

Log message:
Remove /etc/ssl/acme/. We don't need it now that we have a default acme-conf(5)
that direclty uses /etc/ssl/{,private} by default. Adapt the httpd.conf example
accordingly.

ok florian@ benno@ millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 03:05:40

Modified files:
	multimedia/gstreamer1: Makefile.inc 

Log message:
This can be built on sparc64 with clang now.

diff from / tested by Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 03:14:52

Modified files:
	misc/portroach : Makefile distinfo 
Removed files:
	misc/portroach/patches: patch-Portroach_SiteHandler_GitHub_pm 
	                        patch-Portroach_SiteHandler_Launchpad_pm 
	                        patch-Portroach_SiteHandler_PyPI_pm 

Log message:
update to portroach-2.0.11, containing a bunch of fixes related to github.

nb: in order to do a full portroach scan one needs a github token otherwise
rate-limiting will block requests after the default limit of 60 p/h has been reached.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 03:19:02

Modified files:
	x11/slim       : Makefile 
	x11/slim/pkg   : README 

Log message:
xdm -> xenodm


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	robert@cvs.openbsd.org	2017/04/16 03:58:50

Modified files:
	share/mk       : bsd.xorg.mk 

Log message:
enforce ar to use the 'cruD' flagset in case libtool/automagic is used

ok matthieu@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 04:13:19

Modified files:
	devel/libgit2/libgit2-glib: Makefile distinfo 
	devel/libgit2/libgit2-glib/pkg: PLIST 

Log message:
update to libgit2-glib-0.25.0, reminded by nigel@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/16 04:16:35

Modified files:
	sbin/ldattach  : Makefile 
	usr.bin/pctr   : Makefile 
	usr.bin/htpasswd: Makefile 
	usr.sbin/identd: Makefile 
	usr.sbin/mksuncd: Makefile 
	usr.sbin/tftp-proxy: Makefile 
	usr.sbin/tftpd : Makefile 

Log message:
Different compilers and versions of compilers have different warnings.
Remove -Werror to give code a greater chance of building.

ok deraadt@ florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/16 04:19:54

Modified files:
	usr.bin/htpasswd: Makefile 

Log message:
remove -g from CFLAGS at florian's request


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 04:38:10

Modified files:
	devel/silc-toolkit: Makefile 
	devel/silc-toolkit/patches: patch-configure_ac 
	net/silc-client: Makefile 
	net/silc-client/patches: patch-configure_ac 
	net/silc-server: Makefile 
	net/silc-server/patches: patch-configure_ac 

Log message:
Remove the use of -fno-regmove to appease Clang.  From Brad.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 04:40:07

Modified files:
	net/dnsmasq    : Makefile 
Added files:
	net/dnsmasq/patches: patch-src_dnsmasq_c patch-src_forward_c 

Log message:
Disable use of IP_SENDSRCADDR in dnsmasq for now, for some
yet-to-be-determined reason it results in no reply being sent to the
client. Problem reported by Harald Dunkel. OK Brad.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 04:41:10

Modified files:
	net/dnsmasq    : Tag: OPENBSD_6_1 Makefile 
Added files:
	net/dnsmasq/patches: Tag: OPENBSD_6_1 patch-src_dnsmasq_c 
	                     patch-src_forward_c 

Log message:
MFC: Disable use of IP_SENDSRCADDR in dnsmasq for now, for some
yet-to-be-determined reason it results in no reply being sent to the
client. Problem reported by Harald Dunkel. OK Brad.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/16 04:57:41

Added files:
	audio/libsidplay/patches: patch-configure 

Log message:
converting code to standard C++ (98!) is cool, but converting configure
tests too is better.   No longer fails with non pre-standard includes.

okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/16 04:58:30

Added files:
	audio/mac/patches: patch-src_MACLib_APELink_cpp 

Log message:
stricter const propagation, pleases both gcc and clang
okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/16 04:59:51

Modified files:
	games/spider/patches: patch-gfx_c patch-movelog_c patch-spider_c 

Log message:
minimal damage control. make void functions void.
pleases clang, still happy on gcc
okay sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 05:07:03

Modified files:
	regress/lib/libcrypto/rsa: rsa_test.c 

Log message:
Remove unused rnd_seed variable.  Upstream made the same change 4 days ago.
Fixes compiling this test using clang on arm64.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/16 05:23:40

Modified files:
	build          : mirrors.dat 

Log message:
Add ftp.fau.de, from Julian Hammer, thanks. This is located close to the
previous openbsd.cs.fau.de / openbsd.informatik.uni-erlangen.de mirror.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/16 05:23:59

Modified files:
	.              : ftp.html ftplist httpslist 
	openbgpd       : ftp.html 
	openssh        : ftp.html portable.html 
	openntpd       : portable.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	matthieu@cvs.openbsd.org	2017/04/16 06:31:14

Modified files:
	.              : MODULES 

Log message:
update


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 06:43:20

Modified files:
	meta/gnome     : Makefile 
	meta/gnome/pkg : README-main 
	meta/kde4      : Makefile 
	meta/kde4/pkg  : README-minimal 
	x11/fbpanel    : Makefile 
	x11/fbpanel/patches: patch-exec_xlogout 
	x11/gnome/gdm  : Makefile 
	x11/gnome/gdm/patches: patch-data_Init_in 
	                       patch-data_PostSession_in 
	                       patch-data_PreSession_in 
	x11/gnome/gdm/pkg: gdm.rc 
	x11/x11vnc     : Makefile 
	x11/x11vnc/patches: patch-x11vnc_help_c 
	x11/xdmchoose  : Makefile 
	x11/xdmchoose/pkg: DESCR 

Log message:
xdm -> xenodm.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 07:18:56

Modified files:
	textproc/link-grammar: Makefile distinfo 
	textproc/link-grammar/pkg: PLIST-main 

Log message:
Update to link-grammar-5.3.16.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/16 07:20:17

Modified files:
	faq            : upgrade61.html 

Log message:
can't use the uucp user in the find command after you removed it, so add a
note for net/uucp users.

issue spotted by ross l richardson, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 07:35:14

Modified files:
	lib/libc/arch/aarch64/gen: _setjmp.S 

Log message:
Always return nonzero from _longjmp too.

ok jsg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 07:55:07

Added files:
	net/sipsak/patches: patch-header_f_c patch-header_f_h 
	                    patch-helper_c 

Log message:
de-inline to fix with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 07:55:49

Modified files:
	net/sipsak     : Makefile 
Added files:
	net/sipsak/patches: patch-transport_c 

Log message:
Fix bug found by clang.

transport.c:206:23: warning: use of logical '&&' with constant operand [-Wconstant-logical-operand]
if (sockerr.revents && POLLERR) {
^  ~~~~~~~
transport.c:206:23: note: use '&' for a bitwise operation


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/16 08:04:52

Modified files:
	graphics/pqiv  : Makefile distinfo 

Log message:
Update to pqiv-2.8.5


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:11:23

Modified files:
	multimedia/get_iplayer: Makefile distinfo 
	multimedia/get_iplayer/patches: patch-get_iplayer 

Log message:
update to get_iplayer-2.99


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:15:15

Modified files:
	multimedia/get_iplayer: Makefile 

Log message:
remove no-longer-needed dep


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:17:16

Modified files:
	net/GeoIP      : Makefile distinfo 
	net/GeoIP/pkg  : PLIST-asn PLIST-city 

Log message:
update to GeoIP-1.6.10 and new geolite-data


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 08:20:49

Modified files:
	sys/arch/sparc64/include: ieee.h 

Log message:
Remove some defines marked #ifdef notyet, which really is #ifdef notever.
Reduces the diffs with other architectures.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/16 08:24:03

Modified files:
	usr.bin/systat : iostat.c 
	sys/sys        : mount.h 

Log message:
Statistics for high memory flips in the buffer cache
nits from deraadt@
ok krw@ guenther@ kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/16 08:25:42

Modified files:
	sys/kern       : vfs_bio.c vfs_biomem.c 
	sys/sys        : buf.h 

Log message:
Flip previously warm pages in the buffer cache to memory above the DMA
region if uvm tells us it is available.
nits from deraadt@
ok krw@ guenther@ kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/16 08:28:07

Modified files:
	sys/arch/amd64/amd64: lock_machdep.c 
	sys/arch/i386/i386: lock_machdep.c 

Log message:
Replace fetch_and_add() with atomic_inc_int_nv() from <sys/atomic.h>
to make the code more similar to sparc64's.

OK mpi@, guenther@, kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:32:50

Added files:
	net/bwm-ng/patches: patch-src_help_c 

Log message:
de-inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:36:02

Modified files:
	comms/fldigi   : Makefile distinfo 
	comms/fldigi/pkg: PLIST 

Log message:
update to fldigi-4.0.2


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 08:40:47

Modified files:
	regress/usr.bin/openssl/options: optionstest.c 

Log message:
Use %zu to print a size_t.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/16 08:42:30

Modified files:
	converters/qprint: Makefile 

Log message:
clang doesn't like duplicate declarations without extern, but this finds bugs!
no need to recompile a standard getopt, just use the appropriate post-configure
glue.

okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:43:16

Modified files:
	print/transfig : Makefile 

Log message:
honour CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:48:29

Added files:
	print/transfig/patches: patch-fig2dev_dev_genibmgl_c 

Log message:
declare set_width as void (uses "return;", which is an error in clang)


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 08:54:02

Modified files:
	sysutils/torture: Makefile 

Log message:
honour CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 09:05:13

ports/sysutils/torture/patches

Update of /cvs/ports/sysutils/torture/patches
In directory cvs.openbsd.org:/tmp/cvs-serv20911/patches

Log Message:
Directory /cvs/ports/sysutils/torture/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 09:05:40

Added files:
	sysutils/torture/patches: patch-Makefile 

Log message:
drop -Wbounded to unbreak on compilers other than base gcc


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/16 09:11:01

Modified files:
	usr.bin/nc     : netcat.c 

Log message:
Move comments into a block and uses {} to unconfuse reading.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 09:21:03

Modified files:
	devel/gsettings-desktop-schemas: Makefile distinfo 
	devel/gsettings-desktop-schemas/pkg: PLIST 

Log message:
Update to gsettings-desktop-schemas-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 09:27:43

Modified files:
	x11/gnome/tweak-tool: Makefile distinfo 

Log message:
Update to gnome-tweak-tool-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 09:37:41

Modified files:
	sysutils/polkit: Makefile 
	sysutils/polkit/patches: 
	                         patch-src_polkitbackend_polkitbackendinteractiveauthority_c 
Added files:
	sysutils/polkit/patches: patch-src_polkit_polkitpermission_c 
	                         patch-src_polkitbackend_polkitbackendauthority_c 

Log message:
Fix a few memory leaks (via Fedora).


CVSROOT:	/cvs
Module name:	www
Changes by:	danj@cvs.openbsd.org	2017/04/16 09:38:19

Modified files:
	faq            : upgrade61.html 

Log message:
the upgrade begins with cleaning /usr/share/man so
rm /usr/share/man/man1/sqlite3.1 cannot succeed after that

'fix it' tj@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 09:39:25

Modified files:
	x11/gnome/baobab: Makefile distinfo 

Log message:
Update to baobab-3.24.0.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/16 09:47:01

Modified files:
	faq            : faq5.html 

Log message:
make more explicit that RELEASEDIR does not need to be on a noperm fs

ok tj


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 09:47:08

Modified files:
	audio/speech-dispatcher: Makefile distinfo 
	audio/speech-dispatcher/patches: 
	                                 patch-src_api_python_speechd_config_config_py_in 

Log message:
Update to speech-dispatcher-0.8.6.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/16 09:49:56

Modified files:
	faq            : upgrade61.html 

Log message:
one more manual that's no longer around...


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 09:52:39

Modified files:
	devel/liblouis : Makefile distinfo 
	devel/liblouis/patches: patch-python_louis_Makefile_in 
	devel/liblouis/pkg: PLIST 

Log message:
Update to liblouis-3.1.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/16 09:58:32

Log message:
    Import graphics/libsixel.
    
    This package provides encoder/decoder implementation for DEC SIXEL
    graphics, and some converter programs.
    
    SIXEL is one of image formats for printer and terminal imaging
    introduced by Digital Equipment Corp. (DEC). Its data scheme is
    represented as a terminal- friendly escape sequence.
    
    OK benoit@
    
    Status:
    
    Vendor Tag:	fcambus
    Release Tags:	fcambus_20170416
    
    N ports/graphics/libsixel/Makefile
    N ports/graphics/libsixel/distinfo
    N ports/graphics/libsixel/pkg/PLIST
    N ports/graphics/libsixel/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/16 09:59:17

Modified files:
	graphics       : Makefile 

Log message:
Add libsixel.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 10:01:05

Modified files:
	regress/lib/libc/regex: Makefile 

Log message:
Define DEF_WEAK like we do for ld.so to fix building this with clang.

ok millert@, deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/16 10:02:12

Modified files:
	x11/gnome/orca : Makefile distinfo 
	x11/gnome/orca/pkg: PLIST 

Log message:
Update to orca-3.24.0.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/16 10:04:47

Modified files:
	faq            : faq10.html 

Log message:
fix odd wording; from ross l richardson


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 10:04:48

Modified files:
	regress/lib/libc/db: dbtest.c 

Log message:
Use INT_MAX instead of SIZE_MAX as the maximum file size we can handle.
Fixes this test on 64-bit architectures.

ok visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 10:14:37

Modified files:
	sys/arch/arm64/include: ieee.h 

Log message:
Define EXT_IMPLICIT_NBIT like we do on sparc64 and mips64.  Makes vaious
long double math stuff (including printf) actually work.

While there remove 'struct ieee_ldouble', which isn't defined on other
architectures.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/16 10:17:23

Modified files:
	distrib/sets/lists/base: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/16 10:59:53

Modified files:
	regress/sys/netinet/ipsec: Makefile 
	regress/sys/netinet/pmtu: Makefile 

Log message:
Make sure these tests print "SKIPPED" if the necessary variables aren't set.
The current code doesn't work since the magic .BEGIN target runs before
the regress target that prints "SKIPPED" and the .BEGIN target fails when
the variables aren't set.

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/16 11:16:21

Modified files:
	sys/dev/pci/drm: drm_linux.h 

Log message:
Always evaluate expression in BUG_ON() macro to avoid unused variable
warnings.  Makes non diagnostic kernel compile.
OK kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/04/16 12:04:02

Modified files:
	games/tetris   : screen.c 

Log message:
According to termcap(3), char PC, *BC, *UP need to be extern. Fixes an
ld(1) error found by mestre a while ago.

fix suggested and ok naddy


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/16 12:23:52

Modified files:
	lang/duktape   : Makefile distinfo 

Log message:
Update duktape to 2.1.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 13:10:38

Log message:
    import spidermonkey-38.8.0, as required by an upcoming gjs update.
    it might be a bit rough on the edges, but let's let this in now to
    prevent blocking the gnome update.
    
    ok aja@
    
    Status:
    
    Vendor Tag:	jasper
    Release Tags:	jasper_20171604
    
    N ports/devel/spidermonkey38/Makefile
    N ports/devel/spidermonkey38/distinfo
    N ports/devel/spidermonkey38/patches/patch-jit_ExecutableAllocator_h
    N ports/devel/spidermonkey38/patches/patch-configure
    N ports/devel/spidermonkey38/pkg/DESCR
    N ports/devel/spidermonkey38/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 13:14:07

Modified files:
	devel          : Makefile 

Log message:
+spidermonkey38


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 13:17:57

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to SVG-2.65


CVSROOT:	/cvs
Module name:	src
Changes by:	patrick@cvs.openbsd.org	2017/04/16 13:28:25

Modified files:
	gnu/llvm/tools/lld/ELF: DriverUtils.cpp 

Log message:
Disable colored diagnostics in LLVM's lld.

Requested by deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/16 13:29:27

Modified files:
	devel/distcc   : Makefile distinfo 

Log message:
update to distcc-3.2.0-rc1, the last tag before googlecode went belly-up


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 13:33:14

ports/x11/xsettingsd/patches

Update of /cvs/ports/x11/xsettingsd/patches
In directory cvs.openbsd.org:/tmp/cvs-serv36953/patches

Log Message:
Directory /cvs/ports/x11/xsettingsd/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 13:40:35

Modified files:
	x11/xsettingsd : Makefile distinfo 
Added files:
	x11/xsettingsd/patches: patch-SConstruct 

Log message:
update to a newer checkout of xsettingsd
don't use -Werror


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 13:42:28

Modified files:
	x11/spectrwm/patches: patch-Makefile 

Log message:
Add explicit -lxcb; newer linkers don't follow NEEDED. Fixes linking with LLD.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 13:51:09

Modified files:
	devel/argp-standalone: Makefile 

Log message:
use --std=gnu89
tweak COMMENT


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 13:53:20

Modified files:
	net/ladvd/patches: patch-configure_ac 

Log message:
don't use -Werror, fixes with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	stsp@cvs.openbsd.org	2017/04/16 14:14:17

Modified files:
	net/openvpn    : Makefile 
	net/openvpn/patches: patch-src_openvpn_tun_c 

Log message:
Fix unaligned access in openvpn to unbreak it on sparc64 and such platforms.
ok jca@ uwe@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/16 14:26:34

Modified files:
	share/man/man4 : ure.4 

Log message:
from brad: document rgephy


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 14:27:48

Modified files:
	databases/kyotocabinet: Makefile 
Added files:
	databases/kyotocabinet/patches: patch-kccommon_h 

Log message:
extend the existing ifdef that decides whether or not to use tr1 path/namespace
so that this has a chance with clang/libc++ arch

remove unneeded quotes from BROKEN lines in Makefile that make my eyes bleed
with syntax highlighting


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/16 14:32:14

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Use EL1 to clear lines when redrawing the leftmost pane, rather than
spaces.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/16 14:33:46

Modified files:
	usr.bin/tmux   : tmux.c 

Log message:
Memory leak, from David CARLIER.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 14:36:58

Modified files:
	devel/silc-toolkit: Makefile 
	devel/silc-toolkit/patches: patch-configure_ac 
	net/silc-client: Makefile 
	net/silc-client/patches: patch-configure_ac 
	net/silc-server: Makefile 
	net/silc-server/patches: patch-configure_ac 

Log message:
Fix SILC_ADD_CC_FLAGS to actually test that the compiler flags work,
they were testing the wrong thing. silc-toolkit diff from espie,
ports diff for all 3 from Brad.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 14:49:32

Added files:
	databases/db/v3/patches: patch-cxx_cxx_app_cpp 
	                         patch-cxx_cxx_table_cpp 
	                         patch-include_db_cxx_h 

Log message:
convert iostream.h to iostream, fix with libc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/16 14:50:06

Modified files:
	net/irssi-silc/patches: patch-configure_ac 

Log message:
apply espie's SILC_ADD_CC_FLAGS autoconf fix to irssi-silc


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/16 15:34:22

Modified files:
	graphics/ansilove: Makefile distinfo 

Log message:
Update ansilove to 3.0.5.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/16 17:58:12

Modified files:
	.              : security.html 

Log message:
add missing errata61.html link; spotted by pipe on freenode


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/16 18:31:42

Modified files:
	multimedia/transcode: Makefile 

Log message:
transcode tries to use twolame at runtime, not toolame.  Fix RDEP.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/16 18:37:30

Modified files:
	multimedia/transcode: Makefile 

Log message:
Point to the correct HOMEPAGE (upstream project on bitbucket).

Looks like the old domain / website isn't under upstream control any
more.

While here, reorder the Makefile a bit, and add an XXX about
MASTER_SITES, which is broken.

Noticed by fcambus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/16 19:14:09

Log message:
    Import sshpass, a noninteractive ssh password provider.
    
    Useful when/if key-based auth can't be used.  Requested by Jiri B,
    tweaks & ok danj@
    
    Status:
    
    Vendor Tag:	jca
    Release Tags:	jca_20170417
    
    N ports/sysutils/sshpass/Makefile
    N ports/sysutils/sshpass/distinfo
    N ports/sysutils/sshpass/pkg/PLIST
    N ports/sysutils/sshpass/pkg/DESCR
    N ports/sysutils/sshpass/patches/patch-main_c
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/16 19:18:17

Modified files:
	sysutils       : Makefile 

Log message:
+sshpass


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/16 23:10:18

Modified files:
	devel/mercurial: Makefile distinfo 
	devel/mercurial/pkg: PLIST-main 

Log message:
update mercurial to 4.1.2.
initial diff from juanfra@, who is the new maintainer.
ok juanfra@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/16 23:11:03

Modified files:
	devel/tortoisehg: Makefile distinfo 
	devel/tortoisehg/pkg: PLIST 

Log message:
update tortoisehg to 4.1.2.
initial diff from juanfra@, who is the new maintainer.
ok juanfra@.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/17 00:40:32

Modified files:
	usr.bin/tmux   : server-client.c server-fn.c tmux.h tty.c 

Log message:
Remove a couple of redraw flags that no longer have any effect.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 01:20:59

Modified files:
	x11/gnome/gjs  : Makefile distinfo 
	x11/gnome/gjs/pkg: PLIST 

Log message:
update to gjs-1.48.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 01:29:28

Modified files:
	x11/gnome/libgweather: Makefile distinfo 

Log message:
update to libgweather-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 01:31:24

Modified files:
	x11/gnome/online-accounts: Makefile distinfo 
	x11/gnome/online-accounts/pkg: PLIST 

Log message:
update to gnome-online-accounts-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 01:31:50

Modified files:
	x11/remmina    : Makefile distinfo 
	x11/remmina/patches: patch-remmina-plugins_rdp_rdp_plugin_c 
Removed files:
	x11/remmina/patches: patch-cmake_FindVTE_cmake 
	                     patch-remmina_CMakeLists_txt 
	                     patch-remmina_external_tools_CMakeLists_txt 
	                     patch-remmina_src_remmina_ssh_plugin_c 

Log message:
update to remmina-1.1.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 01:51:41

Modified files:
	devel/vte3     : Makefile distinfo 
	devel/vte3/pkg : PLIST 

Log message:
update to vte-0.48.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 01:54:36

Modified files:
	x11/gnome/zenity: Makefile distinfo 

Log message:
update to zenity-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 02:09:57

Modified files:
	x11/gtksourceview3: Makefile distinfo 
	x11/gtksourceview3/pkg: PLIST 

Log message:
update to gtksourceview-3.24.1


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/17 02:10:45

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Don't bother moving the cursor for empty lines.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 02:49:23

Modified files:
	x11/fbpanel    : Makefile 
	x11/fbpanel/patches: patch-exec_xlogout 

Log message:
revert previous; xdm mention was in a line which was removed in the patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 03:23:55

Modified files:
	devel/libgtop2 : Makefile distinfo 
	devel/libgtop2/pkg: PLIST 

Log message:
update to libgtop-2.36.0 (still broken, but a more recent base to fix it on)


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/17 03:25:50

Modified files:
	www/hiawatha   : Makefile distinfo 
	www/hiawatha/patches: patch-man_hiawatha_1_in 
	                      patch-src_serverconfig_c patch-src_tls_c 

Log message:
Update to hiawatha 10.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 03:35:37

Modified files:
	x11/gnome/desktop: Makefile distinfo 
	x11/gnome/desktop/patches: patch-libgnome-desktop_Makefile_in 
	                           patch-libgnome-desktop_gnome-desktop-thumbnail_c 

Log message:
Update to gnome-desktop-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 03:36:12

Modified files:
	meta/gnome     : Makefile 

Log message:
Introducing GNOME 3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 03:46:21

Modified files:
	x11/gnome/calculator: Makefile distinfo 
	x11/gnome/calculator/pkg: PLIST 

Log message:
update to gnome-calculator-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/17 03:46:45

Added files:
	devel/libgtop2/patches: patch-sysdeps_openbsd_procmem_c 

Log message:
barf-inducing fix for clang, which doesn't like stuff that vaguely
looks like prototypes (which is what you get when including ~kernel
stuff in userland.

okay jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 04:00:48

Modified files:
	multimedia/transcode: Makefile 

Log message:
unbreak MASTER_SITES


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:03:19

Modified files:
	x11/gnome/gvfs : Makefile distinfo 
	x11/gnome/gvfs/pkg: PLIST-main 

Log message:
Update to gvfs-1.32.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:24:27

Modified files:
	x11/gnome/tracker: Makefile distinfo 
	x11/gnome/tracker/patches: patch-configure 
	                           patch-src_libtracker-sparql_Makefile_in 
	x11/gnome/tracker/pkg: PLIST 
Removed files:
	x11/gnome/tracker/patches: 
	                           patch-src_tracker-needle_tracker-tags-view_vala 
	                           patch-src_tracker-preferences_tracker-preferences_vala 

Log message:
Update to meta-tracker-1.12.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/04/17 04:29:01

Modified files:
	sys/netinet6   : in6.c 

Log message:
We need to update the ia6_updatetime when changing the vltime/pltime
vio ioctl(2). Otherwise ifconfig shows the wrong times since
vltime/pltime are calculated from this value on export.

The handling of router advertisements does the right thing.
OK bluhm


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:35:15

Modified files:
	x11/gnome/nautilus: Makefile distinfo 
	x11/gnome/nautilus/patches: 
	                            patch-src_nautilus-canvas-container_c 
	                            patch-src_nautilus-ui-utilities_c 
	x11/gnome/nautilus/pkg: PLIST 

Log message:
Update to nautilus-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:40:28

Modified files:
	x11/gnome/settings-daemon: Makefile distinfo 
	x11/gnome/settings-daemon/pkg: PLIST 
Added files:
	x11/gnome/settings-daemon/patches: patch-configure 

Log message:
Update to gnome-settings-daemon-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:45:38

Modified files:
	devel/libgee   : Makefile distinfo 

Log message:
Update to libgee-0.20.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 04:50:29

Modified files:
	x11/gnome/system-monitor: Makefile distinfo 
	x11/gnome/system-monitor/pkg: PLIST 

Log message:
update to gnome-system-monitor-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:51:02

Modified files:
	x11/gnome/session: Makefile distinfo 
	x11/gnome/session/patches: patch-gnome-session_main_c 

Log message:
Update to gnome-session-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:54:53

Modified files:
	x11/gnome/weather: Makefile distinfo 
	x11/gnome/weather/pkg: PLIST 

Log message:
Update to gnome-weather-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 04:57:08

Modified files:
	www/epiphany   : Makefile distinfo 
	www/epiphany/pkg: PLIST 
Removed files:
	www/epiphany/patches: patch-lib_ephy-profile-migrator_c 

Log message:
update to epiphany-3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:58:48

Modified files:
	x11/gnome/power-manager: Makefile distinfo 

Log message:
Update to gnome-power-manager-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 04:59:55

Modified files:
	x11/gnome/color-manager: Makefile distinfo 
	x11/gnome/color-manager/patches: patch-configure 

Log message:
Update to gnome-color-manager-3.24.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/17 05:02:31

Modified files:
	usr.bin/ssh    : Makefile.inc 
	regress/usr.bin/ssh/unittests: Makefile.inc 
	regress/usr.bin/ssh/misc/kexfuzz: Makefile 

Log message:
Change COMPILER_VERSION tests which limited additional warnings to gcc4
to instead skip them on gcc3 as clang can handle -Wpointer-sign and
-Wold-style-definition.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 05:18:36

Modified files:
	x11/gnome/file-roller: Makefile distinfo 
	x11/gnome/file-roller/pkg: PLIST 

Log message:
update to file-roller-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 05:20:21

Modified files:
	x11/gnome/control-center: Makefile distinfo 
	x11/gnome/control-center/patches: 
	                                  patch-panels_user-accounts_Makefile_in 
Added files:
	x11/gnome/control-center/patches: 
	                                  patch-panels_display_cc-night-light-widget_c 
Removed files:
	x11/gnome/control-center/patches: 
	                                  patch-panels_info_cc-info-panel_c 

Log message:
Update to gnome-control-center-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 05:20:30

Modified files:
	x11/gnome/eog  : Makefile distinfo 
Removed files:
	x11/gnome/eog/patches: patch-src_eog-exif-util_c 

Log message:
update to eog-3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 05:29:23

Modified files:
	x11/gnome/music: Makefile distinfo 
	x11/gnome/music/pkg: PLIST 

Log message:
Update to gnome-music-3.24.1.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 05:41:10

Log message:
    Import gtef-2.0.0.
    
    Gtef is a library that eases the development of GtkSourceView-based text editors
    and IDEs.
    
    ok jasper@
    
    Status:
    
    Vendor Tag:	ajacoutot
    Release Tags:	ajacoutot_20170417
    
    N ports/x11/gnome/gtef/Makefile
    N ports/x11/gnome/gtef/distinfo
    N ports/x11/gnome/gtef/pkg/DESCR
    N ports/x11/gnome/gtef/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 05:41:44

Modified files:
	x11/gnome      : Makefile 

Log message:
+gtef


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 05:41:59

Modified files:
	x11/gnome/latexila: Makefile distinfo 

Log message:
Update to latexila-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 05:42:20

Modified files:
	graphics/evince: Makefile distinfo 

Log message:
update to evince-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 05:59:53

Modified files:
	databases/evolution-data-server: Makefile distinfo 
	databases/evolution-data-server/pkg: DESCR PLIST 
Added files:
	databases/evolution-data-server/patches: patch-CMakeLists_txt 
	                                         patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Update to evolution-data-server-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 06:04:22

Modified files:
	x11/gnome/photos: Makefile distinfo 
	x11/gnome/photos/pkg: PLIST 
Added files:
	x11/gnome/photos/patches: patch-src_egg-task-cache_c 

Log message:
Update to gnome-photos-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 06:05:16

Modified files:
	x11/gnome/clocks: Makefile distinfo 

Log message:
Update to gnome-clocks-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 06:18:06

Modified files:
	x11/gnome/totem: Makefile distinfo 

Log message:
Update to totem-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 06:29:36

Modified files:
	x11/gnome/terminal: Makefile distinfo 
	x11/gnome/terminal/pkg: PLIST 

Log message:
update to gnome-terminal-3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 06:32:04

Modified files:
	x11/gnome/calendar: Makefile distinfo 

Log message:
update to gnome-calendar-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 06:36:26

Modified files:
	textproc/gtkspell3: Makefile distinfo 

Log message:
Update to gtkspell3-3.0.9.
- drop the gettext MODULE


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/17 06:52:00

Modified files:
	usr.bin/mandoc : mdoc_html.c mdoc_macro.c mdoc_man.c 
	                 mdoc_markdown.c mdoc_term.c 

Log message:
Fix handling of trailing punctuation in .Lk.
This macro is unusual in so far as trailing punction needs to remain
inside the scope because it must be inside, not after the display
of long URIs in terminal output mode.
Improves formatting of fw_update(1), help(1), less(1), sendbug(1),
acx(4), inet6(4), ipsec(4), oce(4), isakmpd.conf(5), afterboot(8),
release(8), traceroute(8).


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 06:52:33

Modified files:
	x11/gnome/mutter: Makefile distinfo 
	x11/gnome/mutter/pkg: PLIST 
Added files:
	x11/gnome/mutter/patches: patch-src_compositor_compositor_c 
	                          patch-src_core_main_c 

Log message:
update to mutter-3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 06:52:56

Modified files:
	x11/gnome/shell: Makefile distinfo 
	x11/gnome/shell/patches: patch-js_ui_screenShield_js 
	x11/gnome/shell/pkg: PLIST 

Log message:
update to gnome-shell-3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 06:53:11

Modified files:
	x11/gnome/shell-extensions: Makefile distinfo 
	x11/gnome/shell-extensions/pkg: PLIST 

Log message:
update to gnome-shell-extensions-3.24.1


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/17 06:54:48

Modified files:
	regress/misc   : Makefile 

Log message:
Skip objc tests with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 06:54:51

Modified files:
	x11/gnome/terminal: Makefile 
Added files:
	x11/gnome/terminal/patches: patch-src_terminal-screen_c 

Log message:
revert two upstream commits that prevent spawning a shell; this is not a fix
but it makes gnome-terminal usable again.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 07:17:07

Modified files:
	x11/gnome/gdm  : Makefile distinfo 
	x11/gnome/gdm/patches: patch-configure_ac 
	                       patch-daemon_gdm-launch-environment_c 
	                       patch-daemon_gdm-manager_c 
	                       patch-daemon_gdm-session_c 

Log message:
Update to gdm-3.24.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/17 07:26:30

Modified files:
	usr.bin/mandoc : mdoc_man.c 

Log message:
implement display of long .Lk URIs to match -Tascii


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/17 07:29:20

Modified files:
	regress/usr.bin/mandoc/mdoc/Lk: noarg.in noarg.out_ascii 
	                                noarg.out_lint 
	                                noarg.out_markdown 

Log message:
test display of long URIs


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 07:47:12

Modified files:
	www/nghttp2    : Makefile distinfo 

Log message:
update to nghttp2-1.21.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 07:49:06

Modified files:
	x11/gnome/documents: Makefile distinfo 

Log message:
Update to gnome-documents-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 07:51:04

Modified files:
	x11/gnome/sushi: Makefile 

Log message:
Regen WANTLIB to unbreak.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 07:58:45

Modified files:
	devel          : Makefile 
Removed files:
	devel/spidermonkey: Makefile distinfo 
	devel/spidermonkey/patches: 
	                            patch-assembler_jit_ExecutableAllocator_h 
	                            patch-assembler_wtf_Platform_h 
	                            patch-config_config_mk 
	                            patch-config_milestone_pl 
	                            patch-configure 
	                            patch-ctypes_libffi_configure 
	                            patch-ctypes_libffi_src_mips_ffi_c 
	                            patch-ctypes_libffi_src_mips_ffitarget_h 
	                            patch-ctypes_libffi_src_x86_freebsd_S 
	                            patch-gc_RootMarking_cpp 
	                            patch-jsapi_cpp patch-jscpucfg_h 
	devel/spidermonkey/pkg: DESCR PLIST 

Log message:
Remove spidermonkey (mojz-24) now that nothing uses it anymore

ok aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 07:59:38

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
register spidermonkey removal


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 08:18:44

Modified files:
	usr.sbin/syslogd: syslogd.8 syslogd.c 

Log message:
Add syslogd(8) option -r to suppress the summary line for pipe and
remote loghost as they are most commonly used for automated log
processing.  With -rr the "last message repeated" feature can be
disabled completely.
OK sthen@ deraadt@ jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:20:17

Modified files:
	devel/llvm     : Makefile 
	devel/llvm/patches: patch-tools_lld_ELF_DriverUtils_cpp 

Log message:
Disable colored diagnostics.

from Brad (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:21:13

Modified files:
	multimedia/libmatroska: Makefile distinfo 

Log message:
Update to libmatroska-1.4.7.

from Brad (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:24:49

Modified files:
	x11/gnome/initial-setup: Makefile distinfo 
	x11/gnome/initial-setup/patches: patch-configure_ac 

Log message:
Update to gnome-initial-setup-3.24.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 08:27:46

Modified files:
	regress/usr.sbin/syslogd: Client.pm 
Added files:
	regress/usr.sbin/syslogd: args-repeat.pl 

Log message:
Test syslogd(8) "last message repeated" feature and -r option.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/17 08:31:23

Modified files:
	usr.bin/ssh    : utf8.c 

Log message:
Recognize nl_langinfo(CODESET) return values "646" and "" as aliases
for "US-ASCII", useful for different versions of NetBSD and Solaris.
Found by dtucker@ and by Tom G. Christensen <tgc at jupiterrise dot com>.
OK dtucker@ deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/17 08:32:55

Modified files:
	archivers/lha  : Makefile 
Added files:
	archivers/lha/patches: patch-src_getopt_long_c 

Log message:
mark getopt_long variables properly, so that clang will be happy with the
libc version. did not ditch this getopt_long 'cause it's apparently different
from GNU semantics slightly.

okay naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:37:40

Modified files:
	mail/evolution : Makefile distinfo 
	mail/evolution/pkg: PLIST 
Added files:
	mail/evolution/patches: patch-CMakeLists_txt 
	                        patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Update to evolution-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 08:40:01

Modified files:
	devel/p5-Test-Script: Makefile distinfo 

Log message:
update p5-Test-Script to 1.18


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:45:58

Modified files:
	x11/gnome/builder: Makefile distinfo 
	x11/gnome/builder/patches: patch-libide_util_ide-posix_c 
	x11/gnome/builder/pkg: PLIST 
Added files:
	x11/gnome/builder/patches: patch-doc_Makefile_in 
	                           patch-libide_Makefile_in 

Log message:
Update to gnome-builder-3.24.1 to unbreak.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:55:29

Modified files:
	mail/evolution-ews: Makefile distinfo 
	mail/evolution-ews/pkg: PLIST 
Added files:
	mail/evolution-ews/patches: 
	                            patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Update to evolution-ews-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 08:58:20

Modified files:
	net/telepathy/folks: Makefile 

Log message:
Temporarily --disable-modular-tests until we figure out all the undef refs
to e-d-s private symbols.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 09:03:29

Modified files:
	x11/gnome/maps : Makefile distinfo 
	x11/gnome/maps/pkg: PLIST 

Log message:
Update to gnome-maps-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/17 09:43:02

Modified files:
	x11/xfce4/xfce4-whiskermenu: Makefile distinfo 

Log message:
Bugfix update to xfce4-whiskermenu 1.7.2


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/17 09:53:21

Modified files:
	gnu/lib        : Makefile 
	gnu/usr.bin    : Makefile 
	gnu/usr.bin/clang: Makefile.inc 
	include        : Makefile 
	lib/libcompiler_rt: Makefile 
	lib/libcxx     : Makefile 
	lib/libcxxabi  : Makefile 
	share/mk       : bsd.own.mk 

Log message:
Change build infrastructure to allow building both gcc and clang.  This
doesn't actually flip the switch yet, so aarch64 continues to be the only
architecture for which we build clang.

ok jsg@, deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 10:02:31

Modified files:
	security/p5-IO-Socket-SSL: Makefile distinfo 

Log message:
update p5-IO-Socket-SSL to 2.048


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/17 10:03:15

Modified files:
	usr.sbin/ntpd  : ntp_dns.c 

Log message:
don't manipulate hdr.len, it's used internally by libutil now; ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/17 10:36:35

Modified files:
	lib/libc/stdlib: malloc.c 

Log message:
whitespace fixes


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/17 10:37:39

Modified files:
	usr.sbin/ypldap: ypldap_dns.c 

Log message:
don't manipulate hdr.len, it's used internally by libutil now; ok florian@


CVSROOT:	/cvs
Module name:	www
Changes by:	kettenis@cvs.openbsd.org	2017/04/17 10:42:06

Modified files:
	faq            : current.html 

Log message:
Document build infrastructure changes.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/17 10:47:51

Modified files:
	textproc/fzy   : Makefile distinfo 
	textproc/fzy/patches: patch-Makefile 

Log message:
Update fzy to 0.9, and honour CC.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 10:53:25

Modified files:
	mail/evolution-rss: Makefile 
	mail/evolution-rss/patches: patch-src_rss_c 

Log message:
Unbreak with the new evolution stack (from upstream).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/17 11:21:49

Modified files:
	lang/ghc       : Makefile 
Added files:
	lang/ghc/patches: patch-compiler_main_SysTools_hs 

Log message:
give the system a chance to figure out clang (their detection method is lame
as the patch shows).

you'll need to wait for a bootstrap/rebootrap yourself so this is actually
effective.

(should cut down *a lot* on the insane number of warnings produced due to
unknown compile options on a clang system)

okay kili@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 11:28:13

Modified files:
	net/telepathy/folks: Makefile distinfo 

Log message:
use git master for this port as there's been lots of fixes upstream, but no release.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/04/17 11:29:13

Modified files:
	net/nagios/nagios: Makefile distinfo 
	net/nagios/nagios/patches: patch-configure 
	                           patch-include_config_h_in 
	                           patch-sample-config_cgi_cfg_in 
	                           patch-sample-config_httpd_conf_in 
	                           patch-sample-config_nagios_cfg_in 
	net/nagios/nagios/pkg: PLIST-web README-main 

Log message:
Update net/nagios/nagios to version 4.3.1

- add archivers/unzip as BUILD_DEPENDS
- regen and adapt patches
- use rcctl in README-main and reflect switch to apache2

Feedback and OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 11:29:46

Modified files:
	audio/pulseaudio: Makefile 

Log message:
fix fix double word in comment


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 11:51:26

Removed files:
	x11/gnome/pinpoint: Makefile distinfo 
	x11/gnome/pinpoint/pkg: DESCR PLIST 

Log message:
Remove pinpoint, development has stopped and there are many alternatives
in-tree.

ok jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 11:51:49

Modified files:
	x11/gnome      : Makefile 

Log message:
-pinpoint


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 11:54:12

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register pinpoint removal.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/17 11:57:17

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Don't obsolete spidermonkey; there's another package named this way.

ok jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 11:57:42

Removed files:
	x11/gnome/anjuta: Makefile distinfo 
	x11/gnome/anjuta/patches: patch-configure 
	x11/gnome/anjuta/pkg: DESCR PLIST 

Log message:
remove anjuta, development has effectively ceased upstream. there are other
alternatives that are actively being development e.g. gnome-builder.

ok aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 11:57:52

Modified files:
	x11/gnome      : Makefile 

Log message:
-anjuta


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 11:58:31

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
register anjuta removal


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/17 12:07:15

Modified files:
	lib/libc/stdlib: malloc.3 

Log message:
consictently use .Dv NULL and a few other tweaks; ok schwarze@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jeremy@cvs.openbsd.org	2017/04/17 12:29:11

Modified files:
	lang/ruby/2.4  : Makefile 
	lang/ruby/2.4/patches: patch-configure 

Log message:
Fix heap overflow by renaming HEAP_ALIGN_LOG to HEAP_PAGE_ALIGN_LOG in configure.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/17 12:31:08

Modified files:
	usr.sbin/dhcpd : dhcpd.h packet.c 

Log message:
Use better types for checksum() parameters and local var from
dhclient. Eliminate extra prototypes for checksum() and wrapsum().


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 13:45:01

Modified files:
	distrib/sets   : checkflist maketars 
	distrib/sets/lists/base: md.alpha md.amd64 md.armv7 md.hppa 
	                         md.i386 md.landisk md.loongson 
	                         md.luna88k md.macppc md.octeon md.sgi 
	                         md.socppc md.sparc64 mi 
	distrib/sets/lists/comp: md.amd64 md.i386 mi 
	distrib/sets/lists/man: mi 
Added files:
	distrib/sets/lists/comp: clang.amd64 clang.i386 gcc.alpha 
	                         gcc.amd64 gcc.armv7 gcc.hppa gcc.i386 
	                         gcc.landisk gcc.loongson gcc.luna88k 
	                         gcc.macppc gcc.octeon gcc.sgi 
	                         gcc.socppc gcc.sparc64 

Log message:
create a gross mechanism that can handle gcc-only, clang-only,
and gcc+clang architectures
with kettenis


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/17 13:49:40

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 
	math           : Makefile 
Removed files:
	math/libneural : Makefile distinfo 
	math/libneural/pkg: DESCR PLIST 

Log message:
Remove libneural: dates from the turn of the century, abandoned,
master site unreachable, nothing in ports uses it.  ok jasper@


CVSROOT:	/cvs
Module name:	src
Changes by:	pascal@cvs.openbsd.org	2017/04/17 13:58:53

Modified files:
	gnu/usr.bin/clang/clang: Makefile 
	gnu/usr.bin/clang/clang-tblgen: Makefile 
	gnu/usr.bin/clang/include/llvm/Config: config.h 
	gnu/usr.bin/clang/llc: Makefile 
	gnu/usr.bin/clang/lld: Makefile 
	gnu/usr.bin/clang/llvm-tblgen: Makefile 

Log message:
Take a more radical approach to disabling colours: pretend we don't
HAVE_TERMINFO in our local config.h.  Some of the lower levels of LLVM
don't seem to respect our default setting.

As a result, delete the -ltermlib dependency.

Note that this breaks -fcolor-diagnostics=auto.  However, fixing the whole
codebase is out of scope for now ...

Prompted by an instance found in the AsmParser by deraadt@

ok kettenis@ patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/17 14:04:26

Modified files:
	usr.bin/mandoc : mansearch.c mansearch.h 

Log message:
Restore -kO Nd, -kO Nm, -kO sec, and -kO arch to working order.
They got broken in the SQLite removal.
As opposed to the rest of -kO, they are no longer very useful,
but they are certainly not supposed to fail assertions.
Issue reported by Gonzalo Tornaria <tornaria at cmat dot edu dot uy>.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 14:22:14

Modified files:
	sys/kern       : kern_pledge.c 

Log message:
matthieu@ observes % pax (without any arguments) hits pledge violation,
because it tries MTIOCTOP against stdin, the tty.  It is very inconvenient
to use isatty to distinguish this difference in userland, so return ENOTTY
for tty devices.
ok natano


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 14:45:38

Modified files:
	net/libproxy   : Makefile 
	net/libproxy/patches: patch-libproxy_CMakeLists_txt 

Log message:
fix net/libproxy with libc++ by defining _POSIX_C_SOURCE=200809L and _BSD_SOURCE
clues from kettenis, espie


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 14:48:21

Modified files:
	sys/netinet    : udp_usrreq.c 

Log message:
Use the address family passed down with pr_input to simplify
udp_input().
OK florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 14:59:35

Modified files:
	sys/netinet    : tcp_input.c 

Log message:
Use the address family passed down with pr_input to simplify
tcp_input().
OK florian@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 15:05:21

Modified files:
	textproc/aspell/core/patches: patch-configure 

Log message:
regen patch


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/17 15:10:03

Modified files:
	sys/netinet    : raw_ip.c 
	sys/netinet6   : raw_ip6.c 

Log message:
The raw ip input functions are called from several places.  Use the
address family passed down with pr_input to check that the correct
one is used.
OK florian@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 15:19:22

Modified files:
	textproc/aspell/core: Makefile 
Added files:
	textproc/aspell/core/patches: patch-interfaces_cc_aspell_h 
	                              patch-prog_aspell_cpp 
	                              patch-prog_checker_string_hpp 

Log message:
Workaround failure with aspell build seen with clang. Upstream devel tree
has a different workaround which requires regenerating some files, so using
the one from FreeBSD for now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/17 15:43:15

Modified files:
	editors/elvis  : Makefile 
	editors/elvis/patches: patch-configure patch-ctags_c 
	                       patch-doc_ctags_man patch-move_c 
Added files:
	editors/elvis/patches: patch-draw_c patch-osunix_ostext_c 
	                       patch-region_c patch-window_c 
Removed files:
	editors/elvis/patches: patch-doc_elvis_man patch-doc_ref_man 

Log message:
Updates from Donovan Watteau, who takes maintainer. From Donovan's mail:

* Fix a startup crash that's extremely easy to trigger on OpenBSD
(patch-draw_c).

* Various fixes from a forked Github version (there was no official
elvis release since 2004), clang warns about most of them.

* Remove some questionable/broken/dangerous features: backtick
support in filenames, WYSIWYG for nroff/tex files, and
HTTP/FTP support.  Looking at the code, I'd feel better having
less features, here.  Please complain if you really want them.

* Remove dead FTP mirrors from MASTER_SITES, and use an HTTP server
instead.

* Remove some previous patches of mine which only dealt with
whitespace in man pages: fixing that was just useless noise.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 15:45:34

Modified files:
	etc/mtree      : 4.4BSD.dist 

Log message:
skip mtree creation of two include dirs.  gcc3 may still use them, but
if so gcc3 should create them itself.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 15:48:26

Modified files:
	libexec/ftpd   : monitor.c 

Log message:
freezero() can be used here


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 15:49:01

Modified files:
	libexec/ftpd   : ftpcmd.y 

Log message:
memset() of password field should be explicit_bzero().
[Not using freezero() in yacc files yet]


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 15:55:20

Modified files:
	lib/libskey    : skeylogin.c 

Log message:
use freezero()


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 15:58:27

Modified files:
	usr.sbin/httpd : server.c 

Log message:
some freezero() calls


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/17 16:42:57

Modified files:
	bin/mt         : mt.1 

Log message:
/dev/rmt* is no longer relevant; from miod


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/04/17 18:18:51

Modified files:
	sys/dev/usb    : if_ure.c 

Log message:
Rearrange ure_iff to resemble other drivers a bit more.
from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/17 18:31:54

Added files:
	graphics/png2ico/patches: patch-png2ico_cpp 

Log message:
no idea how this worked with g++, where it got exit and malloc
obvious fix for clang, include <cstdlib>


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/04/17 19:24:47

Modified files:
	sys/net        : pipex.c 

Log message:
Fix pipex(4) not to cause panics on strict alignment architectures.

ok claudio


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 19:45:35

Modified files:
	usr.bin/vi/cl  : cl_screen.c 
	usr.bin/vi/common: cut.c exf.c key.c log.c main.c options.c 
	                   screen.c seq.c 
	usr.bin/vi/ex  : ex_bang.c ex_init.c ex_read.c ex_script.c 
	                 ex_subst.c ex_tag.c 
	usr.bin/vi/vi  : v_init.c v_paragraph.c vi.c vs_msg.c 

Log message:
free(NULL) is ok so use it; from Michael W. Bombardieri


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/17 20:13:26

Log message:
    Import py-podcastparser-0.6.1 from Tim Meunier, ok/tweaks sthen@
    
    podcast parser project is a library from the gPodder project to provide
    an easy and reliable way of parsing RSS- and Atom-based podcast feeds
    in Python.
    
    Status:
    
    Vendor Tag:	danj
    Release Tags:	danj_20170417
    
    N ports/textproc/py-podcastparser/Makefile
    N ports/textproc/py-podcastparser/distinfo
    N ports/textproc/py-podcastparser/pkg/DESCR
    N ports/textproc/py-podcastparser/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/17 20:14:34

Modified files:
	textproc       : Makefile 

Log message:
+ py-podcastparser


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 20:15:50

Modified files:
	usr.bin/openssl: apps.c dgst.c s_client.c s_server.c 

Log message:
use freezero() instead of 4-line conditional explicit_bzero + free


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 20:16:48

Modified files:
	distrib/sets/lists/comp: clang.amd64 clang.i386 md.amd64 md.i386 

Log message:
put clang binaries into clang set


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 20:20:50

Modified files:
	usr.bin/signify: signify.c 

Log message:
use freezero() instead of explicit_bzero + free


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 20:29:56

Modified files:
	sbin/iked      : pfkey.c 
	sbin/ipsecctl  : pfkey.c 
	usr.sbin/bgpd  : pfkey.c 
	usr.sbin/ldpd  : pfkey.c 
	usr.sbin/sasyncd: pfkey.c 

Log message:
use freezero()


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 21:09:58

Modified files:
	distrib/sets/lists/base: md.alpha md.amd64 md.armv7 md.hppa 
	                         md.i386 md.landisk md.loongson 
	                         md.luna88k md.macppc md.octeon md.sgi 
	                         md.socppc md.sparc64 
	distrib/sets/lists/comp: clang.amd64 clang.i386 gcc.alpha 
	                         gcc.amd64 gcc.armv7 gcc.hppa gcc.i386 
	                         gcc.landisk gcc.loongson gcc.luna88k 
	                         gcc.macppc gcc.octeon gcc.sgi 
	                         gcc.socppc gcc.sparc64 mi 

Log message:
sort


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/04/17 21:21:48

Modified files:
	share/man/man4 : pipex.4 

Log message:
Including sys/types.h and net/if.h are needed to use pipex(4).


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/04/17 21:25:22

Modified files:
	usr.sbin/npppd/npppd: npppd.c 

Log message:
Delete #include lines which are unnecessary.


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/04/17 21:28:04

Modified files:
	usr.sbin/npppd/npppd: npppd.c 

Log message:
Warn if pipex(4) is disabled but the configuration uses it.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 21:54:27

Modified files:
	usr.sbin/identd: identd.c 

Log message:
removed unused function; from Edgar Pettijohn


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/17 22:06:21

Modified files:
	lib/libutil    : pkcs5_pbkdf2.c 

Log message:
use freezero() instead of explicit_bzero+free


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/17 22:38:15

Modified files:
	devel/vte3     : Makefile 

Log message:
missing bdep on gperf


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/17 23:24:47

Modified files:
	distrib/sets/lists/base: md.arm64 
	distrib/sets/lists/comp: md.arm64 
Added files:
	distrib/sets/lists/comp: clang.arm64 

Log message:
add a clang comp list for arm64


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/04/18 01:13:39

Modified files:
	distrib/sets   : makelocatedb 

Log message:
same hack logic as maketars. noticed by landry@/semarie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 01:17:28

Modified files:
	sysutils/gamin : Makefile 
Added files:
	sysutils/gamin/patches: patch-server_gam_eq_c 

Log message:
gcc doesn't protest, but it's a trap^Wa bug.
okay aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/18 01:55:25

Modified files:
	x11/xfce4/xfce4-xkb: Makefile 

Log message:
Explicitely list libwnck in LDEP


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/18 02:54:17

Modified files:
	news/multimail : Makefile 
	news/multimail/patches: patch-interfac_main_cc 

Log message:
Honour CXX and CXXFLAGS, fix build with Clang (convert new.h to new).


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 03:09:25

Modified files:
	net/gpodder    : Makefile distinfo 
	net/gpodder/pkg: PLIST 

Log message:
update to gpodder-3.9.3, from maintainer trondd at kagu-tsuchi/com


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 03:13:20

Modified files:
	net/libproxy   : Makefile 
	net/libproxy/patches: patch-libproxy_CMakeLists_txt 

Log message:
Switch to a simpler clang fix from FreeBSD: just stop defining _POSIX_C_SOURCE
rather than raising the version, and that way _BSD_SOURCE isn't needed either.
Pointed out by ajacoutot.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 03:31:59

Modified files:
	net/bird       : Makefile 
	net/bird/patches: patch-sysdep_bsd_sysio_h 

Log message:
enable md5sig


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/18 05:14:10

Modified files:
	graphics/slop  : Makefile distinfo 
	graphics/slop/pkg: PLIST 

Log message:
update slop from 4.1.16 to 5.3.37

tweaks from jca@, ok and tweaks sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/18 05:16:10

Modified files:
	graphics/maim  : Makefile distinfo 

Log message:
update maim from 3.4.43 to 4.4.62

ok/tweaks sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/18 06:02:25

Modified files:
	graphics/nomacs: Makefile distinfo 

Log message:
update nomacs 3.6.1

major bump hint and ok sthen@ also ok landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/18 06:08:59

Modified files:
	geo/qgis       : Makefile distinfo 
	geo/qgis/patches: patch-CMakeLists_txt patch-src_app_qgisapp_cpp 
	                  patch-src_core_CMakeLists_txt 
	                  patch-src_helpviewer_CMakeLists_txt 
	geo/qgis/pkg   : PLIST 
Removed files:
	geo/qgis/patches: patch-src_server_qgsserver_cpp 

Log message:
Bugfix update to QGIS 2.18.6.


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/04/18 06:42:29

Modified files:
	lib/libcxx/include: stdio.h 

Log message:
wipe some more macros that do not belong in C++ forwarding headers.
(breaks lincity-ng)
okay kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 07:09:23

Modified files:
	archivers/zopfli: Makefile distinfo 
Added files:
	archivers/zopfli/patches: patch-Makefile 
Removed files:
	archivers/zopfli/patches: patch-makefile 

Log message:
update to zopfli-1.0.1


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/04/18 07:21:36

Modified files:
	share/man/man8 : release.8 

Log message:
Cleaning out /usr/obj is necessary the first time due to permission issues.
Make this more clearly visible and also state explicitly that this is no
longer necessary after completing a full release build.

ok deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	gerhard@cvs.openbsd.org	2017/04/18 07:27:55

Modified files:
	sys/dev/usb    : if_umb.c if_umb.h mbim.h 

Log message:
Support packet aggregation for umb(4) on tx.

tested by bluhm@, ststp@ and Bryan Vyhmeister.
ok bluhm@ ststp@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 07:34:04

Modified files:
	usr.bin/tmux   : tty-keys.c 

Log message:
Include client name in key logging.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/18 07:41:32

Modified files:
	sys/kern       : vfs_bio.c 

Log message:
ensure the buffer cache backs off all the way with the correct type
of memory, handling the fact that both queues are actually in dma
space when not flipping buffers high


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/18 07:44:03

Modified files:
	sbin/dhclient  : bpf.c 
	usr.sbin/dhcpd : bpf.c 

Log message:
After 11 years of pondering about it I think that brookdavis@freebsd.org
had it correct. Don't BPF_WORDALIGN() the value for the number of
bytes read() into the buffer. This could theoretically cause the
processing of 1 - 3 more bytes than were read.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 07:50:32

Modified files:
	www/casperjs   : Makefile distinfo 
	www/casperjs/pkg: PLIST 

Log message:
update to casperjs-1.1.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 07:53:09

Modified files:
	net/icinga/web2-module-director: Makefile distinfo 
	net/icinga/web2-module-director/pkg: PLIST 

Log message:
update to icingaweb2-module-director-1.3.1


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/18 07:57:12

Modified files:
	usr.bin/mandoc : mansearch.c 

Log message:
Fix previous: i forgot explicit NUL termination;
noticed by Gonzalo <Tornaria at cmat dot edu dot uy>, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/18 07:59:09

Modified files:
	sbin/dhclient  : bpf.c dhcpd.h packet.c 
	usr.sbin/dhcpd : bpf.c dhcpd.h packet.c 

Log message:
Tweak parameters to decode_*, add a check or two, and thus gain most of the
sanity improvements reyk@ recently put into dhcrelay to ensure no more than
the captured packet is processed.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/18 08:03:08

Modified files:
	share/mk       : bsd.own.mk 

Log message:
ship clang with i386 and amd64.  It does not become the main compiler YET.
ok kettenis


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 08:16:48

Modified files:
	usr.bin/file   : file.c magic-load.c magic-test.c text.c 

Log message:
Style nits; no binary change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 08:53:15

Added files:
	games/kobodeluxe/patches: patch-graphics_window_cpp 

Log message:
make it const-correct, as libcxx has overloaded strstr


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/18 09:04:35

Modified files:
	usr.bin/mandoc : mansearch.c 

Log message:
The apropos(1) manual still documents the unary -i operator for
regular expression search terms, but it appears that somewhere
along the way, the implementation got lost, so restore it.
Bug found while investigating other reports from Gonzalo Tornaria.


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/04/18 09:12:00

Modified files:
	usr.sbin/pkg_add/OpenBSD: Error.pm 

Log message:
recent perl have signal names we don't have, protect against that.
also, allow child_error to take a parameter so that this can be used to decode
an arbitrary wait() result.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/18 09:15:10

Modified files:
	etc/mtree      : 4.4BSD.dist 

Log message:
installation of the compiler creates include/g++ if needed; mtree does not
need to do this.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/18 09:26:33

Modified files:
	usr.bin/mandoc : main.c 

Log message:
Delete the undocumented and unimplemented man(1) -i (interactive
apropos) option.  It will not be implemented.  Featurism isn't the
plan for the future; simplicity is.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 09:27:47

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Do not check for BCE for a background colour that isn't needed, use
colour 8 instead.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/18 09:35:24

Modified files:
	lib/libunwind/include: __libunwind_config.h 
	lib/libunwind/src: DwarfInstructions.hpp DwarfParser.hpp 
	                   Registers.hpp UnwindCursor.hpp 
	                   UnwindRegistersRestore.S 
	                   UnwindRegistersSave.S libunwind.cpp 

Log message:
Add sparc64 support.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 09:37:27

Modified files:
	x11/fvwm2/patches: patch-configure 

Log message:
wrong return type is an error for clang, so catching -Werror that way doesn't
work...

fixes configure for clang, let's see if build works.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 09:44:17

Modified files:
	usr.bin/tmux   : format.c tmux.1 tmux.h tty.c 

Log message:
Add a format for number of bytes writtent to client, useful for debugging.


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/18 09:46:44

Modified files:
	lib/libc/stdlib: malloc.c 

Log message:
don't forget to fill in canary bytes for posix_memalign(3); reported by
and ok jeremy@


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/18 09:51:46

Modified files:
	.              : ftp.html httpslist 
	build          : mirrors.dat 
	openbgpd       : ftp.html 
	openntpd       : portable.html 
	openssh        : ftp.html portable.html 

Log message:
https for openbsd.mirror.garr.it


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/18 09:59:56

Modified files:
	usr.bin/mandoc : main.c 

Log message:
Now that global -i is gone, pass -i through to the apropos(1)
expression parser, such that "apropos -i 'Nm~dump\>'"
finds kdump(1) and WCOREDUMP(2) and you don't need
to type the counter-intuitive "apropos -- -i 'Nm~dump\>'".


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/18 10:21:06

Modified files:
	share/man/man8 : release.8 

Log message:
spelling fix;


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/18 10:28:50

Modified files:
	games/supertux : Makefile distinfo 
	games/supertux/patches: patch-CMakeLists_txt 
	                        patch-external_squirrel_CMakeLists_txt 
	                        patch-external_tinygettext_CMakeLists_txt 
	games/supertux/pkg: PLIST 

Log message:
Update to supertux 0.5.1.  Reminded by Max Teufel (upstream).


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/18 10:37:46

Modified files:
	archivers/brotli: Makefile distinfo 
	archivers/brotli/patches: patch-tests_compatibility_test_sh 
	                          patch-tests_roundtrip_test_sh 
	archivers/brotli/pkg: PLIST 

Log message:
Update to brotli 0.6.0.  Correct license comment.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/18 10:50:34

Modified files:
	korean/libhangul: Makefile distinfo 
	korean/libhangul/pkg: PLIST 
Added files:
	korean/libhangul/patches: patch-hangul_hangulctype_c 

Log message:
Update to libhangul-0.1.0

While here:
- update MASTER_SITES
- drop the gettext module
- add a patch already committed upstream (found in the FreeBSD port)

Patch from Nils Reusse


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/18 10:52:33

Modified files:
	productivity/entomologist: Makefile 

Log message:
Fix homepage, previous url redirects to a parked domain. Port could also
be removed, as it's dead upstream since nearly 5 years (cf
https://github.com/Entomologist/entomologist/commit/27e2a66cc407e2ff2c165ad77ca6d9d88f5cd28e)


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/18 10:59:31

Modified files:
	faq            : faq5.html 

Log message:
i missed a chmod + chown in 'why is /usr/obj on a separate partition'?


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/18 11:02:08

Modified files:
	audio          : Makefile 
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 
Removed files:
	audio/toolame  : Makefile distinfo 
	audio/toolame/patches: patch-Makefile patch-psycho_3_c 
	                       patch-psycho_4_c 
	audio/toolame/pkg: DESCR PLIST 

Log message:
Remove toolame, nothing uses it any more.

audio/twolame is a supposed to be a maintained fork,
multimedia/transcode already uses it.

ok sthen@ fcambus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jeremy@cvs.openbsd.org	2017/04/18 11:09:26

Modified files:
	lang/ruby/2.4/patches: patch-configure 

Log message:
Fix comment for patchfile, no functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/18 11:10:05

Modified files:
	converters/recode: Makefile 
Added files:
	converters/recode/patches: patch-libiconv_aliases_h 
	                           patch-src_recodext_h 

Log message:
Two fixes for clang

- don't use a 2 bits bool field (makes no sense, clang errors out)
- switch a function from __inline to __inline static, like the other
function in this header


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/18 11:16:03

Removed files:
	x11/gpointing-device-settings: Makefile distinfo 
	x11/gpointing-device-settings/patches: patch-data_mouse_ui 
	                                       patch-data_pointingstick_ui 
	                                       patch-data_touchpad_ui 
	                                       patch-modules_gnome-settings-daemon-plugins_gsd-pointing-device-plugin_c 
	                                       patch-modules_gnome-settings-daemon-plugins_gsd-touchpad-manager_c 
	                                       patch-modules_gpds-touchpad-ui_c 
	                                       patch-src_gpds-xinput-pointer-info_c 
	                                       patch-src_gpds-xinput-utils_c 
	                                       patch-src_gpds-xinput_c 
	                                       patch-test_test-xinput-utils_c 
	x11/gpointing-device-settings/pkg: DESCR PLIST 

Log message:
Remove gpointing-device-settings.
Many patches kept it on life support for a few years but it's been
unmaintained and there's no way it can work as is with the new
gnome-settings-daemon.

build breakage reported by nigel@ and naddy@
ok jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/18 11:18:09

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register gpointing-device-settings removal.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/18 11:36:52

Modified files:
	sysutils/consul: Makefile distinfo 

Log message:
Update to consul-0.8.1.

prodded by jasproach


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/18 11:47:14

Modified files:
	x11/gnome/settings-daemon/patches: patch-configure 

Log message:
Add BZ URL.


CVSROOT:	/cvs
Module name:	ports
Changes by:	dcoppa@cvs.openbsd.org	2017/04/18 11:56:21

Modified files:
	graphics/feh   : Makefile distinfo 
Added files:
	graphics/feh/patches: patch-src_Makefile 

Log message:
Update to feh-2.18.3

Patch to make it build with clang by Benjamin Baier
<programmer(AT)netzbasis(DOT)de>, thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/18 12:18:35

Modified files:
	print/hplip    : Makefile distinfo 
	print/hplip/patches: patch-Makefile_in 
	print/hplip/pkg: PLIST-hpijs 

Log message:
Update to hplip-3.17.4.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 12:21:37

Modified files:
	usr.bin/tmux   : tmux.h tty-keys.c tty.c 

Log message:
Detect iTerm2 and use DECSLRM for it as well.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/04/18 12:38:11

Modified files:
	lang/ghc       : Makefile distinfo 

Log message:
Use the new boostrappers with the better clang detection fix from espie@.

No objectsion, espie@

(But it still produces tons of warnings, even when compiling ordinary
.hs files)


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 14:03:45

Modified files:
	databases/mariadb: Makefile 

Log message:
Ensure consistent behavior of CMake detecting / enabling bits no
matter which compiler is used (no change for base gcc). From Brad.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/18 14:16:33

Modified files:
	print/htmldoc  : Makefile 
Added files:
	print/htmldoc/patches: patch-htmldoc_htmlsep_cxx 

Log message:
Patch to make it build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/18 14:25:13

Modified files:
	archivers/p5-Compress-Bzip2: Makefile distinfo 

Log message:
Update to p5-Compress-Bzip2-2.26.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/18 14:26:06

Modified files:
	productivity/glabels: Makefile 

Log message:
Regen WANTLIB.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 14:37:49

Modified files:
	usr.bin/tmux   : server-client.c 

Log message:
On terminals without DECSLRM, when a pane that is less than the full
with of the terminal scrolls, tmux needs to redraw the entire pane. This
results in a large amount of output data which can cause slow terminals
to struggle, particularly when many lines are scrolled together quickly.

This can be reduced by only redrawing when tmux doesn't hold any
buffered data for the terminal. If a redraw is required and data is
buffered, the redraw is deferred until all that data is consumed (it is
checked after every event loop, a timer is used to ensure this happens
at some point). While a redraw is pending, no additional data will be
written to the terminal.

The redraw still happens, now it is just pushed back if it is possible
it would just add more data on top of a terminal that is already
behind. This both gives the terminal a chance to catch up, and allows
tmux to process more scrolling (that would require additional redraws)
in the meantime.

Helps with a problem reported by Greg Hurrell.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/18 14:45:28

Modified files:
	x11            : Makefile 

Log message:
remove gpointing-device-settings


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 15:05:09

Modified files:
	comms/minicom  : Makefile distinfo 

Log message:
Update to minicom-2.7.1

CVE-2017-7467: Fix an out of bounds data access that can lead to remote
code execution.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/18 15:05:42

Modified files:
	comms/minicom  : Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC Update to minicom-2.7.1

CVE-2017-7467: Fix an out of bounds data access that can lead to remote
code execution.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 15:13:03

Modified files:
	audio/adplug   : Makefile 
Added files:
	audio/adplug/patches: patch-src_fmopl_c 
	games/lincity/patches: patch-pixmap_c 

Log message:
hello, modern C inline semantics. okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 15:14:06

Added files:
	devel/mozjs17/patches: patch-jsopcode_cpp 

Log message:
pointers don't really do signed comparisons. Stolen from FreeBSD.
okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 15:16:08

Added files:
	devel/mozjs17/patches: patch-jsinterp_cpp 

Log message:
dynamic goto outside of a scope with non trivial destructors is a recipe
for disaster. Can't work even with gcc, caught by clang.

Turns out this is just debugging shitz, not really necessary, just comment
it off (we could rewrite the whole thing to have separate scope or use
new/delete, but what's the point ? mozjs17 is going to die one day anyway)

FreeBSD doesn't see the issue 'cause  they don't enable threads.

okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/18 15:22:57

Modified files:
	devel/libidn2  : Makefile distinfo 
	devel/libidn2/patches: patch-src_idn2_c 
	devel/libidn2/pkg: DESCR PLIST 

Log message:
update to 2.0.0, which now includes libidn1 compatibility functions


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/18 15:41:42

Modified files:
	usr.bin/tmux   : tmux.h tty-keys.c tty.c 

Log message:
Revert use of DECSLRM on iTerm2, it doesn't help as much as we throught,
and there are some question marks about it's support.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/18 16:00:34

Modified files:
	emulators/fceux/patches: patch-fceux-server_server_cpp 
Added files:
	emulators/fceux/patches: patch-src_boards_rt-01_cpp 
	                         patch-src_cheat_cpp 

Log message:
fix a few obvious issues shown by clang (missing prototype, signed pointer
comparisons)

still doesn't link


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/18 17:06:50

Modified files:
	etc            : rc 

Log message:
Simplify patching of motd(5), also making it agree better with the
documentation if the first line of the file is blank.
Quirk reported by Anthony Coulter <bsd at anthonycoulter dot name>.
OK rpe@


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/18 18:46:53

Modified files:
	www/py-flask   : Makefile distinfo 
	www/py-flask/pkg: PLIST 

Log message:
Update to py-flask-0.12.1


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/18 18:59:32

Modified files:
	usr.bin/mandoc : cgi.c 

Log message:
More thoroughly reject direct access to unintended files, such that
URIs like http://man.openbsd.org/OpenBSD-current/mandoc.db and
http://man.openbsd.org/OpenBSD-current/man1/ do not cause display
of garbage.


CVSROOT:	/cvs
Module name:	www
Changes by:	bentley@cvs.openbsd.org	2017/04/18 20:12:04

Modified files:
	.              : lyrics.html 

Log message:
None of the song collections are available on the store anymore.

ok tj@


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/18 23:16:47

Modified files:
	www/iridium    : Makefile distinfo 
	www/iridium/files: audio_manager_openbsd.cc 
	                   audio_manager_openbsd.h sndio_output.cc 
	                   sndio_output.h 
	www/iridium/patches: patch-BUILD_gn 
	                     patch-apps_ui_views_app_window_frame_view_cc 
	                     patch-ash_display_mirror_window_controller_cc 
	                     patch-base_BUILD_gn patch-base_atomicops_h 
	                     patch-base_base_paths_posix_cc 
	                     patch-base_debug_debugger_posix_cc 
	                     patch-base_debug_stack_trace_h 
	                     patch-base_debug_stack_trace_posix_cc 
	                     patch-base_linux_util_cc 
	                     patch-base_native_library_posix_cc 
	                     patch-base_posix_unix_domain_socket_linux_cc 
	                     patch-base_process_launch_h 
	                     patch-base_process_memory_cc 
	                     patch-base_process_process_handle_openbsd_cc 
	                     patch-base_process_process_iterator_openbsd_cc 
	                     patch-base_process_process_metrics_h 
	                     patch-base_process_process_metrics_openbsd_cc 
	                     patch-base_process_process_posix_cc 
	                     patch-base_sys_info_openbsd_cc 
	                     patch-base_sys_info_posix_cc 
	                     patch-base_third_party_libevent_event-config_h 
	                     patch-base_third_party_libevent_openbsd_config_h 
	                     patch-base_third_party_libevent_openbsd_event-config_h 
	                     patch-base_third_party_symbolize_symbolize_cc 
	                     patch-base_threading_platform_thread_linux_cc 
	                     patch-base_threading_platform_thread_posix_cc 
	                     patch-base_trace_event_malloc_dump_provider_cc 
	                     patch-base_trace_event_process_memory_dump_cc 
	                     patch-build_config_BUILDCONFIG_gn 
	                     patch-build_config_BUILD_gn 
	                     patch-build_config_allocator_gni 
	                     patch-build_config_compiler_BUILD_gn 
	                     patch-build_config_compiler_compiler_gni 
	                     patch-build_config_features_gni 
	                     patch-build_config_linux_pkg-config_py 
	                     patch-build_toolchain_gcc_solink_wrapper_py 
	                     patch-build_toolchain_gcc_toolchain_gni 
	                     patch-build_toolchain_openbsd_BUILD_gn 
	                     patch-cc_BUILD_gn 
	                     patch-chrome_app_chrome_command_ids_h 
	                     patch-chrome_app_chrome_main_delegate_cc 
	                     patch-chrome_app_chrome_main_delegate_h 
	                     patch-chrome_app_chromium_strings_grd 
	                     patch-chrome_app_generated_resources_grd 
	                     patch-chrome_app_google_chrome_strings_grd 
	                     patch-chrome_app_mash_mash_runner_cc 
	                     patch-chrome_app_resources_locale_settings_grd 
	                     patch-chrome_browser_about_flags_cc 
	                     patch-chrome_browser_after_startup_task_utils_cc 
	                     patch-chrome_browser_browser_process_impl_cc 
	                     patch-chrome_browser_browser_process_impl_h 
	                     patch-chrome_browser_browser_resources_grd 
	                     patch-chrome_browser_chrome_browser_main_cc 
	                     patch-chrome_browser_chrome_browser_main_linux_cc 
	                     patch-chrome_browser_chrome_browser_main_posix_cc 
	                     patch-chrome_browser_chrome_content_browser_client_cc 
	                     patch-chrome_browser_chrome_content_browser_client_h 
	                     patch-chrome_browser_custom_handlers_protocol_handler_registry_cc 
	                     patch-chrome_browser_defaults_cc 
	                     patch-chrome_browser_download_chrome_download_manager_delegate_cc 
	                     patch-chrome_browser_download_download_commands_cc 
	                     patch-chrome_browser_download_download_commands_h 
	                     patch-chrome_browser_download_download_prefs_cc 
	                     patch-chrome_browser_download_download_prefs_h 
	                     patch-chrome_browser_download_download_shelf_context_menu_cc 
	                     patch-chrome_browser_download_download_status_updater_cc 
	                     patch-chrome_browser_extensions_BUILD_gn 
	                     patch-chrome_browser_extensions_api_image_writer_private_image_writer_private_api_cc 
	                     patch-chrome_browser_extensions_api_input_ime_input_ime_api_h 
	                     patch-chrome_browser_extensions_api_messaging_message_service_cc 
	                     patch-chrome_browser_extensions_api_music_manager_private_device_id_linux_cc 
	                     patch-chrome_browser_extensions_bookmark_app_helper_cc 
	                     patch-chrome_browser_extensions_browser_context_keyed_service_factories_cc 
	                     patch-chrome_browser_extensions_external_provider_impl_cc 
	                     patch-chrome_browser_first_run_first_run_internal_posix_cc 
	                     patch-chrome_browser_gpu_gl_string_manager_cc 
	                     patch-chrome_browser_gpu_gpu_feature_checker_cc 
	                     patch-chrome_browser_interstitials_chrome_controller_client_cc 
	                     patch-chrome_browser_media_galleries_fileapi_mtp_device_map_service_cc 
	                     patch-chrome_browser_media_galleries_media_file_system_registry_cc 
	                     patch-chrome_browser_memory_details_cc 
	                     patch-chrome_browser_metrics_chrome_browser_main_extra_parts_metrics_cc 
	                     patch-chrome_browser_net_async_dns_field_trial_cc 
	                     patch-chrome_browser_notifications_message_center_notification_manager_cc 
	                     patch-chrome_browser_platform_util_h 
	                     patch-chrome_browser_platform_util_linux_cc 
	                     patch-chrome_browser_plugins_plugins_resource_service_cc 
	                     patch-chrome_browser_process_singleton_posix_cc 
	                     patch-chrome_browser_profiles_profile_impl_io_data_cc 
	                     patch-chrome_browser_renderer_preferences_util_cc 
	                     patch-chrome_browser_resources_plugin_metadata_plugins_linux_json 
	                     patch-chrome_browser_resources_safe_browsing_gen_file_type_proto_py 
	                     patch-chrome_browser_safe_browsing_incident_reporting_incident_reporting_service_cc 
	                     patch-chrome_browser_safe_browsing_permission_reporter_cc 
	                     patch-chrome_browser_speech_tts_controller_impl_cc 
	                     patch-chrome_browser_sync_chrome_sync_client_cc 
	                     patch-chrome_browser_tracing_crash_service_uploader_cc 
	                     patch-chrome_browser_ui_browser_command_controller_cc 
	                     patch-chrome_browser_ui_browser_view_prefs_cc 
	                     patch-chrome_browser_ui_exclusive_access_exclusive_access_bubble_cc 
	                     patch-chrome_browser_ui_input_method_input_method_engine_base_cc 
	                     patch-chrome_browser_ui_input_method_input_method_engine_h 
	                     patch-chrome_browser_ui_startup_bad_flags_prompt_cc 
	                     patch-chrome_browser_ui_startup_startup_browser_creator_cc 
	                     patch-chrome_browser_ui_tab_helpers_cc 
	                     patch-chrome_browser_ui_toolbar_app_menu_model_cc 
	                     patch-chrome_browser_ui_views_accelerator_table_cc 
	                     patch-chrome_browser_ui_views_apps_chrome_native_app_window_views_aura_cc 
	                     patch-chrome_browser_ui_views_chrome_views_delegate_cc 
	                     patch-chrome_browser_ui_views_chrome_views_delegate_h 
	                     patch-chrome_browser_ui_views_first_run_dialog_cc 
	                     patch-chrome_browser_ui_views_frame_browser_frame_cc 
	                     patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_cc 
	                     patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_layout_cc 
	                     patch-chrome_browser_ui_views_frame_opaque_browser_frame_view_platform_specific_cc 
	                     patch-chrome_browser_ui_views_frame_system_menu_model_builder_cc 
	                     patch-chrome_browser_ui_views_frame_system_menu_model_delegate_cc 
	                     patch-chrome_browser_ui_views_message_center_message_center_frame_view_cc 
	                     patch-chrome_browser_ui_views_tabs_tab_drag_controller_cc 
	                     patch-chrome_browser_ui_views_tabs_tab_strip_cc 
	                     patch-chrome_browser_ui_webui_about_ui_cc 
	                     patch-chrome_browser_ui_webui_chrome_web_ui_controller_factory_cc 
	                     patch-chrome_browser_ui_webui_options_browser_options_handler_cc 
	                     patch-chrome_browser_ui_webui_options_browser_options_handler_h 
	                     patch-chrome_browser_ui_webui_settings_md_settings_localized_strings_provider_cc 
	                     patch-chrome_browser_web_applications_web_app_cc 
	                     patch-chrome_browser_web_applications_web_app_h 
	                     patch-chrome_common_BUILD_gn 
	                     patch-chrome_common_chrome_paths_cc 
	                     patch-chrome_common_chrome_paths_h 
	                     patch-chrome_common_chrome_paths_internal_h 
	                     patch-chrome_common_chrome_switches_cc 
	                     patch-chrome_common_chrome_switches_h 
	                     patch-chrome_common_extensions_chrome_extensions_client_cc 
	                     patch-chrome_common_extensions_command_cc 
	                     patch-chrome_common_pref_names_cc 
	                     patch-chrome_common_pref_names_h 
	                     patch-chrome_common_url_constants_cc 
	                     patch-chrome_common_url_constants_h 
	                     patch-chromecast_browser_cast_browser_main_parts_cc 
	                     patch-chromecast_browser_cast_content_browser_client_cc 
	                     patch-components_autofill_core_browser_autofill_experiments_cc 
	                     patch-components_content_settings_core_browser_website_settings_registry_cc 
	                     patch-components_cookie_config_cookie_store_util_cc 
	                     patch-components_crash_content_app_BUILD_gn 
	                     patch-components_crash_content_browser_BUILD_gn 
	                     patch-components_filesystem_file_system_app_cc 
	                     patch-components_metrics_BUILD_gn 
	                     patch-components_metrics_drive_metrics_provider_linux_cc 
	                     patch-components_neterror_resources_neterror_js 
	                     patch-components_omnibox_browser_omnibox_field_trial_cc 
	                     patch-components_os_crypt_os_crypt_h 
	                     patch-components_policy_resources_policy_templates_json 
	                     patch-components_policy_tools_generate_policy_source_py 
	                     patch-components_storage_monitor_BUILD_gn 
	                     patch-components_storage_monitor_storage_monitor_openbsd_cc 
	                     patch-components_storage_monitor_storage_monitor_openbsd_h 
	                     patch-components_sync_base_get_session_name_cc 
	                     patch-components_sync_base_get_session_name_linux_cc 
	                     patch-content_app_content_main_runner_cc 
	                     patch-content_browser_BUILD_gn 
	                     patch-content_browser_accessibility_browser_accessibility_h 
	                     patch-content_browser_accessibility_browser_accessibility_manager_h 
	                     patch-content_browser_browser_main_loop_cc 
	                     patch-content_browser_device_sensors_data_fetcher_shared_memory_h 
	                     patch-content_browser_devtools_protocol_color_picker_cc 
	                     patch-content_browser_download_base_file_cc 
	                     patch-content_browser_gpu_gpu_data_manager_impl_private_cc 
	                     patch-content_browser_gpu_gpu_internals_ui_cc 
	                     patch-content_browser_media_media_internals_cc 
	                     patch-content_browser_ppapi_plugin_process_host_cc 
	                     patch-content_browser_renderer_host_render_process_host_impl_cc 
	                     patch-content_browser_renderer_host_render_widget_host_view_aura_cc 
	                     patch-content_browser_utility_process_host_impl_cc 
	                     patch-content_common_BUILD_gn 
	                     patch-content_common_sandbox_init_openbsd_cc 
	                     patch-content_common_sandbox_init_openbsd_h 
	                     patch-content_common_set_process_title_linux_cc 
	                     patch-content_common_set_process_title_linux_h 
	                     patch-content_gpu_gpu_main_cc 
	                     patch-content_ppapi_plugin_ppapi_plugin_main_cc 
	                     patch-content_public_common_content_switches_cc 
	                     patch-content_public_common_content_switches_h 
	                     patch-content_renderer_render_thread_impl_cc 
	                     patch-content_renderer_renderer_main_cc 
	                     patch-content_renderer_renderer_main_platform_delegate_linux_cc 
	                     patch-content_shell_browser_shell_browser_context_cc 
	                     patch-content_shell_browser_shell_browser_main_parts_cc 
	                     patch-content_utility_utility_main_cc 
	                     patch-content_zygote_zygote_main_linux_cc 
	                     patch-dbus_property_cc 
	                     patch-device_bluetooth_BUILD_gn 
	                     patch-device_gamepad_gamepad_provider_cc 
	                     patch-device_hid_BUILD_gn 
	                     patch-device_media_transfer_protocol_media_transfer_protocol_daemon_client_h 
	                     patch-device_media_transfer_protocol_media_transfer_protocol_manager_h 
	                     patch-device_serial_BUILD_gn 
	                     patch-device_serial_serial_io_handler_posix_cc 
	                     patch-device_usb_BUILD_gn 
	                     patch-extensions_browser_api_serial_serial_api_cc 
	                     patch-gpu_config_gpu_info_collector_linux_cc 
	                     patch-gpu_config_gpu_info_collector_linux_h 
	                     patch-gpu_config_gpu_info_collector_x11_cc 
	                     patch-ipc_ipc_message_utils_cc 
	                     patch-ipc_ipc_message_utils_h 
	                     patch-iridium_trknotify_cpp 
	                     patch-media_audio_BUILD_gn 
	                     patch-media_audio_audio_manager_cc 
	                     patch-media_audio_audio_manager_h 
	                     patch-media_base_video_frame_cc 
	                     patch-media_base_video_frame_h 
	                     patch-media_capture_video_fake_video_capture_device_factory_cc 
	                     patch-media_capture_video_file_video_capture_device_factory_cc 
	                     patch-media_capture_video_video_capture_device_factory_cc 
	                     patch-media_media_options_gni 
	                     patch-net_BUILD_gn 
	                     patch-net_base_address_tracker_linux_h 
	                     patch-net_base_network_change_notifier_cc 
	                     patch-net_disk_cache_blockfile_disk_format_h 
	                     patch-net_dns_address_sorter_posix_cc 
	                     patch-net_dns_dns_util_cc 
	                     patch-net_dns_host_resolver_proc_cc 
	                     patch-net_http_http_network_session_cc 
	                     patch-net_proxy_proxy_config_service_linux_cc 
	                     patch-net_proxy_proxy_service_cc 
	                     patch-net_socket_socks5_client_socket_cc 
	                     patch-net_tools_get_server_time_get_server_time_cc 
	                     patch-net_url_request_url_request_context_builder_cc 
	                     patch-pdf_pdfium_pdfium_engine_cc 
	                     patch-ppapi_shared_impl_private_net_address_private_impl_cc 
	                     patch-printing_backend_print_backend_cups_h 
	                     patch-sandbox_BUILD_gn 
	                     patch-sandbox_linux_BUILD_gn 
	                     patch-skia_ext_SkMemory_new_handler_cpp 
	                     patch-third_party_WebKit_Source_bindings_core_v8_V8ScriptRunner_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_FontCache_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_FontCache_h 
	                     patch-third_party_WebKit_Source_platform_fonts_FontPlatformData_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_FontPlatformData_h 
	                     patch-third_party_WebKit_Source_platform_fonts_SimpleFontData_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_skia_FontCacheSkia_cpp 
	                     patch-third_party_WebKit_Source_platform_heap_StackFrameDepth_cpp 
	                     patch-third_party_WebKit_Source_platform_heap_ThreadState_cpp 
	                     patch-third_party_WebKit_Source_web_PopupMenuImpl_cpp 
	                     patch-third_party_WebKit_Source_wtf_BUILD_gn 
	                     patch-third_party_WebKit_Source_wtf_MathExtras_h 
	                     patch-third_party_angle_BUILD_gn 
	                     patch-third_party_ffmpeg_BUILD_gn 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_ia32_config_asm 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_ia32_config_h 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_x64_config_asm 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_x64_config_h 
	                     patch-third_party_ffmpeg_libavcodec_x86_cabac_h 
	                     patch-third_party_ffmpeg_libavutil_cpu_c 
	                     patch-third_party_ffmpeg_libavutil_mem_c 
	                     patch-third_party_libXNVCtrl_NVCtrl_c 
	                     patch-third_party_libphonenumber_dist_cpp_src_phonenumbers_base_memory_singleton_h 
	                     patch-third_party_libphonenumber_dist_cpp_src_phonenumbers_base_synchronization_lock_h 
	                     patch-third_party_libphonenumber_dist_cpp_src_phonenumbers_base_thread_checker_h 
	                     patch-third_party_libusb_BUILD_gn 
	                     patch-third_party_libusb_src_libusb_core_c 
	                     patch-third_party_pdfium_core_fxge_ge_fx_ge_linux_cpp 
	                     patch-third_party_pdfium_fpdfsdk_javascript_JS_Value_cpp 
	                     patch-third_party_pdfium_third_party_libopenjpeg20_opj_malloc_h 
	                     patch-third_party_protobuf_src_google_protobuf_stubs_atomicops_h 
	                     patch-third_party_protobuf_src_google_protobuf_stubs_platform_macros_h 
	                     patch-third_party_protobuf_src_google_protobuf_stubs_strutil_h 
	                     patch-third_party_skia_src_gpu_GrAutoLocaleSetter_h 
	                     patch-third_party_skia_src_ports_SkOSFile_stdio_cpp 
	                     patch-third_party_sqlite_BUILD_gn 
	                     patch-third_party_usrsctp_BUILD_gn 
	                     patch-third_party_webrtc_BUILD_gn 
	                     patch-third_party_webrtc_base_BUILD_gn 
	                     patch-third_party_webrtc_base_httpcommon_cc 
	                     patch-third_party_webrtc_base_network_cc 
	                     patch-third_party_webrtc_base_physicalsocketserver_cc 
	                     patch-third_party_webrtc_base_platform_thread_cc 
	                     patch-third_party_webrtc_base_stringutils_h 
	                     patch-third_party_webrtc_modules_audio_device_BUILD_gn 
	                     patch-third_party_webrtc_system_wrappers_BUILD_gn 
	                     patch-third_party_webrtc_system_wrappers_source_atomic32_non_darwin_unix_cc 
	                     patch-third_party_webrtc_system_wrappers_source_timestamp_extrapolator_cc 
	                     patch-third_party_webrtc_voice_engine_voice_engine_defines_h 
	                     patch-third_party_yasm_source_config_openbsd_config_h 
	                     patch-third_party_yasm_source_config_openbsd_libyasm-stdint_h 
	                     patch-third_party_zlib_BUILD_gn 
	                     patch-tools_gn_args_cc 
	                     patch-tools_gn_bootstrap_bootstrap_py 
	                     patch-tools_gn_bootstrap_build_ninja_template 
	                     patch-tools_gyp_pylib_gyp_generator_make_py 
	                     patch-tools_gyp_pylib_gyp_generator_ninja_py 
	                     patch-ui_accessibility_platform_ax_platform_node_h 
	                     patch-ui_app_list_app_list_constants_cc 
	                     patch-ui_app_list_app_list_constants_h 
	                     patch-ui_app_list_views_app_list_item_view_cc 
	                     patch-ui_base_ime_ime_engine_handler_interface_h 
	                     patch-ui_base_ime_input_method_factory_cc 
	                     patch-ui_base_ime_input_method_initializer_cc 
	                     patch-ui_base_resource_resource_bundle_cc 
	                     patch-ui_base_webui_web_ui_util_cc 
	                     patch-ui_events_devices_x11_device_data_manager_x11_cc 
	                     patch-ui_events_event_switches_cc 
	                     patch-ui_events_event_switches_h 
	                     patch-ui_events_keycodes_dom_keycode_converter_cc 
	                     patch-ui_gfx_canvas_skia_cc 
	                     patch-ui_gfx_codec_png_codec_cc 
	                     patch-ui_gfx_font_fallback_linux_cc 
	                     patch-ui_gfx_font_render_params_h 
	                     patch-ui_gl_BUILD_gn 
	                     patch-ui_gl_generate_bindings_py 
	                     patch-ui_gl_gl_bindings_api_autogen_glx_h 
	                     patch-ui_gl_gl_bindings_autogen_glx_cc 
	                     patch-ui_gl_gl_bindings_autogen_glx_h 
	                     patch-ui_gl_sync_control_vsync_provider_cc 
	                     patch-ui_gl_sync_control_vsync_provider_h 
	                     patch-ui_message_center_message_center_style_h 
	                     patch-ui_message_center_views_message_center_button_bar_cc 
	                     patch-ui_message_center_views_message_center_button_bar_h 
	                     patch-ui_message_center_views_message_view_factory_cc 
	                     patch-ui_resources_ui_resources_grd 
	                     patch-ui_views_accessibility_native_view_accessibility_h 
	                     patch-ui_views_bubble_bubble_dialog_delegate_cc 
	                     patch-ui_views_controls_textfield_textfield_cc 
	                     patch-ui_views_corewm_tooltip_aura_cc 
	                     patch-ui_views_examples_widget_example_cc 
	                     patch-ui_views_mus_aura_init_cc 
	                     patch-ui_views_mus_aura_init_h 
	                     patch-ui_views_style_platform_style_cc 
	                     patch-ui_views_views_delegate_cc 
	                     patch-ui_views_views_delegate_h 
	                     patch-ui_views_views_switches_cc 
	                     patch-ui_views_window_custom_frame_view_cc 
	                     patch-ui_views_window_dialog_delegate_cc 
	                     patch-ui_webui_resources_js_cr_js 
	                     patch-ui_webui_resources_js_icon_js 
	                     patch-v8_BUILD_gn 
	                     patch-v8_src_base_platform_platform-posix_cc 
	                     patch-v8_src_globals_h 
	                     patch-v8_src_log-utils_h 
	www/iridium/pkg: PLIST 
Added files:
	www/iridium    : 
	                 patch-chrome_browser_resources_plugin_metadata_plugins_linux_json 
	www/iridium/patches: patch-base_allocator_allocator_shim_cc 
	                     patch-base_debug_thread_heap_usage_tracker_cc 
	                     patch-base_threading_platform_thread_h 
	                     patch-build_compiler_version_py 
	                     patch-chrome_BUILD_gn 
	                     patch-chrome_app_settings_strings_grdp 
	                     patch-chrome_browser_extensions_api_settings_private_prefs_util_cc 
	                     patch-chrome_browser_media_webrtc_webrtc_log_uploader_cc 
	                     patch-chrome_browser_task_manager_sampling_task_group_cc 
	                     patch-chrome_browser_task_manager_sampling_task_group_h 
	                     patch-chrome_browser_task_manager_sampling_task_group_sampler_cc 
	                     patch-chrome_browser_task_manager_sampling_task_group_sampler_h 
	                     patch-chrome_browser_task_manager_sampling_task_manager_impl_cc 
	                     patch-chrome_browser_task_manager_task_manager_observer_h 
	                     patch-chrome_browser_ui_libgtkui_print_dialog_gtk_cc 
	                     patch-chrome_browser_ui_task_manager_task_manager_columns_cc 
	                     patch-chrome_browser_ui_task_manager_task_manager_table_model_cc 
	                     patch-chrome_browser_ui_views_chrome_browser_main_extra_parts_views_cc 
	                     patch-chrome_browser_ui_webui_settings_appearance_handler_cc 
	                     patch-chrome_browser_ui_webui_settings_appearance_handler_h 
	                     patch-content_browser_child_process_launcher_helper_linux_cc 
	                     patch-content_browser_memory_memory_monitor_cc 
	                     patch-content_browser_renderer_host_media_video_capture_manager_cc 
	                     patch-content_browser_renderer_host_render_message_filter_cc 
	                     patch-content_browser_renderer_host_render_message_filter_h 
	                     patch-content_browser_renderer_host_render_view_host_impl_cc 
	                     patch-content_browser_renderer_host_render_widget_host_view_event_handler_cc 
	                     patch-content_child_child_process_cc 
	                     patch-content_child_child_process_h 
	                     patch-content_child_child_thread_impl_cc 
	                     patch-content_child_child_thread_impl_h 
	                     patch-content_common_child_process_messages_h 
	                     patch-content_common_content_switches_internal_cc 
	                     patch-content_common_view_messages_h 
	                     patch-content_public_common_renderer_preferences_h 
	                     patch-content_renderer_webscrollbarbehavior_impl_aura_cc 
	                     patch-device_geolocation_location_arbitrator_cc 
	                     patch-device_time_zone_monitor_time_zone_monitor_cc 
	                     patch-gpu_ipc_service_gpu_init_cc 
	                     patch-mash_package_mash_packaged_service_cc 
	                     patch-media_BUILD_gn 
	                     patch-media_audio_pulse_audio_manager_pulse_cc 
	                     patch-media_base_audio_latency_cc 
	                     patch-media_capture_video_linux_v4l2_capture_delegate_cc 
	                     patch-media_capture_video_video_capture_device_client_cc 
	                     patch-net_base_network_interfaces_openbsd_cc 
	                     patch-net_base_network_interfaces_openbsd_h 
	                     patch-net_base_network_interfaces_posix_h 
	                     patch-net_quic_platform_impl_quic_ip_address_impl_cc 
	                     patch-net_socket_udp_socket_posix_cc 
	                     patch-net_tools_cert_verify_tool_verify_using_path_builder_cc 
	                     patch-sandbox_features_gni 
	                     patch-services_service_manager_public_cpp_standalone_service_BUILD_gn 
	                     patch-services_service_manager_public_cpp_standalone_service_standalone_service_cc 
	                     patch-services_service_manager_runner_host_BUILD_gn 
	                     patch-services_ui_gpu_gpu_main_cc 
	                     patch-third_party_WebKit_Source_wtf_StackUtil_cpp 
	                     patch-third_party_mesa_src_src_glsl_strtod_c 
	                     patch-third_party_mesa_src_src_mesa_main_imports_c 
	                     patch-third_party_pdfium_core_fxcrt_fx_system_h 
	                     patch-tools_variations_fieldtrial_to_struct_py 
	                     patch-ui_base_dragdrop_os_exchange_data_provider_factory_cc 
	                     patch-ui_gfx_font_list_cc 
	                     patch-ui_message_center_views_toast_contents_view_cc 
	                     patch-ui_views_controls_label_cc 
	                     patch-ui_views_selection_controller_cc 
	                     patch-v8_src_wasm_wasm-result_h 
Removed files:
	www/iridium/patches: patch-ash_shell_cc 
	                     patch-chrome_app_chrome_main_cc 
	                     patch-chrome_browser_BUILD_gn 
	                     patch-chrome_browser_extensions_api_omnibox_omnibox_api_cc 
	                     patch-chrome_browser_media_webrtc_log_uploader_cc 
	                     patch-chrome_browser_ui_views_app_list_linux_app_list_linux_cc 
	                     patch-chrome_browser_ui_views_frame_browser_view_cc 
	                     patch-content_browser_child_process_launcher_cc 
	                     patch-content_browser_download_base_file_linux_cc 
	                     patch-content_browser_power_usage_monitor_impl_cc 
	                     patch-content_browser_renderer_host_media_video_capture_device_client_cc 
	                     patch-content_browser_time_zone_monitor_cc 
	                     patch-content_renderer_devtools_v8_sampling_profiler_cc 
	                     patch-content_renderer_webscrollbarbehavior_impl_gtkoraura_cc 
	                     patch-device_geolocation_location_arbitrator_impl_cc 
	                     patch-device_serial_serial_service_impl_cc 
	                     patch-native_client_build_compiler_version_py 
	                     patch-net_base_network_interfaces_posix_cc 
	                     patch-net_udp_udp_socket_posix_cc 
	                     patch-services_shell_runner_host_BUILD_gn 
	                     patch-services_ui_public_cpp_gles2_context_cc 
	                     patch-services_ui_surfaces_surfaces_context_provider_cc 
	                     patch-third_party_WebKit_Source_platform_heap_ThreadState_h 
	                     patch-third_party_pdfium_core_fxcrt_include_fx_system_h 
	                     patch-tools_perf_chrome_telemetry_build_BUILD_gn 
	                     patch-ui_app_list_app_list_menu_cc 
	                     patch-ui_app_list_views_app_list_view_cc 

Log message:
update to 57.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/18 23:20:28

Removed files:
	www/iridium    : 
	                 patch-chrome_browser_resources_plugin_metadata_plugins_linux_json 

Log message:
remove bogous file


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/18 23:27:00

Modified files:
	sbin/disklabel : Makefile editor.c 

Log message:
enlarge obj to satisfy new world order that has *big* compilers and
remove condition for static linking; ok tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/04/18 23:33:53

Modified files:
	sbin/disklabel : disklabel.8 

Log message:
Bump numbers for /usr/obj allocation with *big* compilers.

ok otto


CVSROOT:	/cvs
Module name:	src
Changes by:	natano@cvs.openbsd.org	2017/04/18 23:36:13

Modified files:
	lib/libpcap    : pcap-bpf.c 
	sbin/dhclient  : bpf.c 
	usr.sbin/arp   : arp.c 
	usr.sbin/dhcpd : bpf.c 
	usr.sbin/dhcrelay: bpf.c 
	usr.sbin/dhcrelay6: bpf.c 
	usr.sbin/hostapd: hostapd.c 
	usr.sbin/mopd/common: pf.c 
	usr.sbin/npppd/npppd: privsep.c 
	usr.sbin/npppd/pppoe: pppoed.c 
	usr.sbin/rarpd : rarpd.c 
	usr.sbin/rbootd: bpf.c rbootd.8 
	usr.sbin/tcpdump: privsep_pcap.c tcpdump.8 

Log message:
Switch base tools from /dev/bpf0 to /dev/bpf. Now that /dev/bpf has been
around for two releases, it should be safe to do so.

ok bluhm deraadt sthen tb yasuoka


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/18 23:58:48

Modified files:
	japanese       : Makefile 
Removed files:
	japanese/jvim  : Makefile distinfo 
	japanese/jvim/patches: patch-src_jgrep_c patch-src_jp_c 
	                       patch-src_makefile_junx patch-src_vim_h 
	japanese/jvim/pkg: DESCR PLIST 

Log message:
Remove japanese/jvim.

ok yasuoka@ naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/19 00:01:36

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register jvim removal.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/19 00:02:19

Modified files:
	faq            : current.html 

Log message:
clang enabled on amd64 and i386. upgrade using a snapshot. if you build
your own releases, bump /usr/obj to 3G, otherwise 'make release' will fail.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 00:09:02

Modified files:
	devel/libusb1  : Makefile distinfo 
	devel/libusb1/patches: patch-libusb_core_c 

Log message:
Update to libusb1-1.0.21.

ok mpi@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 00:16:08

Modified files:
	x11/gnome/gvfs : Makefile 

Log message:
Fix comment.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/19 00:52:27

Modified files:
	usr.bin/tmux   : format.c server-client.c tmux.1 tmux.h tty.c 

Log message:
When the data we have buffered to write to a terminal grows beyond a
reasonable amount (currently width * height * 8 bytes), discard all
output to the terminal and start trying to redraw periodically
instead. Continue with this until the amount of data we are trying to
write falls to a low level again.

This helps to prevent tmux sitting on a huge buffer of data when there
are processes with fast output running inside tmux but the outside
terminal is slow.

A new client_discarded format holds the amount of data that has been
discarded due to this mechanism.

The three variables (when to start this, when to stop, and how often to
redraw) are basically "works for me" at the moment, this is going in to
see how it goes and if it causes problems for anyone else.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/19 01:29:55

Modified files:
	net/telepathy/folks: Makefile 

Log message:
add link to upstream bz


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/19 01:35:45

Modified files:
	math/ecm       : Makefile 

Log message:
Patch to make it build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 01:41:00

Modified files:
	lang/python    : python.port.mk 

Log message:
Only add ac_cv_prog_PYTHON and ac_cv_path_PYTHON to CONFIGURE_ENV when
CONFIGURE_STYLE is gnu (or autoconf). It makes no sense for other styles.

survived a bulk


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 01:41:28

Modified files:
	x11/gnome      : gnome.port.mk 

Log message:
Add support for cmake.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 01:42:41

Modified files:
	databases/evolution-data-server: Makefile 
	databases/evolution-data-server/patches: patch-CMakeLists_txt 
	mail/evolution : Makefile 
	mail/evolution-ews: Makefile 

Log message:
Simplify now that the gnome MODULE has support for cmake.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 02:19:02

Modified files:
	mail/mutt      : Makefile distinfo 

Log message:
update to mutt-1.8.2


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/19 02:29:27

Modified files:
	build          : mirrors.dat 

Log message:
spaces->tabs


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/19 02:31:16

Modified files:
	editors/ht     : Makefile 
Added files:
	editors/ht/patches: patch-elfstruc_h patch-htelfphs_cc 

Log message:
Add OpenBSD elf program header types from Benjamin Baier, thanks


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/19 03:13:28

Modified files:
	editors/ht     : Makefile 
Added files:
	editors/ht/patches: patch-htapp_cc 

Log message:
Patch to make it build with clang, from FreeBSD.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/19 03:32:46

Modified files:
	usr.bin/make   : make.1 

Log message:
spelling fixes from michael w. bombardieri


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/19 03:55:32

Modified files:
	faq            : upgrade61.html 

Log message:
Mention that tomcat now enforces umask 027 and show how to change it
if necessary. ok dcoppa, ok/whitespace change tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 04:20:12

Modified files:
	lang/erlang/19/patches: patch-erts_emulator_Makefile_in 

Log message:
regen


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/19 04:48:57

Modified files:
	usr.sbin/relayd: relayd.conf.5 

Log message:
better example; from hiltjo posthuma
ok sthen


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/19 04:56:38

Modified files:
	build          : mirrors.dat 

Log message:
Update ftp URL for Bytemark; /pub/OpenBSD does work. Add https.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/19 04:57:24

Modified files:
	.              : ftp.html httpslist 
	openbgpd       : ftp.html 
	openssh        : ftp.html portable.html 
	openntpd       : portable.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 05:16:03

Modified files:
	audio/calf     : Makefile 
	audio/lmms     : Makefile 
	devel/boost    : Makefile 
	devel/mysql++  : Makefile 
	emulators/dosbox: Makefile 
	games/freedroidrpg: Makefile 
	games/rocksndiamonds: Makefile 
	graphics/aqsis : Makefile 
	graphics/enblend-enfuse: Makefile 
	graphics/opencv: Makefile 
	net/transmission: Makefile 
	security/botan : Makefile 
	www/arora      : Makefile 
	x11/qt4        : Makefile 
	x11/qt5        : Makefile.inc 

Log message:
Add ${CLANG_ARCHS} to "ONLY_FOR_ARCHS = ${GCC4_ARCHS}" lines to give them
a chance on aarch64.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 05:52:46

Modified files:
	sysutils/firmware/vmm: Makefile 

Log message:
Sanity check the version string embedded in the seabios build to make sure
it matches what we expect, otherwise fail the port build.

They do some checks on toolchain and if things don't show up as expected
it uses a string with an embedded date+hostname. The port was already
taking care to avoid this, so this is a currently-noop diff just to make
sure it stays that way.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/19 06:02:57

Modified files:
	devel/py-greenlet: Makefile 
	devel/py-greenlet/pkg: PLIST 

Log message:
devel/py-greenlet: Add python3 FLAVOR.

OK sthen@, thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/19 06:03:47

Modified files:
	devel          : Makefile 

Log message:
Link python3 FLAVOR of py-greenlet.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 06:09:22

ports/x11/gnustep/databasin/patches

Update of /cvs/ports/x11/gnustep/databasin/patches
In directory cvs.openbsd.org:/tmp/cvs-serv39493/patches

Log Message:
Directory /cvs/ports/x11/gnustep/databasin/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 06:10:30

ports/x11/gnustep/dbuskit/patches

Update of /cvs/ports/x11/gnustep/dbuskit/patches
In directory cvs.openbsd.org:/tmp/cvs-serv68759/patches

Log Message:
Directory /cvs/ports/x11/gnustep/dbuskit/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 06:23:20

Log message:
    import sysutils/pick, from maintainer Anton Lindqvist, ok tb@
    
    The pick utility allows users to select from a set of choices using an interface
    with fuzzy search functionality. The choices are read from stdin, and the
    selected choice written to stdout.
    
    Status:
    
    Vendor Tag:	sthen
    Release Tags:	sthen_20170419
    
    N ports/sysutils/pick/Makefile
    N ports/sysutils/pick/distinfo
    N ports/sysutils/pick/pkg/PLIST
    N ports/sysutils/pick/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 06:23:46

Modified files:
	sysutils       : Makefile 

Log message:
+pick


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 06:29:12

Modified files:
	net/libnet/1.1 : Makefile 
Added files:
	net/libnet/1.1/patches: patch-include_libnet_libnet-functions_h 

Log message:
Stop declaring libnet_getgre_length as inline; fixes build with clang

libnet_getgre_length is a public symbol declared in a public header (and
defined in a .c file), it makes no sense to declare it as inline.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/19 06:44:05

Modified files:
	regress/sys/net/pf_table: Makefile 

Log message:
Make the test pass when an obj directory exists.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/19 06:44:29

Modified files:
	usr.bin/tmux   : cmd-command-prompt.c grid.c tmux.c 

Log message:
Style nits and a missing cast.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/19 07:10:16

Modified files:
	devel/py-texscythe: Makefile distinfo 
	devel/py-texscythe/pkg: PLIST 

Log message:
Update devel/py-texsycthe to 0.3 in preparation for TeX Live 2016.

OK sthen@, thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/19 07:13:18

Modified files:
	print/texlive/texmf/files: mk_plists.py 

Log message:
Ensure '$OpenBSD$' is not expanded in mk_plists.py.

OK sthen@, thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 07:21:23

Added files:
	x11/kde/libs3/patches: patch-kate_part_katebuffer_cpp 

Log message:
foldingList is made of uint, taking abs is non-sensical


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 07:21:49

Modified files:
	x11/kde/libs3/patches: patch-kioslave_ftp_ftp_cc 

Log message:
const-correct strstr/strchr for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 07:23:24

Modified files:
	x11/kde/libs3  : Makefile 
	x11/kde/libs3/pkg: PLIST-main 

Log message:
clang is rightfully annoyed at exr having throw() in its API and
qt/kde being compiled -fno-exceptions.

this can't really work at runtime anyway. Remove openexr there.
Eventually, exceptions might be better behaved and working these
days.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 07:36:12

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.40.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 07:36:28

Modified files:
	sysutils/awscli: Makefile distinfo 
	sysutils/awscli/pkg: PLIST 

Log message:
Update to awscli-1.11.77.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 07:40:16

Modified files:
	mail/elm       : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 07:41:19

Modified files:
	sysutils/salt  : Makefile distinfo 
	sysutils/salt/pkg: PLIST 

Log message:
Update to salt-2016.11.4.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/19 08:00:28

Modified files:
	usr.bin/tmux   : cmd-detach-client.c server-client.c tmux.h 

Log message:
Add a suspend helper function, and do not allow detaching or suspending
while already doing so.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 08:26:24

Modified files:
	www/puppetboard: Makefile distinfo 
	www/puppetboard/pkg: PLIST 
Added files:
	www/puppetboard/patches: patch-puppetboard_app_py 

Log message:
Update to 0.2.2, and add a patch to cope with the recent py-werkzeug update
to 0.12.x


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/19 09:02:47

Modified files:
	faq            : current.html 

Log message:
add instructions for bootstrapping clang.

from/requested by henning


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 09:03:35

Added files:
	mail/abook/patches: patch-database_c patch-database_h 

Log message:
Fix build with clang

field_id() is declared/defined with "inline", but needs to access
a variable that is only visible in database.c, the easiest fix is just
to drop "inline".


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 09:04:55

Modified files:
	mail/abook     : Makefile 

Log message:
Missed bump in previous


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 09:08:11

Modified files:
	databases/gnats: Makefile 
	databases/gnats/patches: patch-libiberty_functions_def 

Log message:
Fix build with clang

Make strerror decl match string.h


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 09:13:12

Modified files:
	infrastructure/lib/DPB: PortBuilder.pm 

Log message:
cosmetic change: report the hostname again in case of failure.
I routinely read thru logs looking for the error, and forget about which
machine it was. Having it conveniently located at the end instead of the
start saves me a few seconds.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 09:14:45

Modified files:
	infrastructure/lib/DPB: Engine.pm 

Log message:
white line at end of summary isn't very visible.
if we restart the build for whatever reason, stuff gets appended as
usual, but the difference between old summary and new summary should
be more visible.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/19 09:20:55

Modified files:
	share/termtypes: termtypes.master 

Log message:
Update to terminfo.src 2017-04-01.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 09:21:28

Modified files:
	converters/ripmime: Makefile 

Log message:
-Werror considered harmful, again


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/19 09:21:54

Modified files:
	sys/net        : if_loop.c route.c rtsock.c 
	sys/netinet    : ip_icmp.c ip_input.c ip_output.c tcp_input.c 
	                 tcp_subr.c tcp_timer.c 
	sys/netinet6   : icmp6.c ip6_output.c 

Log message:
Use the rt_rmx defines that hide the struct rt_kmetrics indirection.
No binary change.
OK mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 09:26:59

Modified files:
	audio/xcdplayer/patches: patch-internals_c 

Log message:
have cdrom_get_curtime return something, always.
fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 09:30:45

Modified files:
	converters/ripmime: Makefile 

Log message:
honour CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 09:34:15

Modified files:
	devel/pccts    : Makefile 

Log message:
varargs is dead, but sorcerer has stdarg support built in, just pass the
magical config switch to have modern code.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/19 09:38:32

Modified files:
	usr.sbin/vmd   : Makefile parse.y priv.c virtio.c virtio.h vm.c 
	                 vm.conf.5 vmd.c vmd.h 
	usr.sbin/vmctl : main.c vmctl.8 vmctl.c 
Added files:
	usr.sbin/vmd   : dhcp.c dhcp.h packet.c 

Log message:
Add support for dynamic "NAT" interfaces (-L/local interface).

When a local interface is configured, vmd configures a /31 address on
the tap(4) interface of the host and provides another IP in the same
subnet via DHCP (BOOTP) to the VM.  vmd runs an internal BOOTP server
that replies with IP, gateway, and DNS addresses to the VM.  The
built-in server only ever responds to the VM on the inside and cannot
leak its DHCP responses to the outside.

Thanks to Uwe Werler, Josh Grosse, and some others for testing!

OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 09:40:25

Modified files:
	audio/libofa   : Makefile 
Added files:
	audio/libofa/patches: patch-examples_uselame_cpp 
	                      patch-examples_wavefile_cpp 
	                      patch-lib_signal_op_cpp 

Log message:
Fix clang build: add missing includes


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 09:41:56

Added files:
	games/xasteroids/patches: patch-xast_c 

Log message:
declare void function as void.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/19 09:44:45

Modified files:
	sys/netinet6   : icmp6.c raw_ip6.c 

Log message:
icmp6_rip6_input() was mostly duplicated code from rip6_input().
Merge these functions together and remove icmp6_rip6_input().
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/19 09:59:39

Modified files:
	sbin/ipsecctl  : ipsecctl.c ipsecctl.h parse.y pfkdump.c pfkey.c 

Log message:
Rename all SA groups to bundles consistently.  The first kernel
commit in 2000 that introduced the features already called them SA
bundles.  The word group is taken by Diffie-Hellman, reusing it
causes confusion.
OK hshoexer@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/19 10:06:38

Modified files:
	regress/sbin/ipsecctl: sa25.ok sa26.ok sa27.ok 

Log message:
SA group has been renamed to bundle.  Adapt test.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 10:23:39

Modified files:
	audio/pms      : Makefile 
Added files:
	audio/pms/patches: patch-src_message_cpp 

Log message:
Missing include for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 10:49:49

Added files:
	mail/libspf2/patches: patch-src_libspf2_spf_compile_c 
	                      patch-src_libspf2_spf_dns_c 
	                      patch-src_libspf2_spf_dns_zone_c 
	                      patch-src_libspf2_spf_id2str_c 

Log message:
clang fixes for variadic macros

With C99 variadic macros, __VA_ARGS__ has to replace at least one
argument.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 10:56:04

Modified files:
	mail/libspf2   : Makefile 
	mail/libspf2/patches: patch-src_libspf2_spf_compile_c 

Log message:
Fix format string for size_t parameter.

Like other size_t variables in this file.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/19 10:59:54

Modified files:
	usr.bin/tmux   : cmd-source-file.c 

Log message:
load_cfg returns < 0 on error, not != 0. Problem reported by Kaushal Modi.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 11:00:29

Modified files:
	mail/relaydb   : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 11:01:50

ports/mail/relaydb/patches

Update of /cvs/ports/mail/relaydb/patches
In directory cvs.openbsd.org:/tmp/cvs-serv93348/patches

Log Message:
Directory /cvs/ports/mail/relaydb/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 11:02:48

Added files:
	mail/relaydb/patches: patch-Makefile 

Log message:
Werror considered harmful; fixes build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/19 11:26:13

Modified files:
	sys/ufs/ufs    : ufs_vnops.c 

Log message:
Add size to free()

ok deraadt@ visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	dhill@cvs.openbsd.org	2017/04/19 11:26:45

Modified files:
	sys/ufs/ufs    : ufs_dirhash.c 

Log message:
Add sizes to free()

ok deraadt@ visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 11:51:30

Modified files:
	mail/prepop    : Makefile 
	mail/prepop/patches: patch-main_cc 
Added files:
	mail/prepop/patches: patch-base64_cc patch-display_cc 

Log message:
Fix clang build: move from iostream.h to iostream


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 12:06:54

Modified files:
	mail/prepop    : Makefile 
Added files:
	mail/prepop/patches: patch-header_cc 

Log message:
Avoid UB spotted by clang

warning: unsequenced modification and access to 'end' [-Wunsequenced]


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 12:14:56

Modified files:
	mail/prepop    : Makefile 
	mail/prepop/patches: patch-main_cc 

Log message:
Don't segfault on ^D


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/19 12:26:52

Modified files:
	databases/evolution-data-server/patches: patch-CMakeLists_txt 

Log message:
Pushed upstream.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 14:36:41

Modified files:
	sysutils/conky/patches: patch-src_openbsd_c 

Log message:
regen patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/19 14:37:42

Modified files:
	sysutils/conky/patches: patch-src_openbsd_c 

Log message:
Make "inline void proc_find_top" static to fix building with clang.
From Benjamin Baier.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:10:10

Modified files:
	x11/gnustep/libobjc2: Makefile distinfo 

Log message:
Bugfix update to 1.8.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:13:25

Modified files:
	x11/gnustep/make: Makefile distinfo 
	x11/gnustep/make/patches: patch-GNUmakefile_in 
	                          patch-Instance_framework_make 
	                          patch-Instance_library_make 
	                          patch-common_make patch-target_make 
	x11/gnustep/make/pkg: PLIST 
Removed files:
	x11/gnustep/make/patches: patch-Master_rules_make 

Log message:
Update to 2.7.0, removing support of some since quite some time
deprecated variables, as well as some bug fixes


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:16:43

Modified files:
	x11/gnustep/base: Makefile distinfo 
	x11/gnustep/base/pkg: PLIST 

Log message:
update to 1.25.0

noteworthy changes:
* Garbage collection support removed (NSGarbageCollector stub
remains)
* Support for Debian style multi-architecture installations added
* OpenSSL bundle removed since it didn't match GNUTLS support
* Ported to Debian/Hurd
* ICU string (regexp in particular) fixes
* OSX compatibity changes in NSRunLoop and NSTask behavior
* Alternative sort algorithms selectable at runtime
* Many bugfixes and cleanups.
* As usual, this release also contains an update to include the most
recent international timezone data.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:17:53

Modified files:
	x11/gnustep/databasin: Makefile 
Added files:
	x11/gnustep/databasin/patches: patch-GNUmakefile_preamble 

Log message:
Deal with the gnustep-make update, problem reported to upstream maintainer


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:18:48

Modified files:
	x11/gnustep/dbuskit: Makefile 
	x11/gnustep/dbuskit/pkg: PLIST 
Added files:
	x11/gnustep/dbuskit/patches: patch-Source_DKNotificationCenter_m 

Log message:
Deal with gnustep-base update, problem reported to upstream maintainer


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:21:31

Modified files:
	x11/gnustep/back: Makefile 
Added files:
	x11/gnustep/back/patches: patch-Source_gsc_GSGState_m 
	                          patch-Source_x11_XGDragView_m 
	                          patch-Source_x11_XGServerWindow_m 
	                          patch-Source_x11_XWindowBuffer_m 

Log message:
backport a bunch of fixes to build warnings I reported


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/19 15:23:20

Modified files:
	x11/gnustep/gui: Makefile 
	x11/gnustep/gui/patches: patch-Printing_GSCUPS_GSCUPSPrinter_m 
Added files:
	x11/gnustep/gui/patches: patch-Model_IMLoading_m 
	                         patch-Source_GSTextStorage_m 
	                         patch-Source_GSToolbarView_m 
	                         patch-Source_NSLayoutManager_m 
	                         patch-Source_NSTableView_m 

Log message:
backport a bunch of build warnings fixes I reported upstream


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 16:00:02

Modified files:
	editors/axe/patches: patch-Help_Hyper_c 

Log message:
trivial clang fix, help non void function return a bool.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 16:02:45

Added files:
	games/xmj/patches: patch-event_c 

Log message:
void function is void


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 16:08:15

Added files:
	games/xscavenger/patches: patch-src_scav_c 

Log message:
have main return 1 in case of errors


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 16:11:47

ports/archivers/xdms/patches

Update of /cvs/ports/archivers/xdms/patches
In directory cvs.openbsd.org:/tmp/cvs-serv50916/patches

Log Message:
Directory /cvs/ports/archivers/xdms/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 16:12:19

Added files:
	archivers/xdms/patches: patch-src_u_deep_c patch-src_u_heavy_c 

Log message:
C99 inline semantics


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 16:20:27

Added files:
	security/smurflog/patches: patch-hash_c patch-smurflog_c 

Log message:
yet C99 inline semantics. plus wacky bugfix, inline signal handler, wtf ?


CVSROOT:	/cvs
Module name:	www
Changes by:	dtucker@cvs.openbsd.org	2017/04/19 16:34:35

Modified files:
	openssh        : specs.html 

Log message:
Note that SSH1 server support was removed in 7.4.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/19 16:37:52

Modified files:
	distrib/sets/lists/base: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/19 16:48:51

Modified files:
	devel/mercurial: Tag: OPENBSD_6_1 Makefile 
Added files:
	devel/mercurial/patches: Tag: OPENBSD_6_1 patch-contrib_hg-ssh 
	                         patch-mercurial_dispatch_py 
	                         patch-tests_test-ssh_t 

Log message:
SECURITY: "hg serve --stdio could be tricked into granting authorized
users access to the Python debugger"

"dispatch: protect against malicious 'hg serve --stdio' invocations
(sec)

Some shared-ssh installations assume that 'hg serve --stdio' is a safe
command to run for minimally trusted users. Unfortunately, the messy
implementation of argument parsing here meant that trying to access a
repo named '--debugger' would give the user a pdb prompt, thereby
sidestepping any hoped-for sandboxing. Serving repositories over
HTTP(S) is unaffected.

We're not currently hardening any subcommands other than 'serve'. If
your service exposes other commands to users with arbitrary repository
names, it is imperative that you defend against repository names of
'--debugger' and anything starting with '--config'.

The read-only mode of hg-ssh stopped working because it provided its
hook configuration to "hg serve --stdio" via --config parameter. This
is banned for security reasons now. This patch switches it to directly
call ui.setconfig(). If your custom hosting infrastructure relies on
passing --config to "hg serve --stdio", you'll need to find a
different way to get that configuration into Mercurial, either by
using ui.setconfig() as hg-ssh does in this patch, or by placing an
hgrc file someplace where Mercurial will read it."

Changes backported from 4.1.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/19 16:54:32

Modified files:
	devel/mercurial: Makefile distinfo 

Log message:
Update to mercurial 4.1.3.

SECURITY: "hg serve --stdio could be tricked into granting authorized
users access to the Python debugger"

"dispatch: protect against malicious 'hg serve --stdio' invocations
(sec) Some shared-ssh installations assume that 'hg serve --stdio' is
a safe command to run for minimally trusted users. Unfortunately, the
messy implementation of argument parsing here meant that trying to
access a repo named '--debugger' would give the user a pdb prompt,
thereby sidestepping any hoped-for sandboxing. Serving repositories
over HTTP(S) is unaffected.

We're not currently hardening any subcommands other than 'serve'. If
your service exposes other commands to users with arbitrary repository
names, it is imperative that you defend against repository names of
'--debugger' and anything starting with '--config'.

The read-only mode of hg-ssh stopped working because it provided its
hook configuration to "hg serve --stdio" via --config parameter. This
is banned for security reasons now. This patch switches it to directly
call ui.setconfig(). If your custom hosting infrastructure relies on
passing --config to "hg serve --stdio", you'll need to find a
different way to get that configuration into Mercurial, either by
using ui.setconfig() as hg-ssh does in this patch, or by placing an
hgrc file someplace where Mercurial will read it. mitrandir@fb.com
provided some extra fixes for the dispatch code and for hg-ssh in
places that I overlooked."


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/19 16:58:27

Modified files:
	devel/tortoisehg: Makefile distinfo 

Log message:
Update to tortoisehg 4.1.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/19 17:06:18

Modified files:
	devel/tortoisehg: Makefile 
	devel/mercurial: Makefile 

Log message:
Spaces/tabs.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 17:07:53

Modified files:
	games/xjig     : Makefile 
	games/xjig/patches: patch-Makefile_Linux 

Log message:
remove compilation options that make no sense


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 17:25:06

Modified files:
	net/ushare     : Makefile 
	net/ushare/patches: patch-src_ushare_c 
Added files:
	net/ushare/patches: patch-src_trace_c patch-src_trace_h 
	                    patch-src_ushare_h 

Log message:
Fix build with clang: two functions that were needlessly "inline"


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 17:26:34

Added files:
	games/xjig/patches: patch-gif_image_C 

Log message:
make strrchr call modern C++ compliant. Use an intermediate const variable,
as the end result is correctly duplicated to be modifiable.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 17:33:40

Modified files:
	benchmarks/netperf: Makefile 
Added files:
	benchmarks/netperf/patches: patch-src_netlib_c 

Log message:
Correctly print time_t.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 17:44:13

Modified files:
	benchmarks/netperf: Makefile 
	benchmarks/netperf/patches: patch-src_netlib_c 

Log message:
Unbreak with clang: two functions that shouldn't be inline

The comments around said functions suggest a case of mild confusion...


CVSROOT:	/cvs
Module name:	www
Changes by:	dtucker@cvs.openbsd.org	2017/04/19 17:53:13

Modified files:
	openssh        : specs.html 

Log message:
Link to errata for RFC4345


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 17:53:42

Added files:
	net/gloox/patches: patch-src_mucroom_cpp 
	                   patch-src_pubsubmanager_cpp 

Log message:
libc++ doesn't make C symbols visible, so explicitly ask for stdlib's atoi


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 18:02:06

Modified files:
	mail/archiveopteryx/patches: patch-Jamsettings 

Log message:
regen patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 18:16:06

Modified files:
	mail/archiveopteryx/patches: patch-Jamsettings 

Log message:
-Werror considered harmful; fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/19 18:43:18

ports/net/librsync/patches

Update of /cvs/ports/net/librsync/patches
In directory cvs.openbsd.org:/tmp/cvs-serv83699/patches

Log Message:
Directory /cvs/ports/net/librsync/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 19:40:33

Added files:
	graphics/djvulibre/patches: patch-libdjvu_DjVuPalette_cpp 

Log message:
libcxx properly defines overriden fmin() in math.h.
Unfortunately, that one has exception specifications, so redefining it
does not go so well.
Simply rename it so that the conflict never happens.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 19:42:44

Modified files:
	x11/irrlicht   : Makefile 

Log message:
${LIBCXX}>=51 does not work so well :)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/19 19:48:01

Added files:
	games/warmux/patches: patch-tools_list_games_main_cpp 

Log message:
can't use getopt without unistd in C++, don't know how gcc allowed it.
(there's still a linker error later on)


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/04/19 21:04:11

Modified files:
	usr.bin/make   : main.c 

Log message:
use strtonum instead of strtoll to parse the argument to -j

ok deraadt@ benno@


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/19 21:27:17

Modified files:
	mail/offlineimap: Makefile distinfo 
	mail/offlineimap/patches: patch-offlineimap_conf 

Log message:
Update to offlineimap-7.1.0, from Remi Locherer (maintainer)

From the announcement mail:

----
The most important change is the removal of the status_backend configuration
option and that's why we're moving to v7.1.0.

There are other small bug fixes and improvements. However, the codebase didn't
change much since v7.0.14
----


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/19 22:27:58

Modified files:
	www/netsurf    : Makefile.inc 
	www/netsurf/browser: Makefile 
	www/netsurf/netsurf-fb: Makefile 

Log message:
Respect CC in all NetSurf libraries, not just the browsers.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 00:03:11

Modified files:
	graphics/maim  : Makefile 

Log message:
Missing BDEP on graphics/glm.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/20 00:12:58

Modified files:
	www/firefox-esr: Makefile distinfo 
	www/firefox-esr/pkg: PLIST 
	www/firefox-esr-i18n: Makefile.inc distinfo 
	www/firefox-i18n: Makefile.inc distinfo 
	www/mozilla-firefox: Makefile distinfo 
	www/mozilla-firefox/patches: 
	                             patch-js_src_jit_ProcessExecutableMemory_cpp 
	                             patch-security_manager_pki_resources_content_exceptionDialog_js 
	                             patch-storage_mozStorageConnection_cpp 
	www/mozilla-firefox/pkg: PLIST README 
Removed files:
	www/firefox-esr/patches: 
	                         patch-browser_installer_allowed-dupes_mn 
	www/mozilla-firefox/patches: patch-browser_installer_Makefile_in 

Log message:
Update to firefox 53.0.

See https://www.mozilla.org/en-US/firefox/53.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2017-10/.

- Now depends on rust and cargo to build.
- Remove patch-browser_installer_Makefile_in, sdk was removed in #1333826
- Ship a small distribution.ini to show package source in about dialog
- Add a blurb from Michael Reed about installing ffmpeg package to play
HTML5 audio/video.

Tested by several


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/20 00:17:02

Modified files:
	www/firefox-esr: Makefile 

Log message:
I screwed up in previous commit (commited to both ports..), so remove
REVISION churn, and here's the intended commit msg for firefox-esr:

Update to firefox-esr 52.1.0.

See https://www.mozilla.org/en-US/firefox/52.1.0/releasenotes/ and
https://www.mozilla.org/en-US/security/advisories/mfsa2017-12/
- Ship a small distribution.ini to show package source in about dialog
- Remove patch-browser_installer_allowed-dupes_mn, was fixed by #1315309


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/20 00:19:08

Modified files:
	mail/mozilla-thunderbird: Makefile distinfo 
	mail/mozilla-thunderbird/pkg: PLIST-main 
	mail/thunderbird-i18n: Makefile.inc distinfo 

Log message:
Update to thunderbird 52.0.1/lightning 5.4.1

See https://www.mozilla.org/en-US/thunderbird/52.0.1/releasenotes/


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/20 00:27:49

Modified files:
	security/pdfcrack: Makefile distinfo 

Log message:
Update to pdfcrack-0.16.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 01:29:56

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.41.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 01:30:12

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.78.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 01:42:34

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-152.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 02:44:26

Modified files:
	x11/mono-gtk2  : Makefile distinfo 

Log message:
Update to mono-gtk2-2.12.43


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 03:20:22

Modified files:
	usr.bin/tmux   : cmd-if-shell.c cmd-run-shell.c 
	                 cmd-show-messages.c format.c job.c server.c 
	                 tmux.1 tmux.h window-copy.c 

Log message:
If a #() command doesn't exit, use its most recent line of output (it
must be a full line). Don't let it redraw the status line more than once
a second.

Requested by someone about 10 years ago...


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/20 03:25:06

Modified files:
	security/rarcrack: Makefile 
Added files:
	security/rarcrack/patches: patch-rarcrack_c 

Log message:
Patch to make it build with clang, function that shouldn't be inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/20 03:29:49

Modified files:
	emulators/sdlmame: Makefile 
	emulators/sdlmess: Makefile 

Log message:
Fix broken MASTER_SITES for emulators/sdlmame and emulators/sdlmess.

OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/20 03:39:02

Modified files:
	x11/kde/libs3/pkg: PLIST-main 

Log message:
oops, missed removing one file


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 03:39:07

Modified files:
	usr.bin/tmux   : format.c tmux.h window.c 

Log message:
There is no real need for window_printable_flags to allocate, make it
return a buffer from the stack.


CVSROOT:	/cvs
Module name:	www
Changes by:	dtucker@cvs.openbsd.org	2017/04/20 03:42:43

Modified files:
	openssh        : specs.html 

Log message:
The IUTF8 terminal mode is now RFC8160


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 03:43:45

Modified files:
	usr.bin/tmux   : format.c tmux.h window.c 

Log message:
Now that struct winlink has a session pointer, can remove some arguments.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/20 04:03:40

Modified files:
	sys/arch/sparc64/include: cpu.h tcb.h 

Log message:
Use register names without the % prefix in the global register variable
declarations since clang doesn't register the %-prefixed ones.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/20 04:32:23

Modified files:
	gnu/usr.bin/clang/include/clang/intrin: Makefile 

Log message:
Install clflushoptintrin.h and move pkuintrin.h such that the list is
properly sorted.

pointed out by espie@


CVSROOT:	/cvs
Module name:	www
Changes by:	naddy@cvs.openbsd.org	2017/04/20 04:32:29

Modified files:
	faq            : current.html 

Log message:
remove unneeded "compile libcxx" step from clang bootstrap instructions


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 05:20:20

Modified files:
	www/owncloud   : Makefile distinfo 
	www/owncloud/patches: patch-version_php 
	www/owncloud/pkg: PLIST 

Log message:
Update to owncloud-9.1.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 05:21:46

Modified files:
	www/owncloud   : Tag: OPENBSD_6_1 Makefile distinfo 
	www/owncloud/patches: Tag: OPENBSD_6_1 patch-version_php 
	www/owncloud/pkg: Tag: OPENBSD_6_1 PLIST 

Log message:
MFC:
Update to owncloud-9.1.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/20 05:23:48

Removed files:
	games/supertux/patches: patch-src_supertux_main_cpp 

Log message:
Remove now unused patch.  Blame cvs.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 06:41:43

Modified files:
	sys/arch/amd64/amd64: db_trace.c 
	sys/arch/i386/i386: db_trace.c 
	sys/ddb        : db_access.h db_output.c 

Log message:
Add routines for saving stack traces and printing saved traces
on amd64 and i386.

With guenther@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 06:59:36

Modified files:
	sys/conf       : files 
	sys/ddb        : db_command.c 
	sys/kern       : init_main.c kern_exit.c kern_fork.c kern_sig.c 
	sys/sys        : proc.h 
Added files:
	sys/kern       : subr_witness.c 
	sys/sys        : _lock.h witness.h 

Log message:
Add a port of witness(4) lock validation tool from FreeBSD.

Go-ahead from kettenis@, guenther@, deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 07:20:17

Modified files:
	sys/arch/amd64/amd64: lock_machdep.c 
	sys/arch/amd64/include: mplock.h 
	sys/arch/i386/i386: lock_machdep.c 
	sys/arch/i386/include: mplock.h 
	sys/kern       : kern_lock.c 
	sys/sys        : systm.h 

Log message:
Hook up mplock to witness(4) on amd64 and i386.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 07:33:00

Modified files:
	sys/kern       : kern_rwlock.c kern_synch.c 
	sys/sys        : rwlock.h 

Log message:
Hook up rwlock(9) to witness(4).

Loosely based on a diff from Christian Ludwig


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/20 07:48:29

Log message:
    Import emulators/ucon64.
    
    uCON64 is the emulator Swiss Army knife program.
    
    It supports almost every video game system (Consoles, Handheld, Arcade),
    as well as all common patch file formats like IPS (with RLE compression),
    APS, BSL (Baseline Patch format), PPF (Playstation Patch File), and Game
    Genie.
    
    OK pirofti@
    
    Status:
    
    Vendor Tag:	fcambus
    Release Tags:	fcambus_20170420
    
    N ports/emulators/ucon64/Makefile
    N ports/emulators/ucon64/distinfo
    N ports/emulators/ucon64/pkg/PLIST
    N ports/emulators/ucon64/pkg/DESCR
    N ports/emulators/ucon64/patches/patch-src_Makefile
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/20 07:49:12

Modified files:
	emulators      : Makefile 

Log message:
Add ucon64.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 07:57:30

Modified files:
	sys/arch/alpha/alpha: mutex.c 
	sys/arch/alpha/include: mutex.h 
	sys/arch/amd64/amd64: mutex.S 
	sys/arch/amd64/include: mutex.h 
	sys/arch/arm/armv7: armv7_mutex.c 
	sys/arch/arm/include: mutex.h 
	sys/arch/arm64/include: mutex.h 
	sys/arch/hppa/hppa: mutex.c 
	sys/arch/hppa/include: mutex.h 
	sys/arch/i386/i386: mutex.S 
	sys/arch/i386/include: mutex.h 
	sys/arch/m88k/include: mutex.h 
	sys/arch/m88k/m88k: mutex.S 
	sys/arch/mips64/include: mutex.h 
	sys/arch/mips64/mips64: mutex.c 
	sys/arch/powerpc/include: mutex.h 
	sys/arch/powerpc/powerpc: mutex.c 
	sys/arch/sh/include: mutex.h 
	sys/arch/sh/sh : mutex.c 
	sys/arch/sparc64/include: mutex.h 
	sys/arch/sparc64/sparc64: mutex.S 
	sys/conf       : files 
	sys/kern       : kern_synch.c 
	sys/sys        : mutex.h 
Added files:
	sys/kern       : kern_mutex.c 

Log message:
Hook up mutex(9) to witness(4).


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 08:13:01

Modified files:
	sys/arch/amd64/amd64: db_interface.c 
	sys/arch/i386/i386: db_mp.c mem.c 
	sys/dev/pci/drm: drm_crtc.c 
	sys/isofs/cd9660: cd9660_vfsops.c 
	sys/isofs/udf  : udf_vfsops.c 
	sys/kern       : subr_disk.c subr_pool.c subr_prf.c vfs_subr.c 
	sys/miscfs/fuse: fuse_vfsops.c 
	sys/msdosfs    : msdosfs_denode.c 
	sys/net        : bpf.c 
	sys/tmpfs      : tmpfs_subr.c 
	sys/ufs/ext2fs : ext2fs_vfsops.c 
	sys/ufs/ffs    : ffs_vfsops.c 
	sys/uvm        : uvm_map.c 

Log message:
Tweak lock inits to make the system runnable with witness(4)
on amd64 and i386.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 08:23:53

Modified files:
	sys/conf       : GENERIC 

Log message:
Add option to compile witness(4).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 08:26:08

Modified files:
	devel/libsoup  : Makefile distinfo 
	devel/libsoup/pkg: PLIST 

Log message:
Update to libsoup-2.58.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/20 08:43:59

Modified files:
	sys/dev/pci    : pcidevs 

Log message:
Remove an incorrect Bay Trail I2C entry that masked a valid Bay Trail
PCIE entry as it used the same product id.

Add another PLX/Avago/"Broadcom" PCIE bridge seen in the wild while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/20 08:44:51

Modified files:
	sys/dev/pci    : pcidevs.h pcidevs_data.h 

Log message:
regen


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 09:06:47

Modified files:
	sys/kern       : kern_lock.c 

Log message:
Drop unnecessary headers. This fixes kernel build on platforms
without <machine/mplock.h>.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 09:09:05

Modified files:
	x11/gnome      : gnome.port.mk 

Log message:
typo; broke (at least) deja-dup, as reported by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 09:16:20

Modified files:
	usr.bin/tmux   : server-client.c 

Log message:
Only set up a current target for mouse key bindings. Fixes:

bind q select-pane -U \; resize-pane -Z

(There is still some possible weirdness with the way we do current
targets, it should probably be done in a different way at some point.)


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/20 09:21:53

Modified files:
	sys/sys        : ktrace.h pledge.h syscall_mi.h 
	sys/kern       : kern_pledge.c 

Log message:
only 32 bits of the pledgecode were passed up via ktrace
from Anton Lindqvist
ok semarie


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 09:42:26

Modified files:
	sys/arch/mips64/include: cpu.h mips_cpu.h mips_opcode.h tcb.h 
	sys/arch/mips64/mips64: context.S cpu.c genassym.cf trap.c 
	sys/arch/octeon/octeon: machdep.c 

Log message:
Make TCB address available to userspace via the UserLocal register.
This lets programs get the address without a system call on OCTEON II
and later.

Add UserLocal load emulation for systems that do not implement
the RDHWR instruction or the UserLocal register.

OK guenther@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/20 09:52:29

Added files:
	games/micropolis/patches: patch-src_sim_g_bigmap_c 
	                          patch-src_sim_g_map_c 
	                          patch-src_sim_g_setup_c 
	                          patch-src_sim_s_disast_c 
	                          patch-src_sim_s_gen_c 
	                          patch-src_sim_s_msg_c 
	                          patch-src_sim_s_power_c 
	                          patch-src_sim_s_sim_c 
	                          patch-src_sim_s_zone_c 
	                          patch-src_sim_sim_c 
	                          patch-src_sim_w_con_c 
	                          patch-src_sim_w_date_c 
	                          patch-src_sim_w_editor_c 
	                          patch-src_sim_w_graph_c 
	                          patch-src_sim_w_map_c 
	                          patch-src_sim_w_sound_c 
	                          patch-src_sim_w_sprite_c 
	                          patch-src_sim_w_tool_c 
	                          patch-src_sim_w_update_c 
	                          patch-src_sim_w_util_c 
	                          patch-src_sim_w_x_c 
	                          patch-src_tcl_tclenv_c 

Log message:
declare a shitload of functions void to appease clang who definitely
does not like void returns in non void functions.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 10:07:52

Modified files:
	include        : tib.h 
	lib/libc/include: cancel.h 
	sys/arch/mips64/include: tcb.h 

Log message:
Get TCB address using the RDHWR instruction instead of __get_tcb().
This gives fast access to the address on systems that implement
the UserLocal register. TCB caching is still used when running
in the single-threaded mode in order not to penalize old systems.

The kernel counterpart of this change must be in place before
using this diff!

With guenther@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/20 10:30:37

Modified files:
	distrib/sets/lists/comp: clang.amd64 clang.i386 mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/20 11:16:32

Modified files:
	lib/libc/include: cancel.h 

Log message:
Fix previous.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 11:48:30

Modified files:
	lib/libutil    : openpty.3 pty.c shlib_version util.h 

Log message:
Add getptmfd(), fdopenpty(), fdforkpty() functions. These allow programs
to separate the open(/dev/ptm) from the ioctl(PTMGET) for privilege
separation or pledge().

Based on a diff from reyk@.

ok deraadt millert


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 11:49:26

Modified files:
	usr.bin/tmux   : Makefile tmux.c tmux.h window.c 
Removed files:
	usr.bin/tmux   : pty.c 

Log message:
Use fdforkpty() instead of our own unwrapped versions.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/20 12:30:33

Modified files:
	distrib/sets/lists/base: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/20 12:49:37

Modified files:
	x11/gnome/file-roller: Makefile distinfo 
	x11/gnome/file-roller/pkg: PLIST 

Log message:
update to file-roller-3.24.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/20 12:49:37

Modified files:
	devel/libgdata : Makefile distinfo 

Log message:
update to libgdata-0.17.8


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/20 13:01:58

Modified files:
	net/telepathy/folks: Makefile 

Log message:
add missing dep on intltool; spotted by naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/20 13:02:40

Modified files:
	graphics/gthumb: Makefile distinfo 

Log message:
update to gthumb-3.4.5


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/20 13:15:02

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to p5-SVG-2.68


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/20 13:15:45

Modified files:
	net/apache-activemq: Makefile distinfo 

Log message:
- update to apache-activemq-5.14.5
- drop maintainer


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/20 13:30:42

Modified files:
	lib/libutil    : openpty.3 

Log message:
add previous to NAME;


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/20 13:40:51

Modified files:
	www/firefox-esr: Tag: OPENBSD_6_1 Makefile distinfo 
	www/firefox-esr/pkg: Tag: OPENBSD_6_1 PLIST 
	www/firefox-esr-i18n: Tag: OPENBSD_6_1 Makefile.inc distinfo 
Removed files:
	www/firefox-esr/patches: Tag: OPENBSD_6_1 
	                         patch-browser_installer_allowed-dupes_mn 

Log message:
MFC: update to firefox-esr 52.1.0.

Over time i'll see if i maintain this or give up.
Stable packages for i386 and amd64 available at https://packages.rhaalovely.net/
signed with https://packages.rhaalovely.net/landry-mozilla-pkg.pub


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/20 13:44:46

Modified files:
	www/firefox-i18n: Tag: OPENBSD_6_1 Makefile.inc distinfo 
	www/mozilla-firefox: Tag: OPENBSD_6_1 Makefile distinfo 
	www/mozilla-firefox/patches: Tag: OPENBSD_6_1 
	                             patch-js_src_jit_ProcessExecutableMemory_cpp 
	                             patch-security_manager_pki_resources_content_exceptionDialog_js 
	                             patch-storage_mozStorageConnection_cpp 
	www/mozilla-firefox/pkg: Tag: OPENBSD_6_1 PLIST README 
Added files:
	www/mozilla-firefox/patches: Tag: OPENBSD_6_1 
	                             patch-nsprpub_pr_src_linking_prlink_c 
	                             patch-security_nss_coreconf_OpenBSD_mk 
	                             patch-security_nss_coreconf_UNIX_mk 
	                             patch-security_nss_lib_freebl_blapi_h 

Log message:
MFC: update to firefox 53.0.

Over time i'll see if i keep doing this in -stable or give up.
"Stable" packages for i386 and amd64 available at https://packages.rhaalovely.net/
signed with https://packages.rhaalovely.net/landry-mozilla-pkg.pub

Changes from -current include:
- dont bump SO_VERSION
- build against bundled nss/nspr (53 wants nss 3.29.5)
- add selected patches from devel/nspr and security/nss
- build against bundled hunspell (53 wants 1.6)
- add BDEP on rust/cargo


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/20 14:38:02

Modified files:
	editors/nano   : Makefile distinfo 
	editors/nano/patches: patch-doc_nano_1 patch-src_Makefile_in 
	editors/nano/pkg: PLIST 

Log message:
update to 2.8.1: improvements in moving in softwrapped lines and
miscellaneous other tweaks


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/20 15:23:17

Modified files:
	usr.bin/less   : charset.c 

Log message:
control_char() for ASCII needs to include both genuine control
characters and top-bit-set nonprintable characters (so both iscntrl()
and !isprint()), fixes behaviour broken in r1.15/r1.16, noticed by
deraadt@.

ok deraadt tedu


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/20 16:17:28

Modified files:
	security/libhttpseverywhere: Makefile distinfo 

Log message:
Update to libhttpseverywhere-0.4.2.


CVSROOT:	/cvs
Module name:	www
Changes by:	danj@cvs.openbsd.org	2017/04/20 20:15:57

Modified files:
	faq            : faq14.html index.html 

Log message:
Add a section on how to grow disk partitions.

With and ok tj@ tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kurt@cvs.openbsd.org	2017/04/20 20:30:40

Modified files:
	devel/jdk/1.8  : Makefile 
Added files:
	devel/jdk/1.8/patches: patch-hotspot_src_share_vm_opto_lcm_cpp 
	                       patch-hotspot_src_share_vm_runtime_virtualspace_cpp 

Log message:
- patches to allow build with clang 4.0
- uncomment MAKE_ENV+=USE_CLANG=true to build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/20 22:13:11

ports/www/netsurf/libsvgtiny/patches

Update of /cvs/ports/www/netsurf/libsvgtiny/patches
In directory cvs.openbsd.org:/tmp/cvs-serv71637/patches

Log Message:
Directory /cvs/ports/www/netsurf/libsvgtiny/patches added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/20 22:18:47

Modified files:
	usr.sbin/vmd   : pci.c 

Log message:
vmd(8) pci emulation fix required for upcoming option rom support.
This will be used in the future to support an sgabios option rom, to
do VGA text mode console redirection.

ok reyk


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/21 01:03:26

Modified files:
	usr.sbin/vmd   : config.c control.c dhcp.c parse.y priv.c 
	                 vm.conf.5 vmd.c vmd.h vmm.c 

Log message:
Add global configuration option "local prefix" to change prefix for -L.

The default prefix is 100.64.0.0/10 from RFC6598.

Requested by sthen@ chris@
OK mlarkin@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/21 01:17:43

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.42.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/21 01:17:57

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.79.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/21 02:08:44

Modified files:
	mail/mutt      : Makefile 

Log message:
Actually build sidebar, as was intended in r1.88. Pointed out by Piotr Kubaj.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/21 03:42:53

Modified files:
	sys/dev/usb    : if_cdce.c 

Log message:
Use ether_crc32_le() instead of a custom version.

From Hiltjo Posthuma.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/21 05:02:10

Modified files:
	usr.sbin/vmd   : parse.y 

Log message:
Fail if vm.conf exists but cannot be opened, ignore if it doesn't exist.

This fixes 'vmd -nf /etv/vm.conf' if the file is not readable.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/21 05:40:08

Modified files:
	sysutils/firmware/iwm: Makefile distinfo 
	sysutils/firmware/iwm/pkg: PLIST 

Log message:
Add 3168/8265 firmware. Forgotten update from during ports lock (but
firmware packages built using this are already available).


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/21 05:51:24

Modified files:
	textproc/calibre: Makefile distinfo 
	textproc/calibre/pkg: PLIST 

Log message:
update to calibre-2.83.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/21 06:18:30

Modified files:
	graphics/darktable: Makefile 

Log message:
move comment re TLS emulation down to MODGCC4_ARCHS line


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 07:15:43

Modified files:
	usr.bin/tmux   : cfg.c 

Log message:
Do not run the config file in the context of the first client, instead
use no client like we did before. This means commands like new-session
won't try to attach if they are in the config file.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kurt@cvs.openbsd.org	2017/04/21 07:27:47

Modified files:
	databases/architect: Makefile 
	databases/db/v4: Makefile 
	databases/jxplorer: Makefile 
	devel/apache-ant: Makefile 
	devel/apktool  : Makefile 
	devel/dex2jar  : Makefile 
	devel/javahelp : Makefile 
	devel/jd-gui   : Makefile 
	devel/jdk      : Makefile java.port.mk 
	devel/jenkins/devel: Makefile 
	devel/jenkins/stable: Makefile 
	devel/maven    : Makefile 
	editors/libreoffice: Makefile 
	games/freecol  : Makefile 
	games/jbrickshooter: Makefile 
	games/lwjgl    : Makefile 
	games/minecraft: Makefile 
	geo/jeoip      : Makefile 
	java/jBCrypt   : Makefile 
	java/java-getopt: Makefile 
	java/java-getopt/pkg: PLIST 
	java/jna       : Makefile 
	java/jna/pkg   : PLIST 
	java/junit     : Makefile 
	java/tanukiwrapper: Makefile 
	lang/abcl      : Makefile 
	lang/clojure   : Makefile 
	lang/kawa      : Makefile 
	lang/processing: Makefile 
	lang/scala     : Makefile 
	math/geogebra  : Makefile 
	net/aircontrol : Makefile 
	net/apache-activemq: Makefile 
	net/mfi        : Makefile 
	productivity/deskzilla: Makefile 
	productivity/projectlibre: Makefile 
	productivity/thinkingrock: Makefile 
	security/burpsuite: Makefile 
	security/zaproxy: Makefile 
	sysutils/ec2-api-tools: Makefile 
	sysutils/rundeck: Makefile 
	textproc/link-grammar: Makefile 
	textproc/stringtemplate: Makefile 
	textproc/xalan-j: Makefile 
	textproc/xerces: Makefile 
	www/icedtea-web: Makefile 
	www/tomcat/v6  : Makefile 
	www/tomcat/v7  : Makefile 
	www/tomcat/v8  : Makefile 
	x11/kde4/kross-interpreters: Makefile 

Log message:
- disconnect devel/jdk/1.7 from the build
- adjust java.port.mk so all 1.7 and lower ports now build with 1.8
- bump revision on affected ports
okay sthen@, ian@, landry@


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/21 07:46:16

Modified files:
	usr.sbin/snmpd : trap.c 

Log message:
Fix uninitialized variable that coult result in a crash.

Fix from Rivo Nurges.


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/04/21 07:50:23

Modified files:
	usr.sbin/snmpd : control.c snmpd.h snmpe.c 

Log message:
Repair AgentX support.

which I broke when adding support for multiple listen address.  SNMP
data should be sent to the client using the appropriate socket, which we
now store when we receive the query.

Reported & fix tested by Rivo Nurges.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/21 07:57:36

Added files:
	net/xprobe/patches: patch-libs-external_USI++_src_misc_cc 

Log message:
Missing include for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/21 07:58:00

Modified files:
	net/xprobe     : Makefile 

Log message:
Respect CC/CXX.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 08:01:19

Modified files:
	usr.bin/tmux   : cmd-attach-session.c cmd-copy-mode.c cmd-find.c 
	                 cmd-if-shell.c cmd-list-keys.c 
	                 cmd-new-session.c cmd-queue.c cmd-resize-pane.c 
	                 cmd-send-keys.c cmd-switch-client.c format.c 
	                 key-bindings.c server-client.c tmux.h 

Log message:
Store state shared between multiple commands in the queue in a shared
structure.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 08:04:54

Modified files:
	usr.bin/tmux   : cfg.c server.c 

Log message:
History needs to be loaded after config parsing is done - now that
commands are queued, that's in cfg_done not after start_cfg finishes.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 08:09:44

Modified files:
	usr.bin/tmux   : alerts.c cmd-find.c cmd-new-window.c notify.c 
	                 tmux.h 

Log message:
More unnecessary arguments now winlink points back to session.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/21 08:39:40

Modified files:
	audio          : Makefile 
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 
Removed files:
	audio/teknap   : Makefile distinfo 
	audio/teknap/patches: patch-Makefile_in patch-include_napster_h 
	                      patch-include_struct_h 
	                      patch-source_irchandler_c 
	                      patch-source_scott_c patch-source_status_c 
	                      patch-source_term_c 
	audio/teknap/pkg: DESCR PLIST 

Log message:
Remove teknap, a Napster client.  Napster and OpenNap are dead.  ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 10:04:18

Modified files:
	usr.bin/tmux   : server-client.c tmux.h 

Log message:
It is annoying that the copy mode key table (or any other key table)
will suppress root key table bindings. So change to always check the
root table if no binding is found in the current table (whether it be
the prefix table from pressing the prefix or the copy mode table from a
pane).

A root key binding can be blocked by binding the key to a command that
does nothing (like send-keys with no arguments).

Problem reported by Thomas Sattler.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/04/21 10:10:24

Modified files:
	.              : groups.html 
	build          : groups.dat 

Log message:
Add Iranian meetBSD group (http://meetbsd.ir/) to groups.html.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/21 10:39:52

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Fix nic lock usages around iwm_{read,write}_prph().

The iwm_{read,write}_prph() calls don't grab the nic lock themselves
so make sure to acquire it where necessary.
The iwm_{set,clear}_bits_prph() on the other hand acquire/release the
nic lock themselves. Since the nic lock doesn't do recursive locking
we need to be careful to avoid accidentally releasing the nic lock
too early that way.

Patch by Imre Vadasz.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/21 10:40:11

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Fix nic lock usage around iwm_disable_rx_dma().
iwm_disable_rx_dma() was unintentionally releasing the nic lock too early.
Patch by Imre Vadasz.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/21 10:41:20

Modified files:
	net/dhcpcd     : Makefile 
Added files:
	net/dhcpcd/patches: patch-if-bsd_c 

Log message:
Remove dhcpcd's workaround for exported vltime/pltime being incorrect
which was fixed in netinet6/in6.c.


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/21 11:04:35

Modified files:
	www/icedtea-web: Makefile 

Log message:
Depend on a specific java version
spotted and ok kurt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/21 11:08:01

Modified files:
	sysutils/smartmontools: Makefile 
	sysutils/smartmontools/patches: patch-Makefile_in 

Log message:
spring cleanup, no functional change
bump just to be sure
spotted and ok Rafael Sadowski


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 11:22:21

Modified files:
	usr.bin/tmux   : cmd-find.c cmd-split-window.c server-client.c 
	                 tmux.h 

Log message:
Add cmd_find_from_winlink_pane and use it in a couple of places, and
make functions that can't fail void.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/21 11:26:32

Modified files:
	x11/gnustep/camerakit: Makefile 
	x11/gnustep/cynthiune: Makefile 
	x11/gnustep/databasinkit: Makefile 
	x11/gnustep/highlighterkit: Makefile 
	x11/gnustep/paje: Makefile 
	x11/gnustep/pantomime: Makefile 
	x11/gnustep/pdfkit: Makefile 
	x11/gnustep/projectcenter: Makefile 
	x11/gnustep/rsskit: Makefile 
	x11/gnustep/systempreferences: Makefile 

Log message:
Bump REVISION after update of gnustep-make

The symlink of the shared library in lib doesn't point to
GNUstep/Frameworks/$FRAMEWORK.framework/Versions/Current/libnetclasses.so.${SHLIB_VERSION}
anymore but now to
GNUstep/Frameworks/netclasses.framework/Versions/${SHLIB_VERSION}/libnetclasses.so.${SHLIB_VERSION}

It's not easily visible in pkg/PLIST, but on package creation plistdb catched it

problem pointed out by nigel@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/21 11:27:38

Modified files:
	www/sogo       : Makefile 

Log message:
Bump REVISION after update of gnustep-make

The symlink of the shared library in lib doesn't point to
GNUstep/Frameworks/$FRAMEWORK.framework/Versions/Current/libnetclasses.so.${SHLIB_VERSION}
anymore but now to
GNUstep/Frameworks/netclasses.framework/Versions/${SHLIB_VERSION}/libnetclasses.so.${SHLIB_VERSION}

It's not easily visible in pkg/PLIST, but on package creation plistdb catched it

problem pointed out by nigel@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/21 11:54:02

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Make id parameter of iwm_send_cmd_pdu() a uint32_t so that it matches
the size of the corresponding id field in struct iwm_host_cmd.
Patch by Imre Vadasz.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/21 12:04:34

Modified files:
	x11/gnome/gtef : Makefile distinfo 
	x11/gnome/gtef/pkg: PLIST 

Log message:
Update to gtef-2.0.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 12:18:17

Modified files:
	usr.bin/tmux   : cmd-queue.c tmux.h 

Log message:
Style nits and an unused struct.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kurt@cvs.openbsd.org	2017/04/21 12:37:43

Modified files:
	devel/cmake    : Makefile 
	devel/cmake/patches: 
	                     patch-Modules_CMakeDetermineJavaCompiler_cmake 
	                     patch-Modules_FindJNI_cmake 
	                     patch-Modules_FindJava_cmake 

Log message:
Update for devel/jdk/1.7 removal. okay dcoppa@ sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/21 12:39:23

Modified files:
	x11/gnome/settings-daemon/patches: patch-configure 

Log message:
Pushed upstream.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/21 13:04:22

Modified files:
	sys/sys        : _endian.h 

Log message:
Cast the result of the __swapXX macros to the proper type.
The ternary operator was causing the result to be promoted to
int for __swap16.  Fixes warning with clang.  OK guenther@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 13:33:07

Modified files:
	usr.bin/tmux   : key-bindings.c server-client.c 

Log message:
Key needs to be initialized to zero now it has flags in it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/21 13:41:18

Modified files:
	x11/gnome/gjs  : Makefile distinfo 

Log message:
update to gjs-1.48.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/21 13:43:38

Modified files:
	devel/doxygen  : Makefile distinfo 

Log message:
update to doxygen-1.8.13

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/21 13:44:31

Modified files:
	devel/doxygen-gui: Makefile distinfo 

Log message:
update to doxygen-gui-1.8.13

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/21 13:46:46

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to p5-SVG-2.69


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 14:26:34

Modified files:
	usr.bin/tmux   : cmd-find.c cmd-queue.c cmd-run-shell.c cmd.c 
	                 notify.c server.c tmux.h 

Log message:
Make the cmd_find_* functions more obvious when looking for a client,
rather than having it inside other functions. Should be no change to the
way targets are resolved just yet.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 14:34:05

Modified files:
	usr.bin/tmux   : cmd-queue.c 

Log message:
Clear shared state if not filling it in.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bentley@cvs.openbsd.org	2017/04/21 14:34:19

Modified files:
	www/netsurf/libsvgtiny: Makefile 
Added files:
	www/netsurf/libsvgtiny/patches: patch-src_Makefile 
	                                patch-src_colors_gperf 
	                                patch-src_svgtiny_c 
	                                patch-src_svgtiny_internal_h 

Log message:
Fix build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/04/21 14:46:42

Modified files:
	www/selfoss    : Makefile distinfo 
	www/selfoss/pkg: PLIST 

Log message:
Update www/selfoss to 2.17

OK aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/04/21 14:59:40

Modified files:
	net/nagios/cnagios: Makefile distinfo 

Log message:
Update net/nagios/cnagios to 0.33 and switch to github.

Feedback and OK sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 15:02:26

Modified files:
	usr.bin/tmux   : cmd-select-pane.c 

Log message:
Rename a variable.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/21 15:07:31

Modified files:
	faq            : index.html 

Log message:
Accesing -> Accessing

spotted by stefan wollny, thanks


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/21 15:24:44

Modified files:
	audio/schismtracker: Makefile distinfo 
	audio/schismtracker/patches: patch-configure_ac 

Log message:
Update schismtracker to 20170420.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 16:00:06

Modified files:
	usr.bin/tmux   : cmd-find.c 

Log message:
Make sure cmd_find_from_* clear the state if they fail.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/21 16:23:24

Modified files:
	usr.bin/tmux   : cmd-find.c cmd-queue.c server-client.c 

Log message:
Log error properly when no current state, and some other minor tweaks.


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/04/21 17:21:02

Modified files:
	sys/net        : pf_ioctl.c 

Log message:
Speed up DIOCKILLSTATES by using the RB tree index if all fields used
by the tree of given state key are filled.

ok sasha


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/04/21 17:22:49

Modified files:
	sbin/pfctl     : pfctl.8 pfctl.c 

Log message:
Add "key" modifier for -k to make pfctl can kill a state by specifying
the key of the state.

ok sasha


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 19:42:27

Added files:
	audio/sidplay/patches: patch-sid2wav_cpp patch-sidcon_cpp 
	                       patch-sidplay_cpp 

Log message:
use standard c++ includes to fix the build with clang
ok sthen@ naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 20:14:04

Modified files:
	converters/ish/patches: patch-mvol_c 

Log message:
Add a non-implicit return type to a function that returns without an
argument to fix build with clang.  Add some missing includes while here.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 21:11:36

Added files:
	devel/pygame/patches: patch-src_scale_mmx64_c 

Log message:
Backport a patch to let pygame build with clang on amd64 by replacing
movsxl with movslq in inline assembly.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/21 22:00:21

Modified files:
	share/man/man4 : Makefile 
Added files:
	share/man/man4 : witness.4 

Log message:
Manual page for witness(4). Adapted from FreeBSD.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 22:08:39

ports/geo/globe/patches

Update of /cvs/ports/geo/globe/patches
In directory cvs.openbsd.org:/tmp/cvs-serv52370/patches

Log Message:
Directory /cvs/ports/geo/globe/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 22:10:48

Added files:
	geo/globe/patches: patch-globe_c 

Log message:
fix the argv argument to main to let this build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 22:53:17

Modified files:
	japanese/kanjips/patches: patch-kanjips_kanjips_c 

Log message:
add a non-implicit return type to a function to fix the build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 23:34:00

Modified files:
	misc/garmin-utils/patches: patch-Makefile_inc 

Log message:
remove -Werror to fix the build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/21 23:54:02

Added files:
	misc/uniutils/patches: patch-unifuzz_c 

Log message:
add a non-implicit return type to a function to fix the build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 00:00:01

Added files:
	net/icbirc/patches: patch-Makefile 

Log message:
remove -Werror to fix the build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 00:02:53

ports/net/kissd/patches

Update of /cvs/ports/net/kissd/patches
In directory cvs.openbsd.org:/tmp/cvs-serv77877/patches

Log Message:
Directory /cvs/ports/net/kissd/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 00:03:47

Added files:
	net/kissd/patches: patch-Makefile 

Log message:
remove -Werror to fix the build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 00:13:30

Modified files:
	usr.bin/tmux   : cmd-load-buffer.c cmd-save-buffer.c 
	                 cmd-set-option.c options.c server.c 

Log message:
Memory leaks, from David CARLIER.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 00:14:19

Added files:
	net/openvpn_bsdauth/patches: patch-Makefile 

Log message:
remove -Werror and -Wbounded to fix the build with clang
-Wbounded only exists in base gcc where it is enabled by default


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 00:15:22

Modified files:
	usr.bin/tmux   : tmux.1 

Log message:
Typo in example.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 00:27:15

Modified files:
	usr.bin/tmux   : cmd-if-shell.c 

Log message:
Fix if-shell without a client (so in the config file). Reported by Theo
Buehler.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 01:02:54

Added files:
	x11/bricons/patches: patch-main_c 

Log message:
fix the type of an argument to main to fix the build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 01:35:31

Added files:
	x11/fltk/patches: patch-src_Fl_Tree_Item_cxx 

Log message:
Backport a fix for an incorrect pointer test.  Fixes the build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/22 01:36:27

Modified files:
	security/knockpy: Makefile distinfo 
	security/knockpy/pkg: PLIST 

Log message:
update to knockpy-4.0.0

ok danj@ landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/22 01:47:35

Modified files:
	www/iridium    : Makefile 

Log message:
add missing build dependency for gtk+3


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 01:50:21

Added files:
	x11/fluxbox/patches: patch-util_fluxbox-remote_cc 

Log message:
Backport a fix for an incorrect pointer test.  Fixes the build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 02:05:41

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.43.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 02:05:55

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.80.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 02:13:28

Modified files:
	print/foomatic-db: Tag: OPENBSD_6_1 Makefile 
	print/foomatic-db/pkg: Tag: OPENBSD_6_1 PLIST 

Log message:
MFC: Remove foo2hiperc-z1, it conflicts with foo2zjs.
req. by stsp@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 02:27:57

Modified files:
	x11/xcoloredit/patches: patch-xcoloredit_c 

Log message:
fix the type of an argument to main to fix the build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 02:33:28

Modified files:
	usr.bin/tmux   : input.c 

Log message:
We need to collect UTF-8 characters so that width != 1 characters are
correctly flushed.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 02:37:20

Added files:
	x11/xcolors/patches: patch-xcolors_c 

Log message:
add a non-implicit return type to a function to fix the build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 02:46:35

ports/x11/xprompt/patches

Update of /cvs/ports/x11/xprompt/patches
In directory cvs.openbsd.org:/tmp/cvs-serv95901/patches

Log Message:
Directory /cvs/ports/x11/xprompt/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/22 02:48:06

Added files:
	x11/xprompt/patches: patch-xprompt_c 

Log message:
fix the type of an argument to main to fix the build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 02:56:24

Modified files:
	usr.bin/tmux   : cmd-attach-session.c cmd-break-pane.c 
	                 cmd-find-window.c cmd-join-pane.c 
	                 cmd-new-session.c cmd-new-window.c 
	                 cmd-select-pane.c cmd-select-window.c 
	                 cmd-split-window.c cmd-switch-client.c 
	                 server-client.c 

Log message:
Mouse bindings and hooks set up an initial current state when running a
command. This is used for the session, window and pane for all commands
in the command sequence if there is no -t or -s.

However, using it for all commands in the command sequence means that if
the active pane or current session is changed, subsequent commands still
use the previous state. So make commands which explicitly change the
current state (such as neww and selectp) update it themselves for later
commands. Commands which may invalidate the state (like killp) are
already OK because an invalid state will be ignored.

Also fill in the current state for all key bindings rather than just the
mouse, so that any omissions are easier to spot.


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/22 03:12:49

Modified files:
	lib/libc/stdlib: malloc.c 

Log message:
For small allocations (chunk) freezero only validates the given
size if canaries are enabled. In that case we have the exact requested
size of the allocation.  But we can at least check the given size
against the chunk size if C is not enabled. Plus add some braces
so my brain doesn't have to scan for dangling else problems when I
see this code.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 03:18:03

Modified files:
	x11/gnome/settings-daemon: Makefile 
	x11/gnome/settings-daemon/pkg: PLIST 
Removed files:
	x11/gnome/settings-daemon/files: 
	                                 10_org.gnome.settings-daemon.peripherals.wacom.gschema.override 
	                                 10_org.gnome.settings-daemon.plugins.orientation.gschema.override 

Log message:
No need for the overrides anymore since it's not possible to disable
individual plugins.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 03:37:58

ports/x11/gnome/bijiben/patches

Update of /cvs/ports/x11/gnome/bijiben/patches
In directory cvs.openbsd.org:/tmp/cvs-serv56325/patches

Log Message:
Directory /cvs/ports/x11/gnome/bijiben/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 03:38:17

Modified files:
	x11/gnome/bijiben: Makefile 
Added files:
	x11/gnome/bijiben/patches: 
	                           patch-data_org_gnome_bijiben-search-provider_ini 
	                           patch-src_bijiben-shell-search-provider_c 

Log message:
Fix gnome-shell search provider.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 03:55:16

Modified files:
	lang/go        : go.port.mk 

Log message:
Use MODGO_post-patch instead of checking for an existing post-patch target.
This will allow go ports to setup a post-patch target when needed.

ok czarkoff@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/22 04:10:05

ports/devel/kf5/sonnet/patches

Update of /cvs/ports/devel/kf5/sonnet/patches
In directory cvs.openbsd.org:/tmp/cvs-serv64305/patches

Log Message:
Directory /cvs/ports/devel/kf5/sonnet/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/22 04:13:11

Added files:
	devel/kf5/sonnet/patches: patch-cmake_FindHUNSPELL_cmake 

Log message:
Fix build with hunspell-1.6, somehow i failed to spot this one. Breakage
reported by naddy@. If only cmake shipped a FindHUNSPELL.cmake module,
instead of having one installed by kdelibs (and thus, a hidden build
dep) and one in sonnet source tarball....


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 04:22:39

Modified files:
	usr.bin/tmux   : cmd-attach-session.c cmd-break-pane.c 
	                 cmd-capture-pane.c cmd-choose-buffer.c 
	                 cmd-choose-client.c cmd-choose-tree.c 
	                 cmd-command-prompt.c cmd-confirm-before.c 
	                 cmd-copy-mode.c cmd-detach-client.c 
	                 cmd-display-message.c cmd-display-panes.c 
	                 cmd-find-window.c cmd-find.c cmd-if-shell.c 
	                 cmd-join-pane.c cmd-kill-pane.c 
	                 cmd-kill-session.c cmd-kill-window.c 
	                 cmd-list-clients.c cmd-list-panes.c 
	                 cmd-list-windows.c cmd-lock-server.c 
	                 cmd-move-window.c cmd-new-session.c 
	                 cmd-new-window.c cmd-paste-buffer.c 
	                 cmd-pipe-pane.c cmd-queue.c 
	                 cmd-refresh-client.c cmd-rename-session.c 
	                 cmd-rename-window.c cmd-resize-pane.c 
	                 cmd-respawn-pane.c cmd-respawn-window.c 
	                 cmd-rotate-window.c cmd-run-shell.c 
	                 cmd-select-layout.c cmd-select-pane.c 
	                 cmd-select-window.c cmd-send-keys.c 
	                 cmd-set-environment.c cmd-set-hook.c 
	                 cmd-set-option.c cmd-show-environment.c 
	                 cmd-show-messages.c cmd-show-options.c 
	                 cmd-split-window.c cmd-swap-pane.c 
	                 cmd-swap-window.c cmd-switch-client.c cmd.c 
	                 tmux.h 

Log message:
Get rid of the extra layer of flags and cmd_prepare() and just store the
CMD_FIND_* flags in the cmd_entry and call it for the command. Commands
with special requirements call it themselves and update the target for
hooks to use.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/22 04:25:32

Modified files:
	textproc/elasticsearch: Makefile distinfo 
	textproc/elasticsearch/pkg: PLIST 

Log message:
update to elasticsearch-5.3.1

https://www.elastic.co/guide/en/elasticsearch/reference/5.3/release-notes-5.3.1.html


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 04:26:44

Modified files:
	usr.bin/tmux   : cmd-new-session.c 

Log message:
new -A should use the session name.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 04:30:56

Modified files:
	usr.bin/tmux   : screen-write.c 

Log message:
Can't collect UTF-8 characters of more than one byte at the moment.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/22 04:34:45

Modified files:
	archivers/lzip/lziprecover: Makefile distinfo 

Log message:
Update to lziprecover 1.19.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/22 04:49:46

Modified files:
	archivers/lzip/pdlzip: Makefile distinfo 

Log message:
Update to pdlzip 1.8.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/22 04:50:23

Modified files:
	mail/rspamd    : Makefile distinfo 

Log message:
Update to rspamd-1.5.6, same diff me and Brad.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/22 04:52:10

Modified files:
	sysutils/ansible: Makefile distinfo 
	sysutils/ansible/pkg: PLIST 
Removed files:
	sysutils/ansible/patches: 
	                          patch-lib_ansible_module_utils_facts_py 

Log message:
update to ansible-2.3.0


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/22 05:05:04

Modified files:
	share/man/man4 : ddb.4 options.4 witness.4 

Log message:
Shuffle bits into their proper files.

Prompted by jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/22 05:12:04

Modified files:
	share/man/man4 : witness.4 

Log message:
Xr mutex(9) and rwlock(9)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 05:16:26

Modified files:
	x11/gnome/gdm  : Makefile 
	x11/gnome/gdm/pkg: PLIST 
Added files:
	x11/gnome/gdm/files: gdm-autologin 

Log message:
Re-add the gdm-autologin pam file.
Prodded by sthen@; I never though autologin actually worked :-)


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/22 05:53:55

Modified files:
	www/iridium    : Makefile 

Log message:
stray whitespace breaks make syntax


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/22 05:56:11

Modified files:
	devel/nspr     : Makefile distinfo 

Log message:
Update to nspr 4.14, requirement for firefox 54.

See https://groups.google.com/forum/#!topic/mozilla.dev.tech.nspr/YQyOYHnKJjA


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/22 05:57:39

Modified files:
	security/nss   : Makefile distinfo 

Log message:
Update to nss 3.30.2, 3.30.1 is required by firefox 54.

See
https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.30_release_notes
https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.30.1_release_notes
https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/NSS_3.30.2_release_notes
Bump shlib major for many symbols addition/removal.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 06:08:41

Modified files:
	usr.bin/tmux   : arguments.c cmd-find.c tmux.c 

Log message:
Do not need getopt.h.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 06:09:05

Modified files:
	x11/gnome/settings-daemon: Makefile 
	x11/gnome/settings-daemon/pkg: PLIST 
Added files:
	x11/gnome/settings-daemon/patches: patch-configure_ac 
	                                   patch-plugins_Makefile_am 
	                                   patch-plugins_dummy_Makefile_am 
Removed files:
	x11/gnome/settings-daemon/patches: patch-configure 

Log message:
Don't build the sharing plugin and make that a dummy instead.
We don't support anything from that plugin so... (systemd, network manager,
bluetooth).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 06:11:48

Modified files:
	x11/gnome/control-center: Makefile 
	x11/gnome/control-center/pkg: PLIST 
Added files:
	x11/gnome/control-center/patches: patch-configure_ac 
	                                  patch-panels_Makefile_am 
	                                  patch-panels_user-accounts_Makefile_am 
	                                  patch-shell_Makefile_am 
	                                  patch-shell_cc-panel-loader_c 
Removed files:
	x11/gnome/control-center/patches: 
	                                  patch-panels_user-accounts_Makefile_in 

Log message:
Don't build the sharing applet; we have no systemd, network manager nor
bluetooth to play with it.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/22 06:34:44

Modified files:
	sys/arch/octeon/octeon: autoconf.c 

Log message:
Reindent with tabs and add missing braces.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/22 06:55:06

Modified files:
	usr.bin/tmux   : status.c 

Log message:
Memory leak from David CARLIER.


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/04/22 07:23:51

Modified files:
	net/p5-Net-Whois-Raw: Makefile distinfo 

Log message:
Update to 2.99006
updated TLD and speed optimizations


CVSROOT:	/cvs
Module name:	src
Changes by:	robert@cvs.openbsd.org	2017/04/22 07:39:00

Modified files:
	distrib/syspatch: bsd.syspatch.mk 

Log message:
rework the syspatch makefile and do complete builds for each errata
and diff those instead of doing partial builds of affected directories


CVSROOT:	/cvs
Module name:	src
Changes by:	robert@cvs.openbsd.org	2017/04/22 07:41:02

Added files:
	distrib/syspatch: diff.sh 

Log message:
Add a small shell script to be used by syspatch to diff the fake root
directories for changes due to the fact that we have to do some "magic"
to figure out if things have really changed.


CVSROOT:	/cvs
Module name:	src
Changes by:	robert@cvs.openbsd.org	2017/04/22 07:42:05

Modified files:
	distrib/syspatch: diff.sh 

Log message:
do not leave temp files after the diffing is done


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 07:43:21

Modified files:
	audio/libcanberra/patches: patch-src_Makefile_am 
	audio/pulseaudio: Makefile 
	audio/pulseaudio/patches: patch-configure_ac 
	devel/dbus-sharp: Makefile 
	devel/dbus-sharp/patches: patch-src_Connection_cs 
	devel/glib2    : Makefile 
	inputmethods/ibus: Makefile 
	net/avahi      : Makefile 
	x11/dbus/pkg   : PLIST-main messagebus.rc 
	x11/e17/e      : Makefile 
Removed files:
	inputmethods/ibus/patches: patch-src_ibusshare_c 
	x11/dbus/patches: patch-bus_Makefile_in patch-dbus_Makefile_in 
	                  patch-doc_dbus-uuidgen_1_xml_in 
	                  patch-tools_Makefile_in 

Log message:
Stop patching for /var/lib/dbus -> /var/db/dbus; nowadays, most apps look
into /etc/machine-id *before* looking into /var/lib/dbus/machine-id and for
the few that don't patch them to look directly there.

Thanks sthen@ for the source ports seach.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/22 08:00:30

Modified files:
	share/man/man5 : port-modules.5 

Log message:
The gnome module supports cmake now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/22 09:02:55

Modified files:
	games/micropolis: Makefile 
Added files:
	games/micropolis/patches: patch-src_tcl_tclcmdmz_c 
	                          patch-src_tcl_tclglob_c 
	                          patch-src_tcl_tclparse_c 
	                          patch-src_tcl_tclunxaz_c 
	                          patch-src_tcl_tclutil_c 
	                          patch-src_tclx_src_tclxcclk_c 
	                          patch-src_tclx_src_tclxclck_c 
	                          patch-src_tclx_src_tclxfcmd_c 
	                          patch-src_tclx_src_tclxfsca_c 
	                          patch-src_tclx_src_tclxgdat_y 
	                          patch-src_tclx_src_tclxint_h 
	                          patch-src_tclx_src_tclxlib_c 
	                          patch-src_tclx_src_tclxproc_c 
	                          patch-src_tclx_src_tclxsig_c 
	                          patch-src_tclx_src_tclxstr_c 
	                          patch-src_tclx_src_tclxunix_c 
	                          patch-src_tclx_tkucbsrc_tkevent_sed 
	                          patch-src_tclx_ucbsrc_makefile 
	                          patch-src_tclx_ucbsrc_tclbasic_sed 
	                          patch-src_tclx_ucbsrc_tclexpr_sed 
	                          patch-src_tk_tkbitmap_c 
	                          patch-src_tk_tkbutton_c 
	                          patch-src_tk_tkcmds_c 
	                          patch-src_tk_tkconfig_c 
	                          patch-src_tk_tkcursor_c 
	                          patch-src_tk_tkerror_c 
	                          patch-src_tk_tkevent_c 
	                          patch-src_tk_tkfont_c 
	                          patch-src_tk_tkoption_c 
	                          patch-src_tk_tkpack_c 
	                          patch-src_tk_tkpixmap_c 
	                          patch-src_tk_tkrawtcp_c 
	                          patch-src_tk_tkselect_c 
	                          patch-src_tk_tksend_c 
	                          patch-src_tk_tkwindow_c 
	                          patch-src_tk_tkwm_c 

Log message:
fix a large number of warnings, some of them actual errors, exposed by clang
I haven't even started on the game itself...


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/22 09:37:39

Modified files:
	sys/arch/loongson/loongson: machdep.c 

Log message:
Fix an early boot failure on Loongson 3A2000.

Reported and patch tested by wen heping


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/22 09:43:35

Modified files:
	sys/arch/mips64/mips64: cpu.c 

Log message:
Recognize Loongson 3A2000/3B2000 processors.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 11:23:54

Modified files:
	devel/py-path.py: Makefile distinfo 

Log message:
Update to py-path.py 10.3.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/22 11:27:41

Modified files:
	x11/gnustep/netclasses: Makefile 

Log message:
Missed bump here as well after gnustep-make update

pointed out by naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 11:30:53

Modified files:
	devel/py-hypothesis: Makefile distinfo 
	devel/py-hypothesis/pkg: PLIST 

Log message:
Update to py-hypothesis 3.7.3


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/22 11:47:21

Modified files:
	distrib/sets/lists/man: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 11:48:14

Modified files:
	devel/py-setuptools_scm: Makefile distinfo 
Removed files:
	devel/py-setuptools_scm/patches: 
	                                 patch-testing_test_regressions_py 

Log message:
Update to py-setuptools_scm 1.15.5


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 12:02:15

Modified files:
	devel/py-test-mock: Makefile distinfo 

Log message:
Update to py-test-mock 1.6.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/22 13:49:18

Modified files:
	games/micropolis: Makefile 
	games/micropolis/patches: patch-src_sim_g_bigmap_c 
	                          patch-src_sim_g_map_c 
	                          patch-src_sim_g_setup_c 
	                          patch-src_sim_s_disast_c 
	                          patch-src_sim_s_gen_c 
	                          patch-src_sim_s_msg_c 
	                          patch-src_sim_s_power_c 
	                          patch-src_sim_s_sim_c 
	                          patch-src_sim_s_zone_c 
	                          patch-src_sim_sim_c 
	                          patch-src_sim_w_graph_c 
	                          patch-src_sim_w_sprite_c 
	                          patch-src_sim_w_update_c 
	                          patch-src_sim_w_util_c 
	                          patch-src_sim_w_x_c 
	                          patch-src_tclx_src_tclxgdat_y 
Added files:
	games/micropolis/patches: patch-src_sim_g_ani_c 
	                          patch-src_sim_headers_sim_h 
	                          patch-src_sim_s_alloc_c 
	                          patch-src_sim_s_eval_c 
	                          patch-src_sim_s_fileio_c 
	                          patch-src_sim_s_init_c 
	                          patch-src_sim_s_scan_c 
	                          patch-src_sim_s_traf_c 
	                          patch-src_sim_w_budget_c 
	                          patch-src_sim_w_eval_c 
	                          patch-src_sim_w_keys_c 
	                          patch-src_sim_w_resrc_c 
	                          patch-src_sim_w_stubs_c 
	                          patch-src_sim_w_tk_c 

Log message:
silence a lot more warnings by adding prototypes, not yet finished


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 13:52:07

Modified files:
	devel/py-test  : Makefile distinfo 

Log message:
Update to py-test 3.0.7


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 14:05:06

Modified files:
	textproc/py-alabaster: Makefile distinfo 
	textproc/py-alabaster/pkg: PLIST 

Log message:
Update to py-alabaster 0.7.10


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 14:06:41

Modified files:
	textproc/py-sphinx_rtd_theme: Makefile distinfo 
Removed files:
	textproc/py-sphinx_rtd_theme/patches: patch-setup_py 

Log message:
Update to py-sphinx_rtd_theme 0.2.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 14:37:39

Modified files:
	devel/py-tz    : Makefile distinfo 
	devel/py-tz/pkg: PLIST 

Log message:
Update to py-tz 2017.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/22 14:41:24

Modified files:
	security/letsencrypt/client: Makefile 

Log message:
py-python2-pythondialog dep no longer needed


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/22 15:01:02

Modified files:
	sysutils/moreutils: Makefile distinfo 
	sysutils/moreutils/patches: patch-Makefile 

Log message:
update to moreutils-0.60


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 15:25:42

Modified files:
	devel/py-jupyter_client: Makefile distinfo 

Log message:
Update to py-jupyter_client 5.0.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/22 15:57:42

Modified files:
	devel/py-jedi  : Makefile distinfo 
	devel/py-jedi/pkg: PLIST 

Log message:
Update to py-jedi 0.10.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	nigel@cvs.openbsd.org	2017/04/22 16:28:48

Modified files:
	x11/gnustep/addresses: Makefile 
	x11/gnustep/gnumail: Makefile 
	x11/gnustep/gworkspace: Makefile 

Log message:
Bump revision after gnustep update
ok sebastia@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kurt@cvs.openbsd.org	2017/04/22 18:29:22

Modified files:
	devel/jdk/1.8  : Makefile 

Log message:
- Clean up makefile and fix MAKE_ENV as per espie@ guidance. okay espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/22 20:32:34

Modified files:
	devel/jdk/1.8  : Makefile 

Log message:
prevent building on clang arch until someone figures out why it hangs


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/04/23 00:36:36

Modified files:
	lib/libc/stdlib: malloc.3 

Log message:
Rearrange text a bit to make it clear what "discarded" means; ok jmc@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/23 01:40:34

Modified files:
	sbin/pfctl     : pfctl.8 

Log message:
trim the documentation for -k: make it more consistent,
and do not try to do all the documenting in SYNOPSIS/usage();

ok deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/23 01:41:25

Modified files:
	sbin/pfctl     : pfctl.c 

Log message:
oops, this was meant to be committed with the pfctl.8 change:
sync usage() with SYNOPSIS;


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 02:04:03

Modified files:
	devel/py-hypothesis: Makefile distinfo 

Log message:
Update to py-hypothesis 3.7.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 02:07:17

Modified files:
	devel/py-ipykernel: Makefile distinfo 
	devel/py-ipykernel/pkg: PLIST 
Added files:
	devel/py-ipykernel/pkg: PFRAG.no-python3 PFRAG.python3 

Log message:
Update to py-ipykernel 4.6.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 03:15:28

Modified files:
	devel/py-babel : Makefile distinfo 
	devel/py-babel/pkg: PLIST 

Log message:
Update to py-babel 2.4.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 03:17:16

Modified files:
	math/py-sympy  : Makefile distinfo 
	math/py-sympy/patches: patch-setup_py 
	math/py-sympy/pkg: PLIST 

Log message:
Update to py-sympy 1.0, add py3 flavor and take maintainership.


CVSROOT:	/cvs
Module name:	ports
Changes by:	yasuoka@cvs.openbsd.org	2017/04/23 03:18:21

Modified files:
	japanese/less  : Makefile distinfo 
	japanese/less/pkg: DESCR PLIST 
Removed files:
	japanese/less/patches: patch-Makefile_in 

Log message:
Update ja-less to 382.262.03.b.01, the version maintained by Hiroki Sato.
espie@ agreed to take maintainer

ok bentley


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 03:19:10

Modified files:
	math           : Makefile 

Log message:
+py-sympy,python3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/23 04:09:22

Modified files:
	archivers/ripole/patches: patch-Makefile 

Log message:
-Werror considered harmful. You're going to do unsigned < 0, it can warn.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 04:49:07

Modified files:
	devel/meson    : Makefile distinfo 
	devel/meson/pkg: PLIST 

Log message:
Update to meson-0.40.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 04:57:17

Modified files:
	x11/kde/base3  : Makefile 

Log message:
unbreak following removal of openexr from kdelibs3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/23 05:09:51

Added files:
	astro/celestia/patches: patch-src_celmath_intersect_h 
	                        patch-src_celutil_basictypes_h 

Log message:
fix/clean up celestia for clang
okay aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 05:11:45

Modified files:
	x11/kde/base3/pkg: PLIST-main 

Log message:
removing exr needs a new PLIST as well


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 05:14:47

Modified files:
	devel/gtest    : Makefile distinfo 
	devel/gtest/pkg: PLIST 
Removed files:
	devel/gtest/patches: patch-include_gtest_internal_gtest-port_h 

Log message:
update to gtest-1.8.0, fixes things with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/04/23 05:37:11

Modified files:
	sys/net        : pf_lb.c pf_norm.c pf_osfp.c 

Log message:
Some of the LOG_NOTICE messages from PF were seen in normal operations
with certain rulesets and excessively noisy; move them to LOG_INFO (which was
previously unused).  ok benno@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 07:24:17

Modified files:
	emulators/qemu : Makefile distinfo 
	emulators/qemu/patches: patch-configure 
	                        patch-tcg_ppc_tcg-target_inc_c 
	emulators/qemu/pkg: PLIST 
Removed files:
	emulators/qemu/patches: patch-block_curl_c 
	                        patch-hw_virtio_virtio_c 

Log message:
Update to qemu-2.9.0.

from Brad (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 07:25:29

Modified files:
	emulators/bochs: Makefile distinfo 
	emulators/bochs/patches: patch-Makefile_in patch-_bochsrc 
	emulators/bochs/pkg: PLIST 
Added files:
	emulators/bochs/patches: patch-iodev_network_eth_socket_cc 
Removed files:
	emulators/bochs/patches: patch-gui_term_cc 
	                         patch-iodev_sound_soundfile_cc 
	                         patch-iodev_sound_soundlow_cc 
	                         patch-iodev_sound_soundlow_h 

Log message:
Update to bochs-2.6.9.

from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 07:29:13

Modified files:
	net/znc        : Makefile distinfo 

Log message:
Update to znc-1.6.5.

from Brad (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/23 07:42:25

Modified files:
	editors/libreoffice: Makefile 

Log message:
proper bump after jdk 1.7 -> 1.8 change


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 07:48:29

Modified files:
	sysutils/gkrellm/gkrellm: Makefile distinfo 
	sysutils/gkrellm/gkrellm/patches: patch-Makefile 
	                                  patch-server_Makefile 
	                                  patch-server_configure 
	                                  patch-server_gkrellmd_h 
	                                  patch-server_main_c 
	                                  patch-src_Makefile 
	                                  patch-src_sysdeps_bsd-net-open_c 
	sysutils/gkrellm/gkrellm/pkg: PLIST-client 
Added files:
	sysutils/gkrellm/gkrellm/patches: patch-common_mk 

Log message:
update to gkrellm-2.3.10, mostly from frantisek holop, small tweak from me to
honour CC.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 08:22:44

Modified files:
	x11/dbus       : Makefile 

Log message:
Missed bump, yeah I still miss those... *facepalm*
thanks nigel@ for the report


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/23 08:33:50

Modified files:
	net/weechat    : Makefile distinfo 

Log message:
Security update to weechat-1.7.1
Fix a buffer overflow when removing quotes in DCC filename.

Tested by semarie


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/04/23 08:35:55

Modified files:
	net/weechat    : Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
Security update to weechat-1.7.1
Fix a buffer overflow when removing quotes in DCC filename.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 09:59:57

Modified files:
	devel/py-ipython_genutils: Makefile distinfo 

Log message:
Update to py-ipython_genutils 0.2.0 and take maintainership.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/23 10:14:35

Modified files:
	x11/xwit/patches: patch-xwit_c 
Added files:
	x11/xwit/patches: patch-dsimple_c 

Log message:
fix really old C, make it build with clang, fix old varargs functions


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/23 11:15:16

Modified files:
	x11/sliderule  : Makefile 
	x11/sliderule/patches: patch-sr_c patch-xcalc_c 

Log message:
clean-up a great deal. compiles cleanly with clang now.
at least one or two bugs/oddities fixed.
trivial tweaks for snprintf, strlcpy, strlcat


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 11:26:53

ports/devel/py-ipykernel/patches

Update of /cvs/ports/devel/py-ipykernel/patches
In directory cvs.openbsd.org:/tmp/cvs-serv21376/patches

Log Message:
Directory /cvs/ports/devel/py-ipykernel/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 11:27:39

Modified files:
	devel/py-ipykernel: Makefile 
	devel/py-ipykernel/pkg: PLIST 
Added files:
	devel/py-ipykernel/patches: patch-setup_py 
Removed files:
	devel/py-ipykernel/pkg: PFRAG.no-python3 PFRAG.python3 

Log message:
Switch off install IPython kernels for Jupyter, otherwise cyclic
bdep with IPython. Thanks nigel@ for the report.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 11:45:20

Log message:
    Import py-numexpr 2.6.2, ok daniel@
    
    Numexpr is a fast numerical expression evaluator for NumPy. With it,                                                                                                   expressions that operate on arrays (like "3*a+4*b") are accelerated                                                                                                    and use less memory than doing the same calculation in Python.                                                                                                                                                                                                                                                                                In addition, its multi-threaded capabilities can make use of all your                                                                                                  cores, which may accelerate computations, most specially if they are                                                                                                   not memory-bounded (e.g. those using transcendental functions).
    
    Status:
    
    Vendor Tag:	shadchin
    Release Tags:	shadchin_20170423
    
    N ports/math/py-numexpr/Makefile
    N ports/math/py-numexpr/distinfo
    N ports/math/py-numexpr/pkg/DESCR
    N ports/math/py-numexpr/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/04/23 11:50:01

Modified files:
	math           : Makefile 

Log message:
+py-numexpr
+py-numexpr,python3


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/23 12:13:24

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Only use ED for clear screen if at the bottom, same as earlier fix to
clear end of screen.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/23 12:34:24

Added files:
	x11/rxvt/patches: patch-src_rxvt_h 

Log message:
clang supports __attribute__ but it's not a macro, so rxvt compatibility glue
ends up disabling it, thus breaking __only_inline very thoroughly


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/23 13:02:14

Modified files:
	games/mirrormagic/patches: patch-src_Makefile 

Log message:
too many inlines to fix, just use -fgnu89-inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 13:57:39

Modified files:
	net/oidentd    : Makefile 
Added files:
	net/oidentd/patches: patch-src_oidentd_util_c 
	                     patch-src_oidentd_util_h 

Log message:
Another function needlessly declared as inline.  Fixes clang builds.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/23 14:36:41

Modified files:
	benchmarks/speedtest-cli: Makefile distinfo 

Log message:
Update speedtest-cli to 1.0.5.

OK benoit@, jung@


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/04/23 14:52:33

Modified files:
	lang/eagle     : Makefile distinfo 
	lang/eagle/pkg : PLIST 

Log message:
Update to beta39.
In the port Makefile, put all the testing bits together in one place.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/23 15:04:56

Modified files:
	sys/net80211   : ieee80211.h ieee80211_mira.c 

Log message:
Handle unequal numbers of Tx and Rx streams in MiRA.
Problem reported by Colton Lewis on misc@
ok tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/04/23 15:05:47

Modified files:
	lang/jimtcl    : Makefile distinfo 
	lang/jimtcl/patches: patch-Makefile_in 
	lang/jimtcl/pkg: PLIST 

Log message:
Update to 0.77pl0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/23 15:09:39

Modified files:
	audio/libnjb   : Makefile 
	audio/libnjb/pkg: PLIST 

Log message:
Drop doxygen dependency/resulting docs.

ok jca@ sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/23 15:11:53

Modified files:
	audio/liblo    : Makefile 

Log message:
disable doxygen

ok jca@ sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/23 15:22:25

Log message:
    wallpaper setting utility for X
    
    The xwallpaper utility allows you to set image files as your X wallpaper. JPEG,
    PNG, and XPM file formats are supported, all of them being configurable and
    therefore no fixed dependencies.
    
    The wallpaper is also advertised to programs which support semi-transparent
    backgrounds.
    
    COMMENT tweak and "reads good to me" @landry, tweaks and ok jca@ jturner@
    
    Status:
    
    Vendor Tag:	rsadowski
    Release Tags:	rsadowski_20170423
    
    N ports/x11/xwallpaper/Makefile
    N ports/x11/xwallpaper/distinfo
    N ports/x11/xwallpaper/pkg/DESCR
    N ports/x11/xwallpaper/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/23 15:24:30

Modified files:
	x11            : Makefile 

Log message:
+xwallpaper


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/23 15:27:59

Log message:
    management tool for sensitive data
    
    KeePassXC is a community fork of KeePassX, the cross-platform port of KeePass
    for Windows. Every feature works cross-platform and was thoroughly tested on
    multiple systems to provide users with the same look and feel on every
    supported operating system. This includes the beloved Auto-Type feature.
    
    The complete database is always encrypted with the industry-standard AES (alias
    Rijndael) encryption algorithm using a 256 bit key. KeePassXC uses a database
    format that is compatible with KeePass Password Safe. Your wallet works offline
    and requires no Internet connection.
    
    portcheck friendly version and ok from giovanni@, ok jca@
    
    Status:
    
    Vendor Tag:	rsadowski
    Release Tags:	rsadowski_20170423
    
    N ports/security/keepassxc/Makefile
    N ports/security/keepassxc/distinfo
    N ports/security/keepassxc/pkg/DESCR
    N ports/security/keepassxc/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/23 15:28:29

Modified files:
	security       : Makefile 

Log message:
+keepassxc


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 15:30:24

Added files:
	x11/driftnet/patches: patch-src_packetcapture_c 
	                      patch-src_packetcapture_h 
	                      patch-src_tmpdir_c patch-src_tmpdir_h 

Log message:
use extern inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 15:45:58

Modified files:
	graphics/evince: Makefile 

Log message:
Fix build with clang by passing -Wno-error=format-nonliteral to CFLAGS.

breakage reported by espie@
ok jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/23 15:47:37

Modified files:
	multimedia/x265: Makefile distinfo 

Log message:
Update to x265-2.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 15:51:43

Modified files:
	net/putty      : Makefile 

Log message:
force WARNINGOPTS in MAKE_FLAGS to disable -Werror


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 16:02:29

Modified files:
	sysutils/colortail/patches: patch-TailFile_h patch-TailFile_cc 
	                            patch-Colorizer_cc 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 16:02:48

Modified files:
	sysutils/colortail/patches: patch-OptionsParser_cc 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 16:13:36

Modified files:
	net/librsync   : Makefile distinfo 
	net/librsync/pkg: PLIST 

Log message:
Update to librsync-2.0.0

- mark a few private functions as static inline.  Fixes build with
clang, and remove a few global symbols from the shared lib
- switch to cmake

"reads good" danj@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 16:18:32

Modified files:
	sysutils/colortail: Makefile 
	sysutils/colortail/patches: patch-CfgFileParser_cc 
	                            patch-Colorizer_cc 
	                            patch-OptionsParser_cc 
	                            patch-TailFile_cc patch-TailFile_h 
Added files:
	sysutils/colortail/patches: patch-CfgFileParser_h 
	                            patch-ColorTail_cc patch-Info_cc 
	                            patch-Usage_cc 

Log message:
iostream.h -> iostream, etc.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 16:24:30

Modified files:
	sysutils/apcd  : Makefile 
Added files:
	sysutils/apcd/patches: patch-apcd_Makefile patch-apcmon_Makefile 
	                       patch-libmy_Makefile 

Log message:
don't use -Werror


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/23 16:31:12

Modified files:
	graphics/exiftran/files: Makefile.exiftran 

Log message:
fix linking with lld


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/23 17:06:57

Modified files:
	devel/py-sh    : Makefile distinfo 

Log message:
Update to py-sh 1.12.13. Take maintainership.
OK Johan Huldtgren (previous MAINTAINER).


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/23 17:11:49

Modified files:
	lang/cython    : Makefile distinfo 

Log message:
Update to cython 0.25.2. Take maintainership.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 19:10:37

Modified files:
	sysutils/incron: Makefile 
	sysutils/incron/patches: patch-icd-main_cpp patch-inotify-cxx_h 

Log message:
Missing includes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 19:22:48

Added files:
	sysutils/inotify-tools/patches: patch-src_Makefile_am 

Log message:
Drop -Werror, fix stupid error with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 19:41:09

Added files:
	sysutils/mtools/patches: patch-mainloop_c 

Log message:
Fix abuse of __attribute__ that breaks with clang

Stolen from natano@ in
https://lists.gnu.org/archive/html/info-mtools/2014-02/msg00000.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 19:42:35

Modified files:
	sysutils/pftop : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 19:46:06

Modified files:
	sysutils/pftop : Makefile 
	sysutils/pftop/patches: patch-pftop_c 

Log message:
Mark some inline functions as static to fix clang builds


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:03:26

Modified files:
	sysutils/tpb/patches: patch-man_tpb_1 patch-src_cfg_c 

Log message:
regen patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:08:05

Added files:
	sysutils/tpb/patches: patch-configure 

Log message:
Fix autoconf test to not use a nested function, breaks with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:09:42

Modified files:
	sysutils/wmcube: Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:14:04

Modified files:
	sysutils/wmcube: Makefile 
Added files:
	sysutils/wmcube/patches: patch-wmgeneral_list_h 

Log message:
Drop inline, fixes build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:15:03

Modified files:
	sysutils/wmmon : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:17:08

Modified files:
	sysutils/wmmon : Makefile 
Added files:
	sysutils/wmmon/patches: patch-wmgeneral_list_h 

Log message:
Drop inline, fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:20:12

Modified files:
	sysutils/xuvmstat: Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/23 20:21:22

Modified files:
	sysutils/xuvmstat/patches: patch-xuvmstat_c 

Log message:
Rename variable to avoid clash with function cexp.  Fixes clang build


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/23 21:29:08

Modified files:
	devel/sdl-pango/patches: patch-src_SDL_Pango_h 

Log message:
Freetype headers no longer define __FT2_BUILD_UNIX_H__.
unifdef __FT2_BUILD_UNIX_H__ around a prototype to fix the build with
clang.

ok dcoppa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/04/23 21:55:45

Modified files:
	devel/jd-gui   : Makefile 

Log message:
change MODJAVA_VER to make jg-gui works again.
ok sthen@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/24 00:36:20

Modified files:
	devel/harfbuzz : Makefile distinfo 

Log message:
Update to harfbuzz-1.4.6.


CVSROOT:	/cvs
Module name:	src
Changes by:	ratchov@cvs.openbsd.org	2017/04/24 00:45:56

Modified files:
	usr.bin/midiplay: midiplay.c 

Log message:
Print usage on stderr as do other programs. From Michael
Bombardieri <mb at ii.net>, thanks.


CVSROOT:	/cvs
Module name:	src
Changes by:	ratchov@cvs.openbsd.org	2017/04/24 00:47:41

Modified files:
	usr.bin/aucat  : aucat.1 

Log message:
Fix typos. From Michael W. Bombardieri <mb at ii.net>. Thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/24 01:07:25

Modified files:
	sbin/iked      : parse.y 

Log message:
Fix configuration of ASN1_DN IDs.

Public key authentication uses public key files that are stored in the
/etc/iked/pubkeys/ directory where the IKE IDs are encoded as filenames.
This does not simply work with ASN1_DNs where the IDs include slashes
and other special characters. Instead of breaking and failing when an
ASN1_DN is configured, simply skip the public key lookup but allow
to use it with certificates or PSKs.

Reported and fix tested by Igor V. Gubenko - Thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/24 01:11:17

Modified files:
	graphics/ansilove: Makefile distinfo 

Log message:
Update ansilove to 3.0.6.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/24 01:14:27

Modified files:
	usr.sbin/vmd   : dhcp.c 

Log message:
Don't overflow the allocated DHCP response buffer.

When copying the DHCP/BOOTP response into the allocated buffer, use
the calculated response length instead of the maximum size of a DHCP
packet.  The response length was verified correctly but the very last
step missed to use it.

Found by Caspar Schutijser and malloc.conf(5) "S"

OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/04/24 01:31:43

Modified files:
	x11/gnustep/graphos: Makefile distinfo 
	x11/gnustep/graphos/pkg: PLIST 

Log message:
Update to 0.6


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/24 01:52:21

Modified files:
	emulators/sdlmame: Makefile 
	emulators/sdlmess: Makefile 
Added files:
	emulators/sdlmame/patches: patch-src_emu_webengine_c 
	emulators/sdlmess/patches: patch-src_emu_webengine_c 

Log message:
Fix error checks (and clang builds while here)

ok fcambus@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/24 02:09:13

Modified files:
	sys/arch/arm64/arm64: trap.c 

Log message:
Stop dumping registers on "normal" segmentation faults.  Do print the contents
of the esr_el1 register for unhandled userland exceptions (and continue to
dump the registers in that case).

Handle breakpoint traps and make sure we call refreshcreds() on userland traps.

ok jsg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 02:46:19

Modified files:
	misc/sent      : Makefile 
	misc/sent/patches: patch-config_mk 

Log message:
Fix local patch which removes -lm from linker invocation. Fixes with lld.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 02:47:58

Modified files:
	databases/mariadb: Makefile 
	databases/mariadb/patches: patch-client_CMakeLists_txt 
	                           patch-tests_CMakeLists_txt 

Log message:
Add ${SSL_LIBRARIES} to our patches that change client/test binaries to
being dynamically linked. Fix with lld. ok Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 03:08:06

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
add comments to describe CLANG_ARCHS and LLVM_ARCHS


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 03:30:00

Modified files:
	www/py-jwt     : Makefile distinfo 
	www/py-jwt/pkg : PLIST 

Log message:
update to py-jwt 1.5.0 and enable tests, from maintainer Johan Huldtgren


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/24 03:31:31

Modified files:
	sys/dev/pci    : if_iwm.c if_iwmreg.h 

Log message:
Implement support for multiple packets per receive DMA buffer in iwm(4).

We can now clear SINGLE_FRAME_MSK in the receive configuration register.
Linux has not set this bit in years, and Dragonfly stopped setting it
in commit b5eb43f0280bbcfd26af51cf5a4b8e8ff3590b67.
This is a prerequisite for monitor mode since the firmware seems to ignore
the SINGLE_FRAME_MSK bit while running in monitor mode and sends us garbage.

Tested on 7260, 7265, and 8260 devices.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 03:32:14

Modified files:
	security/py-oauthlib: Makefile distinfo 

Log message:
update py-oauthlib to 2.0.2, from maintainer Johan Huldtgren


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/24 03:33:11

Modified files:
	net/ysmv7/patches: patch-src_man_ysm_1 

Log message:
regen patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/24 03:33:44

Added files:
	net/ysmv7/patches: patch-src_YSM_Setup_c 

Log message:
inline->static inline; fixes clang builds


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 03:36:40

Modified files:
	textproc/enchant: Makefile 

Log message:
Use LIBCXX to generate list of C++ libs to add to LDFLAGS rather than a
hardcoded -lstdc++. Unbreaks clang/libc++ arches. ok aja@

Not the cleanest fix ever but enchant blocks a large number of ports
and removing the -l completely results in failures in gnome/todo and
gnome/calendar. XXX added!


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 03:48:17

Added files:
	comms/zmtx-zmrx/patches: patch-zmrx_c patch-zmtx_c 
Removed files:
	comms/zmtx-zmrx/patches: patch-01 patch-02 

Log message:
regen patches under standard names


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/24 03:48:42

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Implement monitor mode support for iwm(4).

The magic commands to capture raw 802.11 frames on e.g. channel 1 are:
ifconfig iwm0 mediaopt monitor chan 1
tcpdump -n -i iwm0 -y IEEE802_11_RADIO -s 4096 -w /tmp/iwm.pcap
ifconfig iwm0 -mediaopt monitor -chan


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/24 03:50:04

Modified files:
	share/man/man4 : iwm.4 

Log message:
Document monitor mode support in iwm(4).


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/24 03:53:43

Modified files:
	share/man/man4 : iwm.4 

Log message:
Document support for 3168 and 8265 devices in iwm(4).


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 04:14:05

Modified files:
	comms/zmtx-zmrx: Makefile 
	comms/zmtx-zmrx/patches: patch-zmrx_c patch-zmtx_c 
Added files:
	comms/zmtx-zmrx/patches: patch-makefile patch-zmdm_c 
	                         patch-zmdm_h 

Log message:
clang and other fixes for zmtx-zmrx:

add prototypes
add missing system headers
add missing return values in non-void functions
64-bit time_t format string fix found by clang
honour CFLAGS
don't call rx_raw(int timeout) with "rx_raw()", use a sane timeout


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 04:38:52

Modified files:
	audio/squeezelite: Makefile 

Log message:
needs more -l to avoid relying on NEEDED; fixes with modern linkers


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 05:52:05

Modified files:
	sysutils/rancid: Makefile distinfo 
	sysutils/rancid/pkg: PLIST 

Log message:
update to rancid-3.6.2, from maintainer Pavel Korovin.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/24 06:18:04

Modified files:
	app/cwm        : client.c cwmrc.5 

Log message:
For {h,v}tile, instead of keeping the master client's {h,v} geometry, expand it
to %50 of the area, then fill in the remaining space with the other clients in
the same group; from Gerrit Meyerheim.

support from ajacoutot.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/24 06:27:32

Modified files:
	app/cwm        : client.c 

Log message:
Raise the previously focused window, instead of the previous window in the
cycle list; seems to match behaviour of other wm's; from Walter Alejandro
Iglesias.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/24 07:20:46

Modified files:
	sys/dev/pci    : if_ix.c 

Log message:
Since rev 1.1 ix has attempted to require a 64 bit BAR, the test for
this was wrong and was corrected at the end of last year in rev 1.140.
Before then a 64 bit BAR was not enforced as the test was wrong.

It turns out there exist 82598 parts which have a 32 bit BAR so change
the test to only require a memory BAR and not a 64 bit memory BAR.

Problem reported by Robert Blacquiere. ok mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 07:26:16

Modified files:
	databases/qdbm : Makefile 
	databases/qdbm/patches: patch-Makefile_in 
Removed files:
	databases/qdbm/patches: patch-configure 

Log message:
use MAKE_FLAGS rather than patching configure to override optimizer
flags; this fixes opt flags for some files which avoided the previous
fix

avoid "-fomit-frame-pointer -fforce-addr -fno-omit-frame-pointer -fno-force-addr"


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/24 07:31:19

Modified files:
	app/cwm        : client.c 

Log message:
sort


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 07:35:23

Modified files:
	lang/erlang/16 : Makefile 
	lang/erlang/17 : Makefile 
	lang/erlang/18 : Makefile 
	lang/erlang/19 : Makefile 
Added files:
	lang/erlang/16/patches: patch-lib_wx_c_src_wxe_impl_cpp 
	lang/erlang/17/patches: patch-lib_wx_c_src_wxe_impl_cpp 
	lang/erlang/18/patches: patch-lib_wx_c_src_wxe_impl_cpp 
	lang/erlang/19/patches: patch-lib_wx_c_src_wxe_impl_cpp 

Log message:
fix "ordered comparison between pointer and zero"


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/24 07:35:25

Modified files:
	app/cwm        : search.c 

Log message:
Move queue init to caller so it's only called once in a few cases.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/24 07:54:28

Modified files:
	sys/arch/octeon/conf: files.octeon 
	sys/arch/octeon/octeon: machdep.c 
Added files:
	sys/arch/octeon/octeon: cn3xxx.dts cn3xxx_dts.S 

Log message:
Add an fdt blob for octeon systems whose firmware does not provide
a device-tree. It will be needed later when more device drivers
are attached using fdt.

OK kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/24 07:58:39

Modified files:
	share/man/man3 : intro.3 

Log message:
update for the llvm libs; help/ok kettenis


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/24 08:10:19

Modified files:
	sys/arch/octeon/dev: octeon_iobus.c 

Log message:
Process fdt before iobus devices. Needed later when interrupt and
MDIO controller drivers are attached using fdt.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/24 08:36:44

Modified files:
	x11            : Makefile 

Log message:
typo


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 08:55:46

Added files:
	textproc/jq/patches: patch-Makefile_in 

Log message:
Don't use -static-libtool-libs, our libtool doesn't handle it and passes it
straight through to the compiler, which causes an error with clang.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/24 08:58:36

Modified files:
	usr.sbin/dhcpd : conflex.c confpars.c dhcp.c dhcpd.conf.5 
	                 dhcpd.h dhctoken.h 

Log message:
Add 'echo-client-id' statment, so that RFC 6842 behaviour can be
turned off for those clients and networks that find it impossible to
move past RFC 2131. Modelled on the same statement in recent ISC
versions, though we default to 'on' (a.k.a. RFC 6842) rather that
'off' (a.k.a. RFC 2131).

Problems reported by Bastien Durel (Xerox Phaser 6022 printer) and
Bryan Vyhmeister (Hon Hai Precision router) via misc@. Thanks!


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/24 09:06:11

Modified files:
	app/cwm        : search.c 

Log message:
search_match_path() isn't supposed to return anything.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kurt@cvs.openbsd.org	2017/04/24 09:25:49

Modified files:
	devel/jdk/1.8  : Makefile 
Added files:
	devel/jdk/1.8/patches: patch-hotspot_src_os_bsd_vm_os_bsd_cpp 
	                       patch-hotspot_src_share_vm_opto_loopPredicate_cpp 

Log message:
- fix clang + fastdebug issue in loopPredicate.cpp
- use HW_PHYSMEM64 to correct assert in fastdebug


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/24 09:45:32

Modified files:
	faq            : upgrade61.html 

Log message:
add a sentence making more explicit that manual upgrades need to be
followed by the same 'after upgrading' steps as the bsd.rd upgrades.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/24 09:47:02

Modified files:
	security/gnupg2: Makefile 
	security/gnupg2/pkg: README 

Log message:
security/gnupg2: Add instructions to README for Yubikeys.

From Pavel Korovin, OK abieber@. Thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 10:25:05

Modified files:
	databases/p5-DBD-SQLite: Makefile 
	databases/p5-DBD-SQLite/patches: patch-Makefile_PL 

Log message:
Don't define SQLITE_ENABLE_COLUMN_METADATA. This is used in DBD::SQLite's code
and should match the status for the sqlite build. (Normally DBD::SQLite uses
its own copy of the library, but we patch to use ports sqlite instead).
Fixes runtime breakage with clang, fixes "make test" with gcc, but somehow
runtime seemed to work with gcc..?!


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 10:25:20

Modified files:
	databases/sqlite3: Makefile 

Log message:
add a comment about -DSQLITE_ENABLE_COLUMN_METADATA and DBD::SQLite


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/24 11:20:05

Modified files:
	x11/gnome/calendar: Makefile distinfo 

Log message:
update to gnome-calendar-3.24.1


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/24 12:05:52

Modified files:
	usr.sbin/dhcpd : dhcpd.conf.5 

Log message:
a little more consistent text for previous; ok krw


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/24 12:07:25

Modified files:
	shells/osh     : Makefile distinfo 

Log message:
Update to osh 4.3.1, reminded by J.A. Neitzel (upstream).


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/24 12:09:25

Modified files:
	devel/bullet   : Makefile distinfo 
	devel/bullet/patches: 
	                      patch-examples_ExampleBrowser_CMakeLists_txt 
	devel/bullet/pkg: PLIST 
Added files:
	devel/bullet/patches: patch-examples_BasicDemo_CMakeLists_txt 
	                      patch-examples_OpenGLWindow_CMakeLists_txt 
	                      patch-examples_SharedMemory_CMakeLists_txt 
	                      patch-examples_SimpleOpenGL3_CMakeLists_txt 

Log message:
Update to Bullet 2.86.1.  From David CARLIER + shlib bumps.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/24 12:15:16

Modified files:
	sys/arch/arm/arm: cpu.c cpufunc.c 
	sys/arch/arm/include: armreg.h 

Log message:
Add support for Cortex-A12.  Even though ARM rebranded these as Cortex-A17
they have a different ID from "real" Cortex-A17 cores.

ok phessler@, patrick@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/24 12:16:03

Modified files:
	x11/driftnet   : Makefile 
	x11/driftnet/patches: patch-src_packetcapture_c 
	                      patch-src_packetcapture_h 
	                      patch-src_tmpdir_c patch-src_tmpdir_h 

Log message:
extern inline changes broke gcc; just get rid of them


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/24 14:27:59

Modified files:
	distrib/miniroot: install.sub 

Log message:
Introduce a new function parse_hn_line() that replaces the existing
hostname.if(5) parsing code in ifstart().

- change v6_config()
- replace rtsol with autoconf in "IPv6 addres for <if>" question
- write 'inet6 autoconf" to hostname.if file instead of rtsol
- add parse_hn_line() function with installer specific changes
- skip shell command and bridge config lines
- skip inet6 config (incl. dest lines) if there's no inet6 support
- skip dhcp config if there's no dhclient
- change ifstart() to use parse_hn_line()

Discussed with and positive feedback from many
'commit' deraadt@
conditional OK sthen@ (untested)


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/24 14:31:48

Modified files:
	etc            : netstart 

Log message:
Introduce a new function parse_hn_line() that replaces the existing
hostname.if(5) parsing code in ifstart().
Add a -n option to netstart to only print the interface configuration
commands instead of executing them.
Add a HN_DIR variable, that points to the directory of the hostname.if
files (default /etc) that allows for future regression tests.

- add new parse_hn_line() function
- change ifstart()
- rename $if to $_if
- don't ifconfig or ifconfig create if -n option is used
- replace hostname.if(5) parsing code with new parse_hn_line()
- just print configuration commands if -n option is used
- autoconf now happens in ifstart(), remove ifv6autoconf()
- introduce HN_DIR variable for the hostname.if file location
- add handling of the -n option to only print config commands
- ensure -n is only used if interfaces are specified as parameters

Discussed with and positive feedback from many
'commit' deraadt@
OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/24 14:33:58

Modified files:
	net/curl       : Makefile distinfo 
	net/curl/pkg   : PLIST 
Added files:
	net/curl/patches: patch-docs_cmdline-opts_Makefile_in 
	                  patch-src_Makefile_in 

Log message:
Update to 7.54.0.  Includes fix for
CVE-2017-7468: TLS session resumption client cert bypass (again)


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/04/24 14:35:35

Modified files:
	usr.sbin/tcpdump: print-bgp.c 

Log message:
Print bgp administrative shutdown messages (draft-ietf-idr-shutdown)
From Job Snijders <job -AT instituut -DOT- net>, thanks!

ok canacar@, deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/24 14:44:25

Modified files:
	distrib/notes  : m4.common 

Log message:
Replace 'rtsol' with 'autoconf' to reflect the change in the installer.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/24 14:50:42

Modified files:
	share/man/man5 : myname.5 

Log message:
'rtsol' has been removed from hostname.if(5) recently.

OK jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/24 14:51:24

Modified files:
	archivers/lzip/lunzip: Makefile distinfo 

Log message:
Update to lunzip 1.9.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/24 15:00:27

Modified files:
	lang/cython    : Makefile 
	devel/py-sh    : Makefile 

Log message:
Tabs/spaces.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/24 16:06:32

Modified files:
	textproc/gxml/patches: patch-Makefile_in 

Log message:
Pushed upstream.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/24 17:06:09

Modified files:
	usr.bin/mandoc : libman.h libmdoc.h man.c man.h man_hash.c 
	                 man_html.c man_macro.c man_term.c 
	                 man_validate.c mandocdb.c mdoc.c mdoc.h 
	                 mdoc_argv.c mdoc_hash.c mdoc_html.c 
	                 mdoc_macro.c mdoc_man.c mdoc_markdown.c 
	                 mdoc_state.c mdoc_term.c mdoc_validate.c roff.c 
	                 roff.h tree.c 

Log message:
Continue parser unification:
* Make enum rofft an internal interface as enum roff_tok in "roff.h".
* Represent mdoc and man macros in enum roff_tok.
* Make TOKEN_NONE a proper enum value and use it throughout.
* Put the prologue macros first in the macro tables.
* Unify mdoc_macroname[] and man_macroname[] into roff_name[].


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/25 00:22:08

Modified files:
	databases/soprano: Makefile 

Log message:
disable doxygen

CONFIGURE_ARGS advice from and ok jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/25 00:44:35

Modified files:
	usr.sbin/vmd   : vm.c 

Log message:
spacing


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 02:07:35

Modified files:
	net/ircd-hybrid: Makefile distinfo 
	net/ircd-hybrid/patches: patch-doc_reference_conf 
	                         patch-src_ircd_c 

Log message:
Update to ircd-hybrid-8.2.22.

from Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 02:12:16

Modified files:
	graphics/graphite2: Makefile 
Added files:
	graphics/graphite2/patches: patch-src_FeatureMap_cpp 

Log message:
SECURITY fix for CVE-2017-5436.

prodded by naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 02:13:36

Modified files:
	graphics/graphite2: Tag: OPENBSD_6_1 Makefile 
Added files:
	graphics/graphite2/patches: Tag: OPENBSD_6_1 
	                            patch-src_FeatureMap_cpp 

Log message:
Merge a couple of patches from upstream to fix CVE-2017-5436.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 02:43:11

Modified files:
	x11/gnome/todo : Makefile distinfo 
	x11/gnome/todo/pkg: PLIST 

Log message:
Update to gnome-todo-3.24.0.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 02:46:27

Modified files:
	textproc/enchant: Makefile distinfo 
	textproc/enchant/pkg: DESCR PLIST 
Added files:
	textproc/enchant/patches: patch-configure_ac 
	                          patch-src_myspell_myspell_checker_cpp 
Removed files:
	textproc/enchant/patches: patch-configure 

Log message:
Update to enchant-1.6.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 03:00:26

Modified files:
	mail/gmime     : Makefile 

Log message:
Add a PORTROACH and take MAINTAINER.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 03:20:53

Modified files:
	mail/alpine    : Makefile distinfo 
	mail/alpine/patches: patch-alpine_pine-use_c patch-configure 
	                     patch-imap_src_mlock_mlock_c 
	                     patch-imap_src_osdep_unix_Makefile 
	                     patch-imap_src_tmail_tmail_c 
	                     patch-pith_conf_c 
Added files:
	mail/alpine/patches: patch-doc_man1_alpine_1 
Removed files:
	mail/alpine/patches: patch-doc_alpine_1 patch-pith_smime_c 

Log message:
Update to alpine-2.21.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 04:23:09

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
draft for compiler auto-selection, not ready yet.
move arch-defines.mk up so it can be used by it to load modules


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 05:21:14

Modified files:
	lang/php/7.0   : Makefile 
	lang/php/7.0/pkg: PLIST-main 

Log message:
regen PLIST for ax_check_compile_flag.m4


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 05:26:43

Modified files:
	lang/php       : php.port.mk 

Log message:
remove remnants of php 5.3/5.4, add support for MODPHP_VERSION=7.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 05:45:31

Modified files:
	multimedia/mkvtoolnix: Makefile 

Log message:
avoid hidden build dep on gtest; it's now picked up following the
gtest update and causes a failure with dpb junking


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/25 05:49:35

Modified files:
	usr.bin/tmux   : cmd-if-shell.c 

Log message:
if-shell doesn't need to queue its error message into a callback, and in
fact it can't do so because the item it was working with will have been
freed. Reported by Daniel Hahler.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/25 05:54:54

Modified files:
	geo/qgis       : Makefile distinfo 
	geo/qgis/patches: patch-src_core_CMakeLists_txt 

Log message:
Bugfix update to qgis 2.18.7


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/25 06:08:05

Modified files:
	app/cwm        : menu.c 

Log message:
Remove 'noresult' (and simplify) as it does nothing and makes the logic around
it needless. History doesn't show what this might have been used for in future
iterations.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 07:17:34

Log message:
    Import gmime30-3.0.0.
    
    GMime is a C/C++ library for parsing and creating messages using the
    Multipurpose Internet Mail Extension (MIME) as defined by several RFCs.
    
    ok robert@
    
    Status:
    
    Vendor Tag:	ajacoutot
    Release Tags:	ajacoutot_20170425
    
    N ports/mail/gmime30/distinfo
    N ports/mail/gmime30/Makefile
    N ports/mail/gmime30/pkg/PLIST
    N ports/mail/gmime30/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 07:18:14

Modified files:
	mail           : Makefile 

Log message:
+gmime30


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/25 07:40:33

Modified files:
	app/cwm        : search.c 

Log message:
The r1.36 menuq_add() conversion did this one wrong; fix by reverting to the
original code which adds to resultentry list, as opposed to the wrong one in
menuq_add(). Fixes crash noticed by at least Rickard Gustafsson.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 07:43:35

Modified files:
	www/nghttp2    : Makefile distinfo 

Log message:
update to nghttp2-1.22.0


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/25 07:52:09

Modified files:
	share/man/man4 : inet6.4 

Log message:
some ip6 setup notes; help/ok bluhm


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/25 08:46:23

Modified files:
	usr.bin/tmux   : cfg.c 

Log message:
Block the initial client if there is one until the configuration file
has finished loading.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 08:47:48

Modified files:
	x11/blackbox/patches: patch-src_Window_cc patch-src_blackbox_cc 
Added files:
	x11/blackbox/patches: patch-lib_Display_cc patch-lib_Texture_cc 
	                      patch-src_main_cc patch-util_bsetroot_cc 

Log message:
missing prototypes (not a full fix for clang, reminder is more "fun")


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 08:59:33

Added files:
	x11/blackbox/patches: patch-lib_Menu_cc 

Log message:
let automatic template lookup work. explicit types do not quite match
with libc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 09:00:55

Modified files:
	x11/blackbox   : Makefile 
	x11/blackbox/patches: patch-lib_Timer_cc patch-lib_Timer_hh 

Log message:
you can cheat only so far with not declaring timeval, so use the actual
definition.

clang++ pedantically figures out that operator ::timeval  isn't callable
(how would you name it!) so it emits warnings all the time, so just
kill it out.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/25 09:09:53

Modified files:
	archivers/xz   : Makefile 

Log message:
switch home page and master site to https


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/25 09:35:10

Modified files:
	usr.bin/tmux   : cmd-respawn-pane.c cmd-respawn-window.c 
	                 cmd-split-window.c environ.c job.c session.c 
	                 tmux.h 

Log message:
Do not update TERM into config file parsing has finished.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 09:47:41

Modified files:
	games/moria    : Makefile 
	games/moria/patches: patch-source_io_c patch-source_signals_c 
Added files:
	games/moria/patches: patch-source_externs_h 

Log message:
clang doesn't like int functions that don't return, but signal handlers
have returned void basically forever, so cut thru a bit of old-style cruft
so it compiles and runs more or less correctly (there's a shitload of stuff
happening in the handler... not my fight)

TODO: LINT_ARGS controls prototypes in externs.h... turning them on
triggers some issues with K&R vs ANSI in some functions.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/04/25 10:38:23

Modified files:
	usr.sbin/vmd   : virtio.c vmd.c 

Log message:
Generate randomized MAC addresses earlier to keep them across reboots.

OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/25 10:51:23

Modified files:
	net/curl       : Tag: OPENBSD_6_1 Makefile 
Added files:
	net/curl/patches: Tag: OPENBSD_6_1 patch-lib_url_c 
	                  patch-lib_urldata_h patch-lib_vtls_openssl_c 
	                  patch-lib_vtls_vtls_c 

Log message:
CVE-2017-7468: TLS session resumption client cert bypass (again)


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/04/25 11:09:03

Modified files:
	faq            : faq15.html 

Log message:
the ports log directory is /usr/ports/logs, not /usr/ports/log.

spotted by fenderq on freenode


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/04/25 11:33:16

Modified files:
	sbin/sysctl    : sysctl.c 

Log message:
Use strtonum instead of strto{,u}ll for simpler and better overflow
checking, make somaxconn and sominconn unsigned.

Issue reported by orge on freenode, thanks!
Input, patient explanations and ok deraadt, millert.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/25 11:45:50

Modified files:
	usr.sbin/syslogd: syslogd.8 syslogd.c 

Log message:
Allow syslogd(8) to listen on multiple addresses for incomming TLS
connections.  This expands the feature from UDP and TCP to syslog
over TLS.
input jmc@; OK millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 11:47:41

Added files:
	x11/qt4/patches: 
	                 patch-src_3rdparty_webkit_Source_JavaScriptCore_wtf_Atomics_h 

Log message:
give it a fighting chance with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/25 11:49:11

Modified files:
	regress/usr.sbin/syslogd: args-client-multilisten.pl 

Log message:
Test listening on multiple syslog over TLS sockets.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/25 12:05:39

Modified files:
	lang/vala      : Makefile distinfo 

Log message:
update to vala-0.36.2


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/25 12:20:52

Modified files:
	usr.bin/tmux   : grid.c tmux.h 

Log message:
When we write out the grid including escape sequences, an SGR 0 needs to
cause the colours to be written again. Also treat colours separately
from attributes so that RGB colours will work.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/25 12:30:29

Modified files:
	usr.bin/tmux   : screen-write.c tmux.h tty.c 

Log message:
Make full width panes try to play more nicely with terminal copy and
paste by avoiding explicit line wraps if we think the terminal will wrap
anyway.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/25 13:00:13

Modified files:
	net/curl       : Tag: OPENBSD_6_0 Makefile 
Added files:
	net/curl/patches: Tag: OPENBSD_6_0 patch-lib_url_c 
	                  patch-lib_urldata_h patch-lib_vtls_openssl_c 
	                  patch-lib_vtls_vtls_c 

Log message:
CVE-2017-7468: TLS session resumption client cert bypass (again)


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/25 13:05:53

Modified files:
	net/libktorrent: Makefile 

Log message:
disable doxygen

ok jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/25 13:17:33

Modified files:
	etc            : netstart 

Log message:
Unbreak netstart for multiple inteface configurations like trunk
or carp. Ensure that the noglob option is disabled at the end of
parse_hn_line() and ifstart().

Reported by Christer Solskogen and Stefan Wollny, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/04/25 13:24:05

Modified files:
	distrib/miniroot: install.sub 

Log message:
Unbreak multiple interface configurations like trunk or carp. Ensure
that the noglob option is disabled at the end of parse_hn_line()
and ifstart().


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 13:33:06

Added files:
	x11/qt4/patches: 
	                 patch-src_3rdparty_webkit_Source_WebCore_html_HTMLImageElement_cpp 

Log message:
fix pointer comparison


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/25 14:02:31

Modified files:
	net            : Makefile 
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 
Removed files:
	net/trafd      : Makefile distinfo 
	net/trafd/patches: patch-Makefile patch-lib_addrtoname_c 
	                   patch-lib_interfaces_c patch-trafd_trafd_h 
	                   patch-trafd_trafdump patch-trafd_traffic_c 
	                   patch-trafd_trafsave patch-trafd_trafstart 
	                   patch-trafd_trafstop 
	net/trafd/pkg  : DESCR PLIST 

Log message:
Remove trafd: old, unmaintained pcap code that runs as root

(Bonus: no need to fix it to build with clang.)

ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 14:08:51

Added files:
	x11/qt4/patches: patch-tools_linguist_linguist_messagemodel_cpp 

Log message:
pointers don't <=


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 14:09:35

Modified files:
	sysutils/firmware/vmm: Makefile distinfo 
	sysutils/firmware/vmm/files: config 
Added files:
	sysutils/firmware/vmm/patches: patch-src_optionroms_c 

Log message:
enable SGABIOS option rom


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 14:10:02

Modified files:
	textproc/icu4c : Makefile 
Added files:
	textproc/icu4c/patches: patch-source_common_utext_cpp 
	                        patch-source_test_intltest_utxttest_cpp 
	                        patch-source_test_intltest_utxttest_h 

Log message:
SECURITY fix for CVE-2017-7867 and CVE-2017-7868.
Merged from upstream with help from espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 14:11:53

Modified files:
	sysutils/firmware/vmm: Makefile 

Log message:
set ONLY_FOR_ARCHS


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 14:11:58

Modified files:
	textproc/icu4c : Tag: OPENBSD_6_1 Makefile 
Added files:
	textproc/icu4c/patches: Tag: OPENBSD_6_1 
	                        patch-source_common_utext_cpp 
	                        patch-source_test_intltest_utxttest_cpp 
	                        patch-source_test_intltest_utxttest_h 

Log message:
MFC:
SECURITY fixes for CVE-2017-7867 and CVE-2017-7868.
Merged from upstream with help from espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/25 14:30:57

Modified files:
	textproc/enchant: Makefile 

Log message:
Temporarily re-add bdep on x11/dbus-glib until I have time to properly rape
autoshit.


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/04/25 15:13:15

Modified files:
	usr.bin/libtool/LT/Mode: Link.pm 

Log message:
Have libtool ignore 'static-libtool-libs'. Previously it was unsupported and
passed straight through to the compiler, which gcc doesn't mind, but clang is
unhappy about.  Suggestion/ok aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/25 15:15:57

Removed files:
	textproc/jq/patches: patch-Makefile_in 

Log message:
Remove patch obsoleted by usr.bin/libtool/LT/Mode/Link.pm r1.35


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/25 15:45:02

Modified files:
	editors/beaver : Makefile 
Added files:
	editors/beaver/patches: patch-src_editor_c 

Log message:
Updated HOMEPAGE and MASTER_SITES + s/inline/static inline/ for clang

A newer version is available, any takers?


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/25 16:51:23

Modified files:
	comms/mgetty+sendfax: Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/04/25 16:56:25

Added files:
	comms/mgetty+sendfax/patches: patch-g3_g3cat_c patch-g3_pbm2g3_c 

Log message:
inline->static inline to fix clang build


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 19:39:54

Added files:
	x11/kde/base3/patches: 
	                       patch-kicker_applets_launcher_easyvector_h 

Log message:
clang has strict rules for template evaluation.
see http://blog.llvm.org/2009/12/dreaded-two-phase-name-lookup.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/25 19:47:16

Added files:
	x11/kde/base3/patches: 
	                       patch-kcontrol_kfontinst_kfontinst_Fontmap_cpp 

Log message:
strchr const-correct


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/04/25 20:37:03

Modified files:
	devel/sdl-pango: Makefile 
	devel/sdl-pango/patches: patch-src_SDL_Pango_h 

Log message:
Reinstate an ifdef around a prototype which includes FT_Bitmap as some
users don't include freetype headers.  Instead of __FT2_BUILD_UNIX_H__
use FT2BUILD_H_.  Fixes problems building games/tuxpaint reported by
naddy and sthen. ok aja.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/25 20:43:34

Modified files:
	share/man/man9 : VOP_LOOKUP.9 

Log message:
We are men of action. Lies do not become us.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/25 23:55:27

Modified files:
	share/man/man9 : VOP_LOOKUP.9 

Log message:
tweak previous;


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/26 01:03:39

Modified files:
	net/py-libcloud: Makefile distinfo 
	net/py-libcloud/pkg: PLIST 

Log message:
Update to py-libcloud-2.0.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/26 01:05:24

Modified files:
	sys/arch/amd64/include: pcb.h 

Log message:
Fix a typo relating to savefpu alignment

ok kettenis


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/26 01:53:17

Modified files:
	sys/dev/ic     : ar5008.c 
	sys/dev/pci    : if_iwm.c if_iwn.c 

Log message:
Tell MiRA about the actual number of retries instead of pretending that
a frame which was retried N times was retried just once.
This punishes retry-heavy data rates even more and should reduce latency.
It does not seem to have a noticable effect on net throughput in my testing.
If this change causes throughput problems for anyone, let me know.
ok tb@ mlarkin@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/26 02:02:14

Modified files:
	sys/arch/i386/i386: vmm.c 

Log message:
Convert some hardcoded function names in printfs into %s / __func__.

Some of these pointed out by Michael W. Bombardieri, I went through
the file and fixed the rest.

No functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/26 02:15:05

Modified files:
	lang/php       : Makefile.inc 
Added files:
	lang/php/5.5/patches: patch-aclocal_m4 
	lang/php/5.6/patches: patch-aclocal_m4 
	lang/php/7.0/patches: patch-aclocal_m4 

Log message:
Don't hardcode libstdc++, pass it in from LIBCXX. Fixes build of Apache module
on libc++ arches (otherwise the nonexistent -lstdc++ caused libtool to generate
a static library instead of shared .so module). ok robert@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/26 02:19:09

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Remove the size argument of iwm_rx_addbuf() and use a constant internally.
All callers were passing the same constant IWM_RBUF_SIZE, which is derived
from the smallest RX buffer the hardware supports (4k). Smaller sizes don't
make sense anyway and larger sizes are not on our horizon for now.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/26 03:19:56

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Get rid of convoluted macros in iwm's receive code path.

Since we now sync the entire Rx DMA buffer the SYNC_RESP_STRUCT() macro which
was used to sync just parts of the buffer can be replaced by assignments.
The SYNC_RESP_PTR() macro was already unused so just remove it.
The ADVANCE_RXQ() macro was used just once so expand it in place.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/26 03:28:33

Modified files:
	net/telepathy/folks: Makefile 
Added files:
	net/telepathy/folks/patches: patch-tests_eds_Makefile_am 

Log message:
Re-enable the modular tests. They can be build now.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/26 03:53:28

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
Convert some hardcoded function names in printfs into %s / __func__.

Some of these pointed out by Michael W. Bombardieri, I went through
the file and fixed the rest.

No functional change.


CVSROOT:	/cvs
Module name:	src
Changes by:	henning@cvs.openbsd.org	2017/04/26 04:42:38

Modified files:
	sbin/iked      : iked.h ikev2.c ikev2_msg.c 

Log message:
cope with IP address changes. before, we were trying to resend the msg
with the no-longer-available address over and over and over, requiring
iked to be restarted eventually. instead, on EADDRNOTAVAIL, schedule
SA deletion so a new one is set up shortly thereafter. ok reyk mikeb


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/26 07:13:47

Modified files:
	net/telepathy/folks: Makefile distinfo 
	net/telepathy/folks/pkg: PLIST 
Removed files:
	net/telepathy/folks/patches: patch-tests_eds_Makefile_am 

Log message:
Update to a newer git snapshot which includes the patch.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/26 07:14:28

Modified files:
	usr.bin/vi/common: exf.c 

Log message:
Remove extraneous ", NULL" in the assignment of msgstr which was
leftover from when msg_cat() was removed.  From Anton Lindqvist


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/04/26 08:53:11

Modified files:
	etc/mtree      : 4.4BSD.dist 
	distrib/sets/lists/base: mi 
	distrib/sets/lists/man: mi 
	share/man/man8 : Makefile 
	usr.sbin/eeprom: Makefile 
Added files:
	share/man/man8/man8.arm64: Makefile 

Log message:
Install arm64 manpages: eeprom(8), MAKEDEV(8).  ok phessler kettenis


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/26 08:58:38

Modified files:
	audio/mp3blaster: Makefile 
Added files:
	audio/mp3blaster/patches: patch-src_global_cc 

Log message:
don't mix char* and const char*; fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/04/26 09:40:12

Modified files:
	www/p5-WWW-Mechanize-Shell: Makefile distinfo 

Log message:
update p5-WWW-Mechanize-Shell to 0.56


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/26 09:48:13

Modified files:
	x11/xfce4/xfce4-pulseaudio: Makefile distinfo 
	x11/xfce4/xfce4-pulseaudio/pkg: PLIST 

Log message:
Update to xfce4-pulseaudio, now shipping translations!


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/04/26 09:50:59

Modified files:
	sbin/pfctl     : pfctl.c pfctl_queue.c 
	sys/net        : hfsc.c hfsc.h 
	usr.bin/systat : pftop.c 

Log message:
Perform H-FSC root queue allocation in the kernel

Since only leaf queues can have packets assigned to them,
H-FSC requires the user specified root queue to have a
parent.  To simplify userland tools and the configuration
interface, the kernel can be leveraged to set it up.

ok henning


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/26 10:22:16

Modified files:
	sysutils/terraform: Makefile distinfo 

Log message:
Update to terraform-0.9.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/26 10:36:03

Modified files:
	astro/stellarium: Makefile 

Log message:
disable doxygen

ok ajacoutot@ landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	feinerer@cvs.openbsd.org	2017/04/26 11:29:58

Modified files:
	math/R         : Makefile distinfo 
	math/R/patches : patch-configure 
	math/R/pkg     : PLIST README 

Log message:
Update to R 3.4.0

OK pirofti@


CVSROOT:	/cvs
Module name:	www
Changes by:	benno@cvs.openbsd.org	2017/04/26 13:53:23

Modified files:
	faq            : index.html faq1.html faq5.html 

Log message:
show how to generate diffs, with cvs and git, so we can point
contributors to it.
ok tb@ tj@


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/26 14:10:12

Modified files:
	.              : lyrics.html 
Added files:
	images         : 61_right.jpg 

Log message:
Release the 6.1 song, "Winter of 95".  I have found a photo from late 97.
Unfortunately my camera and a lot of unprocessed film was stolen from my
truck around April 96, so I have no photos of the space that OpenBSD
started in.  (It was unprocessed because I was extremely poor - someone
who worked at a newspaper gifted me film, but processing was very expensive)
WAIT DO YOU KIDS KNOW WHAT FILM IS?


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/04/26 14:21:29

Modified files:
	.              : lyrics.html 

Log message:
sizes


CVSROOT:	/cvs
Module name:	ports
Changes by:	ian@cvs.openbsd.org	2017/04/26 14:34:32

Modified files:
	telephony/asterisk-openbsd-moh: Makefile distinfo 
	telephony/asterisk-openbsd-moh/pkg: PLIST 

Log message:
Add 6.1 song.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/26 15:07:22

Modified files:
	usr.sbin/dhcpd : dhcpd.conf.5 

Log message:
remove some repetitive text chunks; ok krw


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/26 15:10:42

Modified files:
	bin/md5        : md5.c 

Log message:
In -C mode, process all checksums that match the specified file(s),
not just the first one that matches.  OK deraadt@


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/04/26 15:10:54

Modified files:
	app/cwm        : calmwm.h client.c parse.y 

Log message:
Switch bwidth type; unfortunately X11 is inconsistent.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/26 15:11:02

Modified files:
	faq            : faq5.html 

Log message:
minor formatting tweak: display command in the usual fashion


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/26 15:17:48

Modified files:
	faq            : faq5.html 

Log message:
zap unnecessary path components for consistency with release(8)


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/04/26 15:25:43

Modified files:
	bin/ed         : glbl.c io.c main.c 

Log message:
silence clang warnings: add an extra pair of parentheses and stop
passing empty format strings to printf-family functions; ok millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/04/26 18:02:03

Modified files:
	share/man/man1 : gcc-local.1 
	gnu/gcc/gcc    : dwarf2.h dwarf2out.c 
	gnu/gcc/gcc/config/i386: i386.c i386.opt 
	gnu/gcc/gcc/doc: invoke.texi 

Log message:
add support for -msave-args in gcc on amd64

i got sick of not having arguments in ddb stack traces on amd64,
which is because amd64 passes arguments in registers, and it's
impossible to figure out where they go without dwarf info, and when
you have dwarf info it is complicated.

solaris has a simple solution for this. they tweaked their compilers
to accept an -msave-args option which makes functions store their
arguments on the stack, while maintaining compatability with the
System V AMD64 ABI. tools (eg, ddb) can then look at the stack to
get access to function arguments in traces.

this ports their changes to gcc 3 to our gcc.

ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/04/26 21:00:54

Modified files:
	www/nextcloud  : Makefile distinfo 
	www/nextcloud/patches: patch-version_php 
	www/nextcloud/pkg: PLIST 

Log message:
Update to 11.0.3.

OK kirby@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/26 23:46:51

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Revert if_iwm.c to the state of r1.170 because ETOOMANYDRAGONSATONCE.
Performance regression reported by deraadt@ and uvm_fault reported by fcambus@.
I will be poking further at this out of tree.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/26 23:49:32

Modified files:
	share/man/man4 : iwm.4 

Log message:
iwm(4) monitor mode support was backed out for now.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/04/27 00:14:23

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Restore if_iwm.c r1.173 (mira retry change) which got incarcerated by
the backout police even though it wasn't responsible for anything.
pointed out by tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/27 00:16:39

Modified files:
	sys/arch/amd64/amd64: fpu.c vmm.c vmm_support.S 
	sys/arch/amd64/include: cpufunc.h fpu.h vmmvar.h 

Log message:
vmm(4): proper save/restore of FPU context during entry/exit.

tested by reyk, dcoppa, and a few others.

ok kettenis@ on the fpu bits
ok deraadt@ on the vmm bits


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/27 00:22:11

Modified files:
	share/man/man1 : gcc-local.1 

Log message:
spelling;


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/27 00:49:05

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
use a more descriptive value from the VEI_DIR_xxx enum instead of a
hardcoded number. no functional change


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/27 01:15:35

Modified files:
	sys/arch/amd64/include: vmmvar.h 

Log message:
rename a struct that was denoted as "VMX only" to make it more clear
that it can be used in SVM and VMX.

no functional change


CVSROOT:	/cvs
Module name:	ports
Changes by:	dcoppa@cvs.openbsd.org	2017/04/27 01:54:49

Modified files:
	databases/hs-hedis: Makefile distinfo 

Log message:
Update to hedis-0.9.8


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 02:41:20

Modified files:
	mail/sylpheed  : Makefile 

Log message:
Add LIB_DEPENDS on x11/dbus-glib.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 02:42:53

Modified files:
	sysutils/ansible: Makefile 
Added files:
	sysutils/ansible/patches: 
	                          patch-lib_ansible_plugins_connection___init___py 

Log message:
unbreak become_method: su

from upstream via semarie, thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	dcoppa@cvs.openbsd.org	2017/04/27 02:43:26

Modified files:
	x11/hs-dbus    : Makefile distinfo 
	x11/hs-dbus/pkg: PLIST 

Log message:
Update to hs-dbus-0.10.13


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 02:46:49

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.44.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 02:47:00

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.81.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 02:51:48

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-153.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 03:00:01

Modified files:
	devel/meson    : meson.port.mk 

Log message:
Pass --sysconfdir.


CVSROOT:	/cvs
Module name:	ports
Changes by:	dcoppa@cvs.openbsd.org	2017/04/27 03:00:44

Modified files:
	x11/xmobar     : Makefile 
	x11/xmobar/patches: patch-xmobar_cabal 

Log message:
Compiling with --with-rtsopts=-V0 to reduce wakeups (issue #89)
(upstream git commit dfb5dbd6cc5342348fbb46bd117c226d5e8127e4)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 03:02:32

Modified files:
	devel/meson    : meson.port.mk 

Log message:
... and --mandir.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 03:06:58

Modified files:
	x11/gnome      : gnome.port.mk 

Log message:
Add a couple of XXX's wrt meson.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:13:19

Modified files:
	sysutils/beats : Makefile.inc 

Log message:
adjust for upcoming beats 5.3.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:14:40

Modified files:
	sysutils/beats/filebeat: Makefile distinfo 
	sysutils/beats/filebeat/pkg: PLIST README filebeat.rc 
Added files:
	sysutils/beats/filebeat/patches: patch-filebeat_filebeat_yml 
	                                 patch-libbeat_outputs_console_console_go 
Removed files:
	sysutils/beats/filebeat/patches: patch-filebeat_etc_filebeat_yml 

Log message:
update to filebeat-5.3.1

please note the configuration layout has changed between 1.x and 5.x:
https://www.elastic.co/guide/en/beats/libbeat/5.0/upgrading-1-to-5.html

also tested by sebastia@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:14:59

Modified files:
	sysutils/beats/packetbeat: Makefile distinfo 
	sysutils/beats/packetbeat/pkg: PLIST README packetbeat.rc 
Added files:
	sysutils/beats/packetbeat/patches: 
	                                   patch-packetbeat_packetbeat_yml 
Removed files:
	sysutils/beats/packetbeat/patches: 
	                                   patch-packetbeat_etc_packetbeat_yml 
	                                   patch-vendor_github_com_tsg_gopacket_pcap_pcap_go 

Log message:
update to packetbeat-5.3.1

please note the configuration layout has changed between 1.x and 5.x:
https://www.elastic.co/guide/en/beats/libbeat/5.0/upgrading-1-to-5.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:17:26

Log message:
    import metricbeat-5.3.1
    
    Collect metrics from your systems and services. From CPU to memory,
    Redis to Nginx, and much more, Metricbeat is a lightweight way to send
    system and service statistics.
    
    metricbeat absorbed topbeat:
    https://www.elastic.co/guide/en/beats/libbeat/5.0/upgrading-1-to-5.html#_upgrading_topbeat_to_metricbeat
    
    ok aja@
    
    Status:
    
    Vendor Tag:	jasper
    Release Tags:	jasper_20172704
    
    N ports/sysutils/beats/metricbeat/Makefile
    N ports/sysutils/beats/metricbeat/distinfo
    N ports/sysutils/beats/metricbeat/pkg/PLIST
    N ports/sysutils/beats/metricbeat/pkg/metricbeat.rc
    N ports/sysutils/beats/metricbeat/pkg/README
    N ports/sysutils/beats/metricbeat/pkg/DESCR
    N ports/sysutils/beats/metricbeat/patches/patch-metricbeat_metricbeat_yml
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:18:35

Removed files:
	sysutils/beats/topbeat: Makefile distinfo 
	sysutils/beats/topbeat/files: sigar_openbsd.go 
	sysutils/beats/topbeat/patches: 
	                                patch-vendor_github_com_elastic_gosigar_sigar_unix_go 
	sysutils/beats/topbeat/pkg: DESCR PLIST README topbeat.rc 

Log message:
remove topbeat, it's been superseded by metricbeat. the openbsd patches for
gosigar have been merged upstream and are now used by metricbeat.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:20:23

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
register topbeat removal


CVSROOT:	/cvs
Module name:	www
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:20:47

Modified files:
	faq            : current.html 

Log message:
note the beats update


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/27 03:21:40

Modified files:
	sysutils/beats : Makefile 

Log message:
+metricbeat
-topbeat
#hwsensorsbeat


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/27 04:23:19

Modified files:
	sys/arch/arm64/conf: GENERIC RAMDISK files.arm64 
	sys/arch/arm64/dev: mainbus.c mainbus.h simplebus.c 
	sys/arch/arm64/include: armreg.h 
Added files:
	sys/arch/arm64/arm64: cpu.c 

Log message:
Add code to identify the CPUs on arm64 systems.  The primary CPU is attached
and identified early on.  For the secondary CPUs this happens late, such that
the drivers we need to spin up CPUs, such as psci(4), will be available.

This also fixes some code in simplebus(4) where the return value of
OF_getprop() was not properly checked.

Heavily based on an earlier diff from drahn@.

ok drahn@, jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/27 04:57:05

Modified files:
	sys/arch/arm/armv7: armv7_a4x_io.S 
	sys/arch/arm64/dev: arm64_bus_space.c 

Log message:
Use (32-bit) word-sized access in the a4x bus space routine even if only
a byte or a half-word is needed.  Certain implementations of the Synopsis
Designware copy-and-paste logic blocks don't respond to transactions that
are smaller than a word.

Fixes the serial console on boards with a Rockchip RK3288.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/27 05:48:08

Modified files:
	sys/arch/alpha/alpha: machdep.c 
	sys/kern       : subr_prf.c 

Log message:
Unifdef KADB.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 05:53:12

Modified files:
	usr.bin/ssh    : scp.c 

Log message:
Avoid potential signed int overflow when parsing the file size.
Use strtoul() instead of parsing manually.  OK djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 06:41:55

Added files:
	audio/akode/patches: patch-akode_lib_audioconfiguration_h 
	                     patch-akode_lib_audioframe_h 

Log message:
struct and class are not 100% intercheangable. If you declare "class" in
a header, just declare "class public:"   in the other
shut up clang warnings.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 06:42:37

Added files:
	audio/akode/patches: 
	                     patch-akode_plugins_mpc_decoder_mppdec_requant_h 

Log message:
just for funzzies: clang catches include guard mistakes. I'm impressed.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 06:43:01

Added files:
	audio/akode/patches: 
	                     patch-akode_plugins_mpc_decoder_mppdec_synth_filter_cpp 

Log message:
don't redefine ptrdiff_t


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 06:44:03

Added files:
	audio/akode/patches: patch-akode_lib_converter_cpp 
	                     patch-akode_lib_crossfader_cpp 
	                     patch-akode_lib_fast_resampler_cpp 
	                     patch-akode_lib_volumefilter_cpp 

Log message:
don't reuse the same symbol to mean a different thing in a nested template
declaration. Yeah, you're going to use Arithm<S>.
No, you're declaring template <class X>Arithm  *in general*.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 07:12:38

Modified files:
	graphics/simple-scan: Makefile distinfo 
Removed files:
	graphics/simple-scan/patches: patch-src_ui_vala 

Log message:
Update to simple-scan-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 07:16:03

Modified files:
	databases/evolution-data-server/patches: 
	                                         patch-cmake_modules_SetupBuildFlags_cmake 
	mail/evolution/patches: 
	                        patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Tweak patch and link to BZ.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/04/27 07:30:54

Modified files:
	libexec/ftpd   : ftpcmd.y 

Log message:
Don't send multiple error messages in response to a single command

While a few commands (such as HELP and NOOP) are allowed in between
USER and PASS, most of the others are not.  However if such command
is issued, ftpd should abort the command evaluation early and reply
with "530 Please login with USER and PASS."

From form@, with input from deraadt@ and OK millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	dcoppa@cvs.openbsd.org	2017/04/27 07:31:33

Modified files:
	x11/p5-AnyEvent-I3: Makefile distinfo 

Log message:
Update to AnyEvent-I3-0.17


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/27 07:40:05

Modified files:
	usr.bin/ssh    : servconf.c 

Log message:
remove a static array unused since rev 1.306 spotted by clang
ok djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	dcoppa@cvs.openbsd.org	2017/04/27 08:16:20

Modified files:
	devel/lua-penlight: Makefile distinfo 

Log message:
Update to Penlight-1.5.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 08:28:35

Modified files:
	net/pidgin     : Makefile 

Log message:
While checking for sth I ran into the gettext MODULE, so drop it.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 09:35:36

Modified files:
	lib/libkeynote : keynote.y 

Log message:
Remove useless check for ks_env_table being NULL.  Since ks_env_table
is an array embedded in struct keynote_session it can never be NULL.
Quiets a clang warning.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 09:46:14

Modified files:
	lib/libpcap    : gencode.h 

Log message:
Remove the "volatile" attribute from bpf_error().  The "volatile"
attribute is an obsolete way of saying "noreturn".  clang doesn't
recognize it and the function is already marked __dead so it is
superfluous anyway.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/04/27 10:09:32

Modified files:
	usr.sbin/rebound: rebound.c 

Log message:
clang warns about some of the strlcpy arguments here, which aren't the
typical idiom because there's invisible size dependencies. rewrite some
of it to use memcpy, which makes clear the lengths are the same.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 10:23:14

Added files:
	textproc/wkhtmltopdf/patches: 
	                              patch-qt_src_3rdparty_webkit_Source_JavaScriptCore_wtf_Atomics_h 
	                              patch-qt_src_3rdparty_webkit_Source_WebCore_html_HTMLImageElement_cpp 

Log message:
clang fixes, same as qt4


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 10:30:25

Added files:
	www/phantomjs/patches: 
	                       patch-src_qt_src_3rdparty_webkit_Source_JavaScriptCore_wtf_Atomics_h 
	                       patch-src_qt_src_3rdparty_webkit_Source_WebCore_html_HTMLImageElement_cpp 

Log message:
same patches as qt4, more to come...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 10:31:18

Added files:
	www/phantomjs/patches: 
	                       patch-src_qt_src_corelib_tools_qiterator_h 

Log message:
steal the fix for clang compatibility that's in qt 4.8.7


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 10:32:32

Added files:
	www/phantomjs/patches: 
	                       patch-src_qt_src_3rdparty_webkit_Source_JavaScriptCore_wtf_NullPtr_h 

Log message:
auto-detection of nullptr fails with our libcxx right now, so just
hardcode that libcxx already defines the necessary bits


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/27 10:34:18

Modified files:
	sys/dev/acpi   : acpicpu.c 

Log message:
track size of pss allocation, so that length can be passed to free(9)
ok mlarkin


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/27 11:10:28

Modified files:
	mail/p5-Mail-SpamAssassin: Makefile 

Log message:
Drop maintainer, I'm moving away from this (rspamd is better).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 11:12:41

Added files:
	www/phantomjs/patches: 
	                       patch-src_qt_src_3rdparty_webkit_Source_WebCore_platform_Timer_cpp 
	                       patch-src_qt_src_3rdparty_webkit_Source_WebCore_platform_Timer_h 

Log message:
steal Timer class from qt4... the weird Ptr/Ref duplication and the
inline swap solves the absence of a process swap for clang++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 11:32:19

Modified files:
	x11/qt4/patches: patch-config_tests_unix_nis_nis_cpp 

Log message:
Well, all includes are in place, but redefining bool in C++ does not work,
especially with clang.


CVSROOT:	/cvs
Module name:	src
Changes by:	robert@cvs.openbsd.org	2017/04/27 11:41:47

Modified files:
	share/mk       : bsd.lib.mk 

Log message:
syspatch needs to create shared libs with the same object sequence instead
of randomizing the order so let's read the libs on the system and link the
same way in case a syspatch is being built


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/27 11:46:52

Modified files:
	x11/gnome      : gnome.port.mk 

Log message:
share the gnome module makefile with mate (to be imported) to avoid
duplication

ok ajacoutot@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 11:52:12

Added files:
	x11/qt4/patches: 
	                 patch-src_corelib_concurrent_qtconcurrentiteratekernel_cpp 

Log message:
forgot that one. The right definitions are in sys/time.h for us...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 12:02:16

Modified files:
	x11/qt4/patches: 
	                 patch-src_3rdparty_webkit_Source_JavaScriptCore_wtf_Atomics_h 

Log message:
typo


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/27 13:55:56

Modified files:
	net/tor        : Makefile distinfo 
	net/tor/patches: patch-src_config_torrc_sample_in 

Log message:
Update to 0.3.0.6.  For a detailed list of changes, see:
https://blog.torproject.org/blog/tor-0306-released-new-series-stable


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/04/27 14:00:39

Modified files:
	faq            : faq1.html 

Log message:
consistency: move . out of <a>


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:04:31

Modified files:
	games/xdeblock : Makefile 
	games/xdeblock/patches: patch-Imakefile patch-gamemain_c 
	                        patch-main_c 
Added files:
	games/xdeblock/patches: patch-dialog_c patch-file_c 
	                        patch-mapf_standard_mapf_txt 

Log message:
fix a segfault, several misspellings, and a clang error...


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/27 14:13:36

Modified files:
	comms/scmxx    : Makefile 
	comms/scmxx/patches: patch-src_Makefile_in 
Added files:
	comms/scmxx/patches: patch-src_Makefile_sub_in 

Log message:
* handle CPPFLAGS properly; also fixes build with clang
* neutering nl_langinfo() should be no longer required


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:17:24

Added files:
	geo/gpstk/patches: patch-src_Matrix_hpp patch-src_Vector_hpp 

Log message:
two phase name lookup strikes again...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:28:50

Modified files:
	geo/gpstk/patches: patch-src_Matrix_hpp patch-src_Vector_hpp 

Log message:
more thorough, is this enough for modern C++ ?


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/27 14:41:08

Modified files:
	lib/libtls/man : tls_client.3 tls_init.3 

Log message:
tls_free(3) and tls_config_free(3) accept NULL;
patch from Matthew Martin <phy1729 at gmail dot com>,
slightly tweaked by me


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:46:17

Added files:
	math/qhull/patches: patch-src_libqhullcpp_QhullIterator_h 
	                    patch-src_libqhullcpp_QhullLinkedList_h 

Log message:
qhull steals tricks from qt4, along with portability bugs.
use the same trick as qt4 to fix it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:51:44

Added files:
	x11/xdu/patches: patch-xwin_c 

Log message:
declare non returning function as void, fixes clang


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 14:55:52

Modified files:
	libexec/login_radius: login_radius.c 

Log message:
challenge is an array, not a pointer, therefore cannot be NULL.
Quiets a clang warning.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:56:26

ports/x11/xfed/patches

Update of /cvs/ports/x11/xfed/patches
In directory cvs.openbsd.org:/tmp/cvs-serv86427/patches

Log Message:
Directory /cvs/ports/x11/xfed/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 14:56:42

Added files:
	x11/xfed/patches: patch-main_c patch-output_c 

Log message:
trivial return fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 15:09:57

Modified files:
	geo/gpstk/patches: patch-src_Matrix_hpp 
Added files:
	geo/gpstk/patches: patch-src_FileFilterFrame_hpp 

Log message:
more two phase name lookup


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 15:15:04

Added files:
	geo/gpstk/patches: patch-apps_reszilla_CycleSlipList_hpp 

Log message:
clang can't find a sort comparison operator that's not properly const


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 15:28:00

Modified files:
	libexec/rpc.rusersd: rusers_proc.c 

Log message:
Change len arg of getidle() from size_t to int since it is used as
a length parameter to a "%.*s" printf format.  Quiets a compiler
warning (both gcc and clang).


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/27 15:37:05

Modified files:
	print/apvlv    : Makefile distinfo 
	print/apvlv/pkg: PLIST 
Added files:
	print/apvlv/patches: patch-CMakeLists_txt 
Removed files:
	print/apvlv/patches: patch-src_ApvlvFile_cpp 
	                     patch-src_ApvlvUtil_cpp 
	                     patch-src_poppler-gdk_h 

Log message:
Update to apvlv 0.1.5.

Switch to github, migrated to gtk+3


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/27 15:39:27

Modified files:
	sys/kern       : kern_sysctl.c 

Log message:
Enforce that sysctl kern.somaxconn and sominconn can only be set
to valid values.  The so_qlimit is type short.
report Dillon Jay Pena; OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 15:42:24

Added files:
	lang/clisp/patches: patch-src_lispbibl_d 

Log message:
steal clang amd64 support from netbsd


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 15:44:01

Modified files:
	x11/gnome      : gnome.port.mk 

Log message:
Indent.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/27 16:07:06

Modified files:
	regress/usr.bin/mdoclint: mdoclint 

Log message:
Detect links to self by parsing .Nm in SYNOPSIS.
Functionality suggested and patch OK'ed by jmc@.
Patch also accepted upstream in pkgsrc by wiz@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/27 16:14:50

ports/security/letsencrypt/py-acme/patches

Update of /cvs/ports/security/letsencrypt/py-acme/patches
In directory cvs.openbsd.org:/tmp/cvs-serv4921/patches

Log Message:
Directory /cvs/ports/security/letsencrypt/py-acme/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/27 16:18:14

Modified files:
	security/letsencrypt/client: Makefile 
	security/letsencrypt/py-acme: Makefile 
Added files:
	security/letsencrypt/client/patches: patch-setup_py 
	security/letsencrypt/py-acme/patches: patch-setup_py 

Log message:
Remove argparse from setup.py's install-requires list to unbreak since
the 0.13.0 update. (I had py-argparse from mystuff installed which is
why I didn't run into it before..) - reported by Pedro de Oliveira

https://github.com/certbot/certbot/issues/4485


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/27 16:27:43

Modified files:
	regress/usr.bin/mdoclint: mdoclint 

Log message:
Merge trivial patches from pkgsrc to get rid of gratuitious differences;
no functional change on OpenBSD: rev.s 1.50, 1.52, 1.62, 1.63
Of course, keep intentional differences.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/27 16:30:06

Modified files:
	textproc/enchant: Makefile 
	textproc/enchant/patches: patch-configure_ac 

Log message:
Remove BDEP on dbus-glib.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/27 16:41:46

Modified files:
	sys/arch/arm/arm: cpu.c 
	sys/arch/arm/conf: files.arm 
	sys/arch/arm/include: armreg.h cpu.h 
	sys/arch/arm/mainbus: mainbus.c 
	sys/arch/arm/simplebus: simplebus.c 
Removed files:
	sys/arch/arm/mainbus: cpu_mainbus.c 

Log message:
Bring over the changes to mainbus(4) and simplebus(4) from arm64.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 17:02:11

Added files:
	www/phantomjs/patches: 
	                       patch-src_qt_src_3rdparty_webkit_Source_WebCore_platform_network_qt_QNetworkReplyHandler_cpp 
	                       patch-src_qt_src_3rdparty_webkit_Source_WebKit_qt_WebCoreSupport_NotificationPresenterClientQt_cpp 

Log message:
final patches for clang on amd64. OwnPtr wants nullptr constants, 0 leads
to ambiguous messages.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/27 17:03:54

Modified files:
	comms/xlog     : Makefile 
	comms/xlog/pkg : PLIST 
Added files:
	comms/xlog/patches: patch-configure 

Log message:
* drop -Werror; fixes build with clang
* replace gettext module while here


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 17:11:09

Modified files:
	devel/libmemcached: Makefile 
	devel/libmemcached/patches: patch-libmemcached-1_0_memcached_h 
Added files:
	devel/libmemcached/patches: patch-clients_memflush_cc 

Log message:
may change installed header, so bump.
simply go to cstdint directly with clang.
fixes ptr/bool comparisons


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/27 17:15:00

Modified files:
	graphics/libraw: Makefile 
Added files:
	graphics/libraw/patches: patch-configure 

Log message:
Don't hardcode libstdc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 17:15:39

Modified files:
	net/gloox/patches: patch-src_Makefile_in 
Added files:
	net/gloox/patches: patch-src_examples_ft_recv_cpp 

Log message:
fix for clang (link warning option doesn't work) + missing prototype for ctime.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 17:20:29

Modified files:
	x11/flwm/patches: patch-configure 

Log message:
surprisingly enough, this ancient program still compiles... once
you fix the configure test


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 17:52:35

Modified files:
	lib/libc/net   : ip6opt.c 

Log message:
Remove "len < 0" check; len is socklen_t (uint32_t) so can't be
negative.  Quiets a warning from clang.  OK bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 17:54:08

Modified files:
	lib/libc/nls   : catopen.c 

Log message:
ntohl() returns uint32_t so it cannot be < 0.  Since we're storing
the result in an int check for > INT_MAX instead.  OK bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 19:51:30

Modified files:
	graphics/agg   : Makefile 
Added files:
	graphics/agg/patches: patch-include_agg_renderer_outline_aa_h 

Log message:
remove impossible member from class, can't return non-const value based
on const member.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/27 19:54:09

Modified files:
	lang/spidermonkey/patches: patch-js_src_configure_in 
Added files:
	lang/spidermonkey/patches: 
	                           patch-js_src_build_autoconf_moznbytetype_m4 

Log message:
building with clang is just a question of fixing configure
- C++ tests should return properly
- autodetection of -fno-exceptions is broken


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/27 20:25:36

Modified files:
	devel/mercurial: Tag: OPENBSD_6_1 Makefile 
	devel/mercurial/patches: Tag: OPENBSD_6_1 
	                         patch-mercurial_dispatch_py 

Log message:
My previous patch fixed the security bug but broke some commands.

Bug report and patch by Cedric Krier.


CVSROOT:	/cvs
Module name:	src
Changes by:	dtucker@cvs.openbsd.org	2017/04/27 21:20:27

Modified files:
	usr.bin/ssh    : readconf.c readconf.h ssh.c ssh_config.5 

Log message:
Add SyslogFacility option to ssh(1) matching the equivalent option in
sshd(8).  bz#2705, patch from erahn at arista.com, ok djm@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/27 21:21:12

Modified files:
	usr.bin/ssh    : scp.c 

Log message:
Avoid relying on implementation-specific behavior when detecting
whether the timestamp or file size overflowed.  If time_t and
off_t are not either 32-bit or 64-bit scp will exit with an error.
OK djm@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/27 21:24:53

Modified files:
	usr.bin/ssh    : sshconnect2.c 

Log message:
include key fingerprint in "Offering public key" debug message


CVSROOT:	/cvs
Module name:	src
Changes by:	dtucker@cvs.openbsd.org	2017/04/27 22:00:14

Modified files:
	regress/usr.bin/ssh: integrity.sh 

Log message:
Pull back some shell portability fixes from -portable to make future syncs
easier.  Note that this also changes the number of bytes skipped on "Bad
Packet" errors from 2 to 3 because the worst case is changing the high byte
of the length field in which case skipping 3 bytes is needed.  ok djm@


CVSROOT:	/cvs
Module name:	src
Changes by:	dtucker@cvs.openbsd.org	2017/04/27 22:16:27

Modified files:
	regress/usr.bin/ssh: integrity.sh 

Log message:
Merge missing bits from Colin Watson's patch in bz#2658 which make integrity
tests more robust against timeouts.  ok djm@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/28 00:15:03

Modified files:
	usr.bin/ssh    : ssh_config.5 

Log message:
sort;


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/28 01:37:00

Modified files:
	emulators/gxemul: Makefile 
Added files:
	emulators/gxemul/patches: 
	                          patch-src_components_cpu_CPUDyntransComponent_cc 
	                          patch-src_components_cpu_M88K_CPUComponent_cc 
	                          patch-src_components_cpu_MIPS_CPUComponent_cc 
	                          patch-src_include_components_CPUDyntransComponent_h 
	                          patch-src_include_components_M88K_CPUComponent_h 
	                          patch-src_include_components_MIPS_CPUComponent_h 

Log message:
Fix build errors with Clang. Patches from Pkgsrc.

Binary differs so bump REVISION as well.

OK espie@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/28 01:44:36

Modified files:
	sys/arch/amd64/amd64: vmm.c 
	sys/arch/amd64/include: vmmvar.h 

Log message:
vmm: don't use invvpid if we didn't detect vpid capability during
vcpu setup


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/28 01:45:34

Modified files:
	benchmarks/speedtest-cli: Makefile distinfo 

Log message:
Update speedtest-cli to 1.0.6.

OK ajacoutot@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 02:11:51

Modified files:
	databases/evolution-data-server/patches: 
	                                         patch-cmake_modules_SetupBuildFlags_cmake 
	mail/evolution/patches: 
	                        patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Push upstream.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 02:13:07

Modified files:
	print/cups-filters: Makefile distinfo 

Log message:
Update to cups-filters-1.13.5.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/28 02:14:48

Modified files:
	usr.sbin/vmd   : i8253.c i8253.h 

Log message:
rename i8253 "counter" to "channel", a better name for what we are
emulating


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 02:31:57

Modified files:
	x11/gnome/nautilus: Makefile distinfo 
	x11/gnome/nautilus/patches: patch-src_nautilus-ui-utilities_c 

Log message:
Update to nautilus-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/28 02:56:33

Modified files:
	geo/mapcache   : Makefile distinfo 
	geo/mapcache/pkg: README 
Removed files:
	geo/mapcache/patches: patch-util_mapcache_seed_c 

Log message:
Update to mapcache 1.6.0.

see
https://lists.osgeo.org/pipermail/mapserver-users/2017-April/079929.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 03:40:20

Modified files:
	devel/p5-Config-Any: Makefile distinfo 

Log message:
Update to p5-Config-Any-0.32.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 04:01:01

Added files:
	misc/magicpoint/patches: patch-image_rlelib_c patch-mng_c 

Log message:
fix the two nits that prevent clang from compiling junk


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/04/28 04:09:37

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
add some comments. no functional change


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 04:20:38

Modified files:
	www/owncloud   : Makefile distinfo 
	www/owncloud/files: httpd-owncloud.conf.dist.in 
	www/owncloud/patches: 
	                      patch-apps_updatenotification_appinfo_info_xml 
	                      patch-version_php 
	www/owncloud/pkg: PLIST README 
Added files:
	www/owncloud/files: config.php.dist.in 
	www/owncloud/patches: 
	                      patch-settings_Controller_CheckSetupController_php 

Log message:
Update to owncloud-10.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 04:41:45

Modified files:
	www/owncloud   : Makefile 
	www/owncloud/pkg: README 
Added files:
	www/owncloud/patches: patch-_htaccess 

Log message:
Forgot a patch in previous.
Mention the rewrite_module in readme while here.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 04:42:26

Added files:
	inputmethods/scim/patches: 
	                           patch-extras_gtk2_immodule_gtkimcontextscim_cpp 
	                           patch-src_ltdl_cpp 

Log message:
fix constness for clang. mistaking static_cast for const_cast is rather funny


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/28 04:42:42

Modified files:
	geo/pgrouting  : Makefile distinfo 
	geo/pgrouting/pkg: PLIST 

Log message:
Update to pgrouting 2.4.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/28 04:55:09

Modified files:
	x11/gnome      : gnome.port.mk 

Log message:
unbreak


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 05:04:56

Added files:
	games/stepmania/patches: 
	                         patch-src_libtomcrypt_src_headers_tomcrypt_macros_h 

Log message:
fix inline constraints for clang, no variant with constants.
more recent libtomcrypt switched to macros because of this, but we
don't really care.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 05:16:30

Modified files:
	devel/glib2    : Makefile 
	x11/gtk+2      : Makefile 
	x11/gtk+3      : Makefile 

Log message:
"Everything is a Freaking GLib/GTK+ problem"

Compile with debug symbols and don't strip on install(1). This will ease
debugging all the many things that depend on and crash within these libs. We'll
see how this works out in the long run.
req. by mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/28 05:28:20

Modified files:
	gnu/usr.bin/clang/include/clang/intrin: Makefile 

Log message:
Install a few more x86 intrinsics header files.

spotted by espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/28 05:39:04

Modified files:
	games/eboard   : Makefile 
Added files:
	games/eboard/patches: patch-ntext_cc 

Log message:
* avoid needless write to string (clang fix from FreeBSD)
* drop gettext module and sync wantlib


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 06:29:33

Added files:
	japanese/kterm/patches: patch-button_c patch-charproc_c 
	                        patch-cursor_c patch-input_c 
	                        patch-misc_c patch-screen_c 
	                        patch-scrollbar_c patch-util_c 

Log message:
add enough void to fix empty return errors on clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 07:12:51

Modified files:
	x11/gnome/session: Makefile 
Removed files:
	x11/gnome/session/patches: patch-gnome-session_gsm-app_c 

Log message:
Drop the gio-kqueue workaround; mpi@ fixed the underlying issue.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 07:17:21

Modified files:
	emulators/fceux: Makefile 

Log message:
link does some weird things with clang thx to the pthread-stubs coming
from cairo/pixman-1 (doesn't work well with pthread-stubs)
Since this is scons, just link with -lpthread already, it's all compiled
-pthread anyway.


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/04/28 07:29:22

Modified files:
	devel/glib2    : Makefile 
Added files:
	devel/glib2/patches: patch-gio_kqueue_kqueue-helper_c 

Log message:
Prevent a use-after-free resulting in a crash of all apps depending
on glib/GIO mostly at "pkg_add -u" time.

You can now run "pkg_add -u" inside GNOME 3 without any crash.

Diff already submitted upstream.

ok ajacoutot@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/28 07:40:00

Modified files:
	usr.bin/tmux   : tmux.1 

Log message:
Default for xterm-keys was wrong, stop documenting it.


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/04/28 07:50:02

Modified files:
	share/misc     : airport 

Log message:
add City of Derry Airport
ok "i have been there"@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/28 07:50:55

Modified files:
	sys/conf       : files 
	sys/kern       : init_main.c kern_pledge.c syscalls.master 
	sys/sys        : proc.h 
Added files:
	sys/kern       : sys_futex.c 
	sys/sys        : futex.h 

Log message:
Add futex(2) syscall based on a sane subset of its Linux equivalent.

The syscall is marked NOLOCK and only FUTEX_WAIT grabs the KERNEL_LOCK()
because of PCATCH and the signal nightmare.

Serialization of threads is currently done with a global & exclusive
rwlock.

Note that the current implementation still use copyin(9) which is not
guaranteed to be atomic.  Committing now such that remaining issues can
be addressed in-tree.

With inputs from guenther@, kettenis@ and visa@.

ok deraadt@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/28 07:51:14

Modified files:
	sys/kern       : init_sysent.c syscalls.c 
	sys/sys        : syscall.h syscallargs.h 

Log message:
regen


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/28 07:53:05

Modified files:
	usr.bin/kdump  : kdump.c kdump_subr.h mksubr 

Log message:
Display futex(2) operations and arguments.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/28 08:02:57

Added files:
	lib/libc/sys   : futex.2 

Log message:
Document futex(2) with a lot of inputs from schwarze@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/28 08:11:01

Modified files:
	regress/usr.bin/mdoclint: mdoclint mdoclint.1 

Log message:
Start deleting redundant features that are already covered
by mandoc(1) -Tlint, as suggested by the upstream author
and maintainer Thomas Klausner <wiz @ NetBSD>.
The ultimate goal is to get rid of mdoclint and integrate
all its functionality into mandoc, but that will still take
some time, so simplify mdoclint for the time being.
jmc@ "go ahead", OK wiz@, also committed upstream

This first patch removes the AUTHORS check that mandoc does, too.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/04/28 08:15:45

Modified files:
	sbin/pfctl     : parse.y 

Log message:
Remove double assignments


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/28 08:21:00

Modified files:
	www/chromium   : Makefile distinfo 
	www/chromium/patches: patch-BUILD_gn patch-base_BUILD_gn 
	                      patch-base_allocator_allocator_shim_cc 
	                      patch-base_debug_stack_trace_posix_cc 
	                      patch-base_debug_thread_heap_usage_tracker_cc 
	                      patch-base_process_process_posix_cc 
	                      patch-base_threading_platform_thread_h 
	                      patch-base_trace_event_malloc_dump_provider_cc 
	                      patch-build_config_BUILD_gn 
	                      patch-build_config_allocator_gni 
	                      patch-build_config_compiler_BUILD_gn 
	                      patch-build_config_features_gni 
	                      patch-build_toolchain_gcc_toolchain_gni 
	                      patch-cc_BUILD_gn 
	                      patch-chrome_app_chrome_command_ids_h 
	                      patch-chrome_app_chrome_main_delegate_cc 
	                      patch-chrome_app_chrome_main_delegate_h 
	                      patch-chrome_app_chromium_strings_grd 
	                      patch-chrome_app_generated_resources_grd 
	                      patch-chrome_app_google_chrome_strings_grd 
	                      patch-chrome_app_mash_mash_runner_cc 
	                      patch-chrome_app_settings_strings_grdp 
	                      patch-chrome_browser_about_flags_cc 
	                      patch-chrome_browser_browser_process_impl_cc 
	                      patch-chrome_browser_browser_process_impl_h 
	                      patch-chrome_browser_browser_resources_grd 
	                      patch-chrome_browser_chrome_browser_main_cc 
	                      patch-chrome_browser_chrome_browser_main_linux_cc 
	                      patch-chrome_browser_chrome_content_browser_client_cc 
	                      patch-chrome_browser_chrome_content_browser_client_h 
	                      patch-chrome_browser_download_download_commands_cc 
	                      patch-chrome_browser_extensions_BUILD_gn 
	                      patch-chrome_browser_extensions_api_image_writer_private_image_writer_private_api_cc 
	                      patch-chrome_browser_extensions_bookmark_app_helper_cc 
	                      patch-chrome_browser_extensions_browser_context_keyed_service_factories_cc 
	                      patch-chrome_browser_media_galleries_media_file_system_registry_cc 
	                      patch-chrome_browser_memory_details_cc 
	                      patch-chrome_browser_notifications_message_center_notification_manager_cc 
	                      patch-chrome_browser_platform_util_linux_cc 
	                      patch-chrome_browser_profiles_profile_impl_io_data_cc 
	                      patch-chrome_browser_resources_plugin_metadata_plugins_linux_json 
	                      patch-chrome_browser_safe_browsing_incident_reporting_incident_reporting_service_cc 
	                      patch-chrome_browser_safe_browsing_permission_reporter_cc 
	                      patch-chrome_browser_sync_chrome_sync_client_cc 
	                      patch-chrome_browser_task_manager_sampling_task_group_cc 
	                      patch-chrome_browser_task_manager_sampling_task_group_h 
	                      patch-chrome_browser_task_manager_sampling_task_manager_impl_cc 
	                      patch-chrome_browser_task_manager_task_manager_observer_h 
	                      patch-chrome_browser_tracing_crash_service_uploader_cc 
	                      patch-chrome_browser_ui_browser_command_controller_cc 
	                      patch-chrome_browser_ui_startup_startup_browser_creator_cc 
	                      patch-chrome_browser_ui_tab_helpers_cc 
	                      patch-chrome_browser_ui_task_manager_task_manager_columns_cc 
	                      patch-chrome_browser_ui_task_manager_task_manager_table_model_cc 
	                      patch-chrome_browser_ui_toolbar_app_menu_model_cc 
	                      patch-chrome_browser_ui_views_chrome_views_delegate_h 
	                      patch-chrome_browser_ui_views_frame_browser_frame_cc 
	                      patch-chrome_browser_ui_views_frame_system_menu_model_builder_cc 
	                      patch-chrome_browser_ui_webui_about_ui_cc 
	                      patch-chrome_browser_ui_webui_chrome_web_ui_controller_factory_cc 
	                      patch-chrome_browser_ui_webui_options_browser_options_handler_cc 
	                      patch-chrome_browser_ui_webui_settings_md_settings_localized_strings_provider_cc 
	                      patch-chrome_browser_web_applications_web_app_cc 
	                      patch-chrome_browser_web_applications_web_app_h 
	                      patch-chrome_common_BUILD_gn 
	                      patch-chrome_common_chrome_paths_cc 
	                      patch-chrome_common_chrome_paths_h 
	                      patch-chrome_common_chrome_paths_internal_h 
	                      patch-chrome_common_chrome_switches_cc 
	                      patch-chrome_common_chrome_switches_h 
	                      patch-chrome_common_pref_names_cc 
	                      patch-chrome_common_pref_names_h 
	                      patch-chrome_common_url_constants_cc 
	                      patch-chrome_common_url_constants_h 
	                      patch-chromecast_browser_cast_browser_main_parts_cc 
	                      patch-chromecast_browser_cast_content_browser_client_cc 
	                      patch-components_autofill_core_browser_autofill_experiments_cc 
	                      patch-components_crash_content_app_BUILD_gn 
	                      patch-components_metrics_BUILD_gn 
	                      patch-components_omnibox_browser_omnibox_field_trial_cc 
	                      patch-components_policy_resources_policy_templates_json 
	                      patch-content_app_content_main_runner_cc 
	                      patch-content_browser_BUILD_gn 
	                      patch-content_browser_accessibility_browser_accessibility_h 
	                      patch-content_browser_accessibility_browser_accessibility_manager_h 
	                      patch-content_browser_browser_main_loop_cc 
	                      patch-content_browser_child_process_launcher_helper_linux_cc 
	                      patch-content_browser_devtools_protocol_color_picker_cc 
	                      patch-content_browser_download_base_file_cc 
	                      patch-content_browser_gpu_gpu_data_manager_impl_private_cc 
	                      patch-content_browser_gpu_gpu_internals_ui_cc 
	                      patch-content_browser_media_media_internals_cc 
	                      patch-content_browser_ppapi_plugin_process_host_cc 
	                      patch-content_browser_renderer_host_media_video_capture_manager_cc 
	                      patch-content_browser_renderer_host_render_message_filter_cc 
	                      patch-content_browser_renderer_host_render_process_host_impl_cc 
	                      patch-content_browser_renderer_host_render_widget_host_view_aura_cc 
	                      patch-content_browser_renderer_host_render_widget_host_view_event_handler_cc 
	                      patch-content_child_child_process_cc 
	                      patch-content_child_child_process_h 
	                      patch-content_child_child_thread_impl_cc 
	                      patch-content_common_BUILD_gn 
	                      patch-content_common_view_messages_h 
	                      patch-content_gpu_gpu_main_cc 
	                      patch-content_public_common_content_switches_cc 
	                      patch-content_public_common_content_switches_h 
	                      patch-content_public_common_renderer_preferences_h 
	                      patch-content_renderer_render_thread_impl_cc 
	                      patch-content_renderer_renderer_main_cc 
	                      patch-content_utility_utility_main_cc 
	                      patch-device_bluetooth_BUILD_gn 
	                      patch-device_usb_BUILD_gn 
	                      patch-ipc_ipc_message_utils_cc 
	                      patch-mash_package_mash_packaged_service_cc 
	                      patch-media_BUILD_gn 
	                      patch-media_audio_BUILD_gn 
	                      patch-media_audio_audio_manager_cc 
	                      patch-media_audio_audio_manager_h 
	                      patch-media_base_video_frame_h 
	                      patch-media_capture_video_fake_video_capture_device_factory_cc 
	                      patch-media_capture_video_video_capture_device_client_cc 
	                      patch-media_capture_video_video_capture_device_factory_cc 
	                      patch-media_media_options_gni 
	                      patch-net_BUILD_gn 
	                      patch-net_http_http_network_session_cc 
	                      patch-net_proxy_proxy_config_service_linux_cc 
	                      patch-net_socket_udp_socket_posix_cc 
	                      patch-net_tools_cert_verify_tool_verify_using_path_builder_cc 
	                      patch-pdf_pdfium_pdfium_engine_cc 
	                      patch-services_ui_gpu_gpu_main_cc 
	                      patch-third_party_WebKit_Source_bindings_core_v8_V8ScriptRunner_cpp 
	                      patch-third_party_WebKit_Source_platform_fonts_FontCache_cpp 
	                      patch-third_party_WebKit_Source_platform_fonts_FontCache_h 
	                      patch-third_party_WebKit_Source_platform_fonts_SimpleFontData_cpp 
	                      patch-third_party_WebKit_Source_platform_fonts_skia_FontCacheSkia_cpp 
	                      patch-third_party_WebKit_Source_web_PopupMenuImpl_cpp 
	                      patch-third_party_angle_BUILD_gn 
	                      patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_ia32_config_asm 
	                      patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_ia32_config_h 
	                      patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_x64_config_asm 
	                      patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_x64_config_h 
	                      patch-third_party_webrtc_BUILD_gn 
	                      patch-third_party_webrtc_base_BUILD_gn 
	                      patch-third_party_webrtc_base_httpcommon_cc 
	                      patch-third_party_webrtc_base_network_cc 
	                      patch-third_party_webrtc_base_physicalsocketserver_cc 
	                      patch-third_party_webrtc_base_platform_thread_cc 
	                      patch-tools_gn_args_cc 
	                      patch-tools_gn_bootstrap_bootstrap_py 
	                      patch-ui_base_resource_resource_bundle_cc 
	                      patch-ui_gfx_canvas_skia_cc 
	                      patch-ui_gl_BUILD_gn 
	                      patch-ui_gl_gl_bindings_autogen_glx_cc 
	                      patch-ui_gl_sync_control_vsync_provider_cc 
	                      patch-ui_gl_sync_control_vsync_provider_h 
	                      patch-ui_message_center_message_center_style_h 
	                      patch-ui_message_center_views_message_center_button_bar_cc 
	                      patch-ui_message_center_views_message_center_button_bar_h 
	                      patch-ui_message_center_views_toast_contents_view_cc 
	                      patch-ui_views_accessibility_native_view_accessibility_h 
	                      patch-ui_views_controls_label_cc 
	                      patch-ui_views_controls_textfield_textfield_cc 
	                      patch-ui_views_window_custom_frame_view_cc 
	                      patch-v8_BUILD_gn 
	www/chromium/pkg: PLIST 
Added files:
	www/chromium/patches: patch-base_debug_proc_maps_linux_cc 
	                      patch-base_threading_thread_task_runner_handle_cc 
	                      patch-breakpad_src_common_simple_string_dictionary_h 
	                      patch-chrome_app_shutdown_signal_handlers_posix_cc 
	                      patch-components_tracing_common_process_metrics_memory_dump_provider_cc 
	                      patch-components_tracing_common_process_metrics_memory_dump_provider_h 
	                      patch-device_sensors_data_fetcher_shared_memory_h 
	                      patch-services_catalog_public_cpp_manifest_parsing_util_cc 
	                      patch-services_catalog_store_cc 
	                      patch-services_catalog_store_h 
	                      patch-services_device_time_zone_monitor_time_zone_monitor_cc 
	                      patch-storage_browser_quota_quota_settings_cc 
	                      patch-third_party_node_node_py 
Removed files:
	www/chromium/patches: 
	                      patch-chrome_browser_chrome_browser_main_posix_cc 
	                      patch-chrome_browser_gpu_gpu_feature_checker_cc 
	                      patch-chrome_browser_ui_views_chrome_views_delegate_cc 
	                      patch-content_browser_device_sensors_data_fetcher_shared_memory_h 
	                      patch-device_time_zone_monitor_time_zone_monitor_cc 
	                      patch-third_party_webrtc_voice_engine_voice_engine_defines_h 

Log message:
update to 58.0.3029.81


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 08:22:19

Modified files:
	converters/p5-Unicode-LineBreak: Makefile distinfo 

Log message:
Update to p5-Unicode-LineBreak-2017.004.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/28 08:30:54

Modified files:
	lib/libc/sys   : futex.2 

Log message:
errant space;


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/28 08:52:13

Modified files:
	usr.sbin/syslogd: log.c log.h syslogd.c 

Log message:
When syslogd(8) failed to open a logfile, the error message could
get lost.  Remove log_setdebug() as it adds too much abstraction,
use the global variable Started instead.  Set the Started value
before the init() function.  Then errors during config file processing
will be logged to the console as Initialize is still 0.  This is
better than stderr as the latter may be redirected to /dev/null.
Print the timestamp and hostname also for direct messages to console,
so that they look like all others.
bug report jung@; OK benno@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 09:01:59

Modified files:
	databases/py-sqlparse: Makefile distinfo 

Log message:
Update to py-sqlparse-0.2.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 09:04:32

Modified files:
	graphics/py-cairo: Makefile distinfo 
	graphics/py-cairo/pkg: DESCR PLIST 
Added files:
	graphics/py-cairo/pkg: PFRAG.no-python3 PFRAG.python3 

Log message:
Update to py-cairo-1.12.0.
Use the new fork from pygobject hosted on GitHub which is actually
maintained, does not use the horrible waf build system and supports both
python2 and 3.

ok eric@ (maintainer)


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/28 09:04:49

Modified files:
	regress/usr.sbin/syslogd: args-fdexhaustion-config.pl 
	                          args-fdexhaustion-tcp.pl 
	                          args-maxhostlen.pl 
	                          args-maxloghostlen.pl 
	                          args-maxportlen.pl 
	                          args-proto-invalid.pl 
	                          args-proto-udp4-host6.pl 
	                          args-proto-udp4-only6.pl 
	                          args-proto-udp6-host4.pl 
	                          args-proto-udp6-only4.pl 
	                          args-tls-cafile-noexist.pl 
Added files:
	regress/usr.sbin/syslogd: args-nofile-sighup.pl args-nofile.pl 

Log message:
Check that non existing log files in syslog.conf are reported to
/dev/console during startup and restart.  Startup warnings contain
the pid now.  Console logging creates additional errors if the file
descriptor limit is exhausted.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 09:04:53

Modified files:
	devel/py-gobject3: Makefile 

Log message:
Fix dependency after py3-cairo pkgpath change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 09:06:54

Modified files:
	graphics       : Makefile 
Removed files:
	graphics/py3-cairo: Makefile distinfo 
	graphics/py3-cairo/patches: patch-_waf3-waflib_Build_py 
	                            patch-_waf3-waflib_Tools_python_py 
	graphics/py3-cairo/pkg: DESCR PLIST 

Log message:
Remove graphics/py3-cairo, it's been merged into py-cairo python3 FLAVOR.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 09:37:27

Modified files:
	devel/boris    : Makefile distinfo 
	devel/boris/patches: patch-bin_boris 

Log message:
Update to boris-1.0.10.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 09:49:09

Modified files:
	devel/p5-Acme-Damn: Makefile distinfo 

Log message:
Update to p5-Acme-Damn-0.08.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/28 10:00:10

Modified files:
	devel/qt-creator: Makefile distinfo 
	devel/qt-creator/patches: patch-doc_doc_pri 
	                          patch-src_libs_utils_buildablehelperlibrary_cpp 
	                          patch-src_plugins_projectexplorer_gcctoolchain_cpp 
	                          patch-src_plugins_qmakeprojectmanager_qmakebuildconfiguration_cpp 
	                          patch-src_shared_qbs_src_lib_corelib_tools_processutils_cpp 
	                          patch-src_shared_qbs_src_lib_corelib_tools_tools_pri 
	devel/qt-creator/pkg: PLIST 

Log message:
update to qt-creator 4.2.2

- bump some SHARED_LIBS (nm(1) checks)
- remove qch_docs target and all -docindex BUILD_DEPENDS as
qtdeclarative loop workaround
- improve licence tag; thanks Caspar Schutijser
- Fix WANTLIB
- NO_TEST
- remove qtwebkit as LIB_DEPENDS and add ass RUN_DEPENDS
- fix one tab

ok sthen@ landry@, tested by Caspar Schutijser, thnaks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/28 10:03:11

Removed files:
	devel/qt-creator/patches: patch-doc_doc_pri 

Log message:
zap empty patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 10:03:39

Modified files:
	devel/p5-Cache-FastMmap: Makefile distinfo 

Log message:
Update to p5-Cache-FastMmap-1.45.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 10:14:58

Modified files:
	devel/p5-Class-InsideOut: Makefile distinfo 

Log message:
Update to p5-Class-InsideOut-1.14.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/28 10:23:30

Modified files:
	usr.bin/mandoc : mdoc_validate.c 
	regress/usr.bin/mandoc/mdoc/Sh: Makefile 
Added files:
	regress/usr.bin/mandoc/mdoc/Sh: first.out_ascii parbefore.in 
	                                parbefore.out_ascii 
	                                parbefore.out_lint 
	                                parbefore.out_markdown 
	                                parborder.in parborder.out_ascii 
	                                parborder.out_lint 
	                                parborder.out_markdown 

Log message:
Delete .Pp right before the first .Sh and right before any .Ss,
and warn about it; mdoclint(1) does so, and it makes sense.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 10:27:30

Modified files:
	devel/p5-Class-Load: Makefile distinfo 

Log message:
Update to p5-Class-Load-0.24.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 10:37:33

Modified files:
	devel/p5-Class-Load-XS: Makefile distinfo 

Log message:
Update to p5-Class-Load-XS-0.10.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 10:51:55

Modified files:
	x11/paper-icon-theme: Makefile distinfo 
	x11/paper-icon-theme/pkg: PLIST 

Log message:
Update to paper-icon-theme-1.4.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 10:52:11

Modified files:
	devel/p5-Glib2 : Makefile distinfo 

Log message:
Update to p5-Glib2-1.325.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 10:52:41

Modified files:
	x11/p5-Gtk2    : Makefile distinfo 

Log message:
Update to p5-Gtk2-1.24992.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 10:54:46

Modified files:
	devel/p5-Glib-Object-Introspection: Makefile distinfo 

Log message:
Update to p5-Glib-Object-Introspection-0.042.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 10:58:40

Modified files:
	devel/mono-addins: Makefile distinfo 
	devel/mono-addins/patches: 
	                           patch-Mono_Addins_Gui_Mono_Addins_Gui_csproj 
Added files:
	devel/mono-addins/patches: 
	                           patch-Mono_Addins_CecilReflector_Mono_Addins_CecilReflector_csproj 
	                           patch-Mono_Addins_MSBuild_Mono_Addins_MSBuild_csproj 
	                           patch-Mono_Addins_Mono_Addins_Addin_cs 
	                           patch-Mono_Addins_Mono_Addins_csproj 
	                           patch-Mono_Addins_Setup_Mono_Addins_Setup_csproj 
	                           patch-mautil_mautil_csproj 
Removed files:
	devel/mono-addins/patches: patch-configure_ac 

Log message:
Update to mono-addins-mono-addins-1.3 but keep BROKEN (needs thread local
storage).


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/04/28 10:58:50

Modified files:
	x11/cegui      : Makefile distinfo 
	x11/cegui/patches: patch-cegui_src_SimpleTimer_cpp 

Log message:
Update to CEGUI 0.8.7.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/28 11:28:14

Modified files:
	sysutils/beats/filebeat: Makefile distinfo 
	sysutils/beats/metricbeat: Makefile distinfo 
	sysutils/beats/packetbeat: Makefile distinfo 

Log message:
update to {file,metric,packet}beat 5.3.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 11:35:11

Modified files:
	x11/gtk+2      : Makefile 

Log message:
prevent build from creating huge log with clang
okay aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 11:45:08

Modified files:
	devel/p5-DateTime-Event-Recurrence: Makefile distinfo 

Log message:
Update to p5-DateTime-Event-Recurrence-0.19.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/28 11:54:24

Modified files:
	lib/libc/sys   : futex.2 

Log message:
Reference the "Futexes Are Tricky" paper.

With schwarze@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 11:55:21

Modified files:
	cad/gtkwave    : Makefile distinfo 

Log message:
Update to gtkwave-3.3.80.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 11:57:46

Modified files:
	graphics/goocanvas: Makefile 

Log message:
Proper PORTROACH annotation.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/28 11:58:44

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Konsole incorrectly ignores SU (CSI S) if the parameter is bigger than
the scroll region, so clamp it. Reported by Moritz Bunkus.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 11:59:45

Modified files:
	devel/p5-DateTime-Format-W3CDTF: Makefile distinfo 

Log message:
Update to p5-DateTime-Format-W3CDTF-0.07.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:00:46

Modified files:
	graphics/imlib2: Makefile distinfo 

Log message:
Update to imlib2-1.4.10.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:01:09

Modified files:
	graphics/exiftran: Makefile distinfo 

Log message:
Update to exiftran-2.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:03:27

Modified files:
	graphics/icoutils: Makefile distinfo 

Log message:
Update to icoutils-0.31.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:06:06

Modified files:
	graphics/dvdrip: Makefile 

Log message:
Add PORTROACH annotation.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 12:10:52

Modified files:
	devel/p5-Devel-Declare: Makefile distinfo 

Log message:
Update to p5-Devel-Declare-0.006019.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:12:36

Modified files:
	graphics/leptonica: Makefile distinfo 

Log message:
Update to leptonica-1.74.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/28 12:14:54

Modified files:
	lang/racket-minimal: Tag: OPENBSD_6_1 Makefile distinfo 
	lang/racket-minimal/pkg: Tag: OPENBSD_6_1 PLIST 

Log message:
Update to Racket 6.9.

SECURITY:

"A security vulnerability in the `racket/sandbox` library and Typed
Racket allowed malicious Typed Racket code to escape the sandbox.
This vulnerability has been fixed in Racket version 6.9. Anyone using
`racket/sandbox` to execute untrustworthy code with access to Typed
Racket should upgrade to version 6.9 immediately.

While this known vulnerability has been eliminated, it is possible that
similar errors in other installed collections could also be exploited,
although we are not currently aware of any existing vulnerabilities. We
recommend that if you use the Racket sandbox to execute untrustworthy
Racket code, you should also employ additional operating system or
virtual machine level protections. The documentation for `racket/sandbox`
has been updated to list recommended security practices for using the
library."

https://download.racket-lang.org/v6.9.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/28 12:15:42

Modified files:
	lang/racket-minimal: Makefile distinfo 
	lang/racket-minimal/pkg: PLIST 

Log message:
Update to Racket 6.9.

SECURITY:

"A security vulnerability in the `racket/sandbox` library and Typed
Racket allowed malicious Typed Racket code to escape the sandbox.
This vulnerability has been fixed in Racket version 6.9. Anyone using
`racket/sandbox` to execute untrustworthy code with access to Typed
Racket should upgrade to version 6.9 immediately.

While this known vulnerability has been eliminated, it is possible that
similar errors in other installed collections could also be exploited,
although we are not currently aware of any existing vulnerabilities. We
recommend that if you use the Racket sandbox to execute untrustworthy
Racket code, you should also employ additional operating system or
virtual machine level protections. The documentation for `racket/sandbox`
has been updated to list recommended security practices for using the
library."

https://download.racket-lang.org/v6.9.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:20:43

Modified files:
	graphics/p5-Imager-QRCode: Makefile distinfo 

Log message:
Update to p5-Imager-QRCode-0.035.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 12:21:24

Modified files:
	devel/p5-Devel-TraceUse: Makefile distinfo 

Log message:
Update to p5-Devel-TraceUse-2.095.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 12:23:39

Modified files:
	graphics/py-sane: Makefile distinfo 

Log message:
Update to py-sane-2.8.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 13:00:18

Modified files:
	devel/p5-ExtUtils-PkgConfig: Makefile distinfo 

Log message:
Update to p5-ExtUtils-PkgConfig-1.16.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/28 13:10:48

Modified files:
	usr.bin/tmux   : alerts.c 

Log message:
Do not put the window on the alerts queue and add a reference unless the
alert is enabled and we are actually going to add the alerts event.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/28 13:12:15

Modified files:
	usr.bin/tmux   : window.c 

Log message:
Remove a reference from the right window when removing from a winlink's
list.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/28 13:13:55

Modified files:
	usr.bin/tmux   : alerts.c notify.c session.c tmux.h 
	                 window-choose.c window.c 

Log message:
Log what is happening with window and session reference counts much more
obviously.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/28 14:40:04

Modified files:
	archivers/lzip/lzlib: Makefile distinfo 
	archivers/lzip/lzlib/patches: patch-Makefile_in 

Log message:
Update to lzlib 1.9.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/04/28 14:40:46

Modified files:
	archivers/lzip/plzip: Makefile distinfo 

Log message:
Update to plzip 1.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 15:01:17

Modified files:
	graphics/tesseract/tesseract: Makefile distinfo 
	graphics/tesseract/tesseract/patches: patch-viewer_svutil_h 
	graphics/tesseract/tesseract/pkg: PLIST 
Added files:
	graphics/tesseract/tesseract/patches: patch-configure_ac 
Removed files:
	graphics/tesseract/tesseract/patches: patch-ccstruct_matrix_h 
	                                      patch-configure 

Log message:
Update to tesseract-3.05.00.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 15:22:03

Modified files:
	security/py-secretstorage: Makefile distinfo 

Log message:
Update to py-secretstorage-2.3.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 15:26:13

Modified files:
	sysutils/virt-manager: Makefile distinfo 
	sysutils/virt-manager/pkg: PLIST 
Removed files:
	sysutils/virt-manager/patches: patch-virtManager_viewers_py 

Log message:
Update to virt-manager-1.4.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 15:32:37

Modified files:
	www/bluefish   : Makefile distinfo 
	www/bluefish/pkg: PLIST 

Log message:
Update to bluefish-2.2.10.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/28 15:50:33

Modified files:
	mail/roundcubemail: Makefile distinfo 

Log message:
security update to roundcubemail-1.2.5

"The updates primarily fix a recently discovered vulnerability in the
virtualmin and sasl drivers of the password plugin (CVE-2017-8114).
More details about this vulnerability will be published soon by the
reporter. Security-wise the update is therefore only relevant for those
installations of Roundcube using the password plugin with either one of
these drivers."


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/28 15:52:17

Modified files:
	mail/roundcubemail: Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC security update to roundcubemail-1.2.5

"The updates primarily fix a recently discovered vulnerability in the
virtualmin and sasl drivers of the password plugin (CVE-2017-8114).
More details about this vulnerability will be published soon by the
reporter. Security-wise the update is therefore only relevant for those
installations of Roundcube using the password plugin with either one of
these drivers."


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 15:59:30

Modified files:
	x11/p5-Wx      : Makefile distinfo 

Log message:
Update to p5-Wx-0.9932.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 16:00:28

Modified files:
	devel/p5-Hook-LexWrap: Makefile distinfo 

Log message:
Update to p5-Hook-LexWrap-0.26.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/28 16:07:46

Modified files:
	x11/kde/base3  : Makefile 

Log message:
Explicitly disable OpenEXR to avoid hidden dependencies.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:11:55

Modified files:
	x11/p5-X11-Protocol-Other: Makefile distinfo 

Log message:
Update to p5-X11-Protocol-Other-30.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/28 16:13:20

Modified files:
	devel/p5-IO-Pager: Makefile distinfo 

Log message:
Update to p5-IO-Pager-0.37.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:16:23

Modified files:
	x11/wmclockmon : Makefile distinfo 

Log message:
Update to wmclockmon-0.8.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/28 16:16:43

Modified files:
	bin/stty       : print.c 

Log message:
Quiet a clang warning from -Wstring-plus-int.  OK naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:16:54

Modified files:
	archivers/p5-POE-Filter-Zlib: Makefile distinfo 

Log message:
Update to p5-POE-Filter-Zlib-2.04.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:18:59

Modified files:
	audio/checkmate: Makefile distinfo 

Log message:
Update to checkmate-0.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:20:10

Modified files:
	audio/glyr     : Makefile distinfo 

Log message:
Update to glyr-1.0.10.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:20:45

Modified files:
	audio/p5-MP3-Tag: Makefile distinfo 

Log message:
Update to p5-MP3-Tag-1.14.


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/28 16:22:37

Modified files:
	www/iridium    : Makefile distinfo 
	www/iridium/patches: patch-BUILD_gn patch-base_BUILD_gn 
	                     patch-base_allocator_allocator_shim_cc 
	                     patch-base_debug_stack_trace_posix_cc 
	                     patch-base_debug_thread_heap_usage_tracker_cc 
	                     patch-base_process_process_posix_cc 
	                     patch-base_threading_platform_thread_h 
	                     patch-base_trace_event_malloc_dump_provider_cc 
	                     patch-build_config_BUILD_gn 
	                     patch-build_config_allocator_gni 
	                     patch-build_config_compiler_BUILD_gn 
	                     patch-build_config_features_gni 
	                     patch-build_toolchain_gcc_toolchain_gni 
	                     patch-cc_BUILD_gn 
	                     patch-chrome_app_chrome_command_ids_h 
	                     patch-chrome_app_chrome_main_delegate_cc 
	                     patch-chrome_app_chrome_main_delegate_h 
	                     patch-chrome_app_chromium_strings_grd 
	                     patch-chrome_app_generated_resources_grd 
	                     patch-chrome_app_google_chrome_strings_grd 
	                     patch-chrome_app_mash_mash_runner_cc 
	                     patch-chrome_app_settings_strings_grdp 
	                     patch-chrome_browser_about_flags_cc 
	                     patch-chrome_browser_browser_process_impl_cc 
	                     patch-chrome_browser_browser_process_impl_h 
	                     patch-chrome_browser_browser_resources_grd 
	                     patch-chrome_browser_chrome_browser_main_cc 
	                     patch-chrome_browser_chrome_browser_main_linux_cc 
	                     patch-chrome_browser_chrome_content_browser_client_cc 
	                     patch-chrome_browser_chrome_content_browser_client_h 
	                     patch-chrome_browser_download_download_commands_cc 
	                     patch-chrome_browser_extensions_BUILD_gn 
	                     patch-chrome_browser_extensions_api_image_writer_private_image_writer_private_api_cc 
	                     patch-chrome_browser_extensions_bookmark_app_helper_cc 
	                     patch-chrome_browser_extensions_browser_context_keyed_service_factories_cc 
	                     patch-chrome_browser_media_galleries_media_file_system_registry_cc 
	                     patch-chrome_browser_memory_details_cc 
	                     patch-chrome_browser_notifications_message_center_notification_manager_cc 
	                     patch-chrome_browser_platform_util_linux_cc 
	                     patch-chrome_browser_profiles_profile_impl_io_data_cc 
	                     patch-chrome_browser_resources_plugin_metadata_plugins_linux_json 
	                     patch-chrome_browser_safe_browsing_incident_reporting_incident_reporting_service_cc 
	                     patch-chrome_browser_safe_browsing_permission_reporter_cc 
	                     patch-chrome_browser_sync_chrome_sync_client_cc 
	                     patch-chrome_browser_task_manager_sampling_task_group_cc 
	                     patch-chrome_browser_task_manager_sampling_task_group_h 
	                     patch-chrome_browser_task_manager_sampling_task_manager_impl_cc 
	                     patch-chrome_browser_task_manager_task_manager_observer_h 
	                     patch-chrome_browser_tracing_crash_service_uploader_cc 
	                     patch-chrome_browser_ui_browser_command_controller_cc 
	                     patch-chrome_browser_ui_startup_startup_browser_creator_cc 
	                     patch-chrome_browser_ui_tab_helpers_cc 
	                     patch-chrome_browser_ui_task_manager_task_manager_columns_cc 
	                     patch-chrome_browser_ui_task_manager_task_manager_table_model_cc 
	                     patch-chrome_browser_ui_toolbar_app_menu_model_cc 
	                     patch-chrome_browser_ui_views_chrome_views_delegate_h 
	                     patch-chrome_browser_ui_views_frame_browser_frame_cc 
	                     patch-chrome_browser_ui_views_frame_system_menu_model_builder_cc 
	                     patch-chrome_browser_ui_webui_about_ui_cc 
	                     patch-chrome_browser_ui_webui_chrome_web_ui_controller_factory_cc 
	                     patch-chrome_browser_ui_webui_options_browser_options_handler_cc 
	                     patch-chrome_browser_ui_webui_settings_md_settings_localized_strings_provider_cc 
	                     patch-chrome_browser_web_applications_web_app_cc 
	                     patch-chrome_browser_web_applications_web_app_h 
	                     patch-chrome_common_BUILD_gn 
	                     patch-chrome_common_chrome_paths_cc 
	                     patch-chrome_common_chrome_paths_h 
	                     patch-chrome_common_chrome_paths_internal_h 
	                     patch-chrome_common_chrome_switches_cc 
	                     patch-chrome_common_chrome_switches_h 
	                     patch-chrome_common_pref_names_cc 
	                     patch-chrome_common_pref_names_h 
	                     patch-chrome_common_url_constants_cc 
	                     patch-chrome_common_url_constants_h 
	                     patch-chromecast_browser_cast_browser_main_parts_cc 
	                     patch-chromecast_browser_cast_content_browser_client_cc 
	                     patch-components_autofill_core_browser_autofill_experiments_cc 
	                     patch-components_crash_content_app_BUILD_gn 
	                     patch-components_metrics_BUILD_gn 
	                     patch-components_omnibox_browser_omnibox_field_trial_cc 
	                     patch-components_policy_resources_policy_templates_json 
	                     patch-content_app_content_main_runner_cc 
	                     patch-content_browser_BUILD_gn 
	                     patch-content_browser_accessibility_browser_accessibility_h 
	                     patch-content_browser_accessibility_browser_accessibility_manager_h 
	                     patch-content_browser_browser_main_loop_cc 
	                     patch-content_browser_child_process_launcher_helper_linux_cc 
	                     patch-content_browser_device_sensors_data_fetcher_shared_memory_h 
	                     patch-content_browser_devtools_protocol_color_picker_cc 
	                     patch-content_browser_download_base_file_cc 
	                     patch-content_browser_gpu_gpu_data_manager_impl_private_cc 
	                     patch-content_browser_gpu_gpu_internals_ui_cc 
	                     patch-content_browser_media_media_internals_cc 
	                     patch-content_browser_ppapi_plugin_process_host_cc 
	                     patch-content_browser_renderer_host_media_video_capture_manager_cc 
	                     patch-content_browser_renderer_host_render_message_filter_cc 
	                     patch-content_browser_renderer_host_render_process_host_impl_cc 
	                     patch-content_browser_renderer_host_render_widget_host_view_aura_cc 
	                     patch-content_browser_renderer_host_render_widget_host_view_event_handler_cc 
	                     patch-content_child_child_process_cc 
	                     patch-content_child_child_process_h 
	                     patch-content_child_child_thread_impl_cc 
	                     patch-content_common_BUILD_gn 
	                     patch-content_common_view_messages_h 
	                     patch-content_gpu_gpu_main_cc 
	                     patch-content_public_common_content_switches_cc 
	                     patch-content_public_common_content_switches_h 
	                     patch-content_public_common_renderer_preferences_h 
	                     patch-content_renderer_render_thread_impl_cc 
	                     patch-content_renderer_renderer_main_cc 
	                     patch-content_utility_utility_main_cc 
	                     patch-device_bluetooth_BUILD_gn 
	                     patch-device_time_zone_monitor_time_zone_monitor_cc 
	                     patch-device_usb_BUILD_gn 
	                     patch-ipc_ipc_message_utils_cc 
	                     patch-mash_package_mash_packaged_service_cc 
	                     patch-media_BUILD_gn 
	                     patch-media_audio_BUILD_gn 
	                     patch-media_audio_audio_manager_cc 
	                     patch-media_audio_audio_manager_h 
	                     patch-media_base_video_frame_h 
	                     patch-media_capture_video_fake_video_capture_device_factory_cc 
	                     patch-media_capture_video_video_capture_device_client_cc 
	                     patch-media_capture_video_video_capture_device_factory_cc 
	                     patch-media_media_options_gni 
	                     patch-net_BUILD_gn 
	                     patch-net_http_http_network_session_cc 
	                     patch-net_proxy_proxy_config_service_linux_cc 
	                     patch-net_socket_udp_socket_posix_cc 
	                     patch-net_tools_cert_verify_tool_verify_using_path_builder_cc 
	                     patch-pdf_pdfium_pdfium_engine_cc 
	                     patch-services_ui_gpu_gpu_main_cc 
	                     patch-third_party_WebKit_Source_bindings_core_v8_V8ScriptRunner_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_FontCache_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_FontCache_h 
	                     patch-third_party_WebKit_Source_platform_fonts_SimpleFontData_cpp 
	                     patch-third_party_WebKit_Source_platform_fonts_skia_FontCacheSkia_cpp 
	                     patch-third_party_WebKit_Source_web_PopupMenuImpl_cpp 
	                     patch-third_party_angle_BUILD_gn 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_ia32_config_asm 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_ia32_config_h 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_x64_config_asm 
	                     patch-third_party_ffmpeg_chromium_config_Chrome_openbsd_x64_config_h 
	                     patch-third_party_webrtc_BUILD_gn 
	                     patch-third_party_webrtc_base_BUILD_gn 
	                     patch-third_party_webrtc_base_httpcommon_cc 
	                     patch-third_party_webrtc_base_network_cc 
	                     patch-third_party_webrtc_base_physicalsocketserver_cc 
	                     patch-third_party_webrtc_base_platform_thread_cc 
	                     patch-tools_gn_args_cc 
	                     patch-tools_gn_bootstrap_bootstrap_py 
	                     patch-ui_base_resource_resource_bundle_cc 
	                     patch-ui_gfx_canvas_skia_cc 
	                     patch-ui_gl_BUILD_gn 
	                     patch-ui_gl_gl_bindings_autogen_glx_cc 
	                     patch-ui_gl_sync_control_vsync_provider_cc 
	                     patch-ui_gl_sync_control_vsync_provider_h 
	                     patch-ui_message_center_message_center_style_h 
	                     patch-ui_message_center_views_message_center_button_bar_cc 
	                     patch-ui_message_center_views_message_center_button_bar_h 
	                     patch-ui_message_center_views_toast_contents_view_cc 
	                     patch-ui_views_accessibility_native_view_accessibility_h 
	                     patch-ui_views_controls_label_cc 
	                     patch-ui_views_controls_textfield_textfield_cc 
	                     patch-ui_views_window_custom_frame_view_cc 
	                     patch-v8_BUILD_gn 
	www/iridium/pkg: PLIST 
Added files:
	www/iridium/patches: patch-base_debug_proc_maps_linux_cc 
	                     patch-base_threading_thread_task_runner_handle_cc 
	                     patch-breakpad_src_common_simple_string_dictionary_h 
	                     patch-chrome_app_chrome_main_cc 
	                     patch-chrome_app_shutdown_signal_handlers_posix_cc 
	                     patch-components_tracing_common_process_metrics_memory_dump_provider_cc 
	                     patch-components_tracing_common_process_metrics_memory_dump_provider_h 
	                     patch-services_catalog_public_cpp_manifest_parsing_util_cc 
	                     patch-services_catalog_store_cc 
	                     patch-services_catalog_store_h 
	                     patch-storage_browser_quota_quota_settings_cc 
	                     patch-third_party_node_node_py 
Removed files:
	www/iridium/patches: patch-chrome_BUILD_gn 
	                     patch-chrome_browser_chrome_browser_main_posix_cc 
	                     patch-chrome_browser_gpu_gpu_feature_checker_cc 
	                     patch-chrome_browser_ui_views_chrome_views_delegate_cc 
	                     patch-third_party_webrtc_voice_engine_voice_engine_defines_h 

Log message:
update to 58.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:23:36

Modified files:
	audio/py-acoustid: Makefile distinfo 

Log message:
Update to py-acoustid-1.1.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:24:36

Modified files:
	audio/py-eyed3 : Makefile distinfo 

Log message:
Update to eyeD3-0.7.11.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/28 16:29:31

Modified files:
	comms/xlog     : Makefile distinfo 

Log message:
Update to xlog-2.0.14.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/28 16:38:51

Modified files:
	lib/libcrypto  : malloc-wrapper.c 
	lib/libcrypto/rsa: rsa_eay.c rsa_saos.c rsa_sign.c 
	lib/libcrypto/x509: x509_vfy.c 

Log message:



CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/28 16:46:40

Modified files:
	lib/libcrypto  : malloc-wrapper.c 
	lib/libcrypto/rsa: rsa_eay.c rsa_saos.c rsa_sign.c 
	lib/libcrypto/x509: x509_vfy.c 

Log message:
revert previous accidental commit


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/28 17:03:58

Modified files:
	lib/libcrypto/x509: x509_vfy.c 

Log message:
Revert previous change that forced consistency between return value and
error code, since this breaks the documented API. Under certain circumstances
this will result in incorrect successful certiticate verification (where
a user supplied callback always returns 1, and later code checks the error
code to potentially abort post verification)


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/28 17:12:04

Modified files:
	lib/libcrypto/x509: Tag: OPENBSD_6_1 x509_vfy.c 

Log message:
MFC: Revert previous change that forced consistency between return value and
error code, since this breaks the documented API. Under certain circumstances
this will result in incorrect successful certiticate verification (where
a user supplied callback always returns 1, and later code checks the error
code to potentially abort post verification)


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/04/28 17:33:07

Modified files:
	sys/dev        : softraid_concat.c 

Log message:
Restore calculation of volume size. Accidentally removed in
r1.25. Fixes creation of concat volumes.

Noticed by and diff from Thordur I. Bjornsson via tech@

ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/28 18:32:21

Modified files:
	distrib/sets/lists/comp: md.amd64 mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/04/28 19:57:04

Added files:
	regress/usr.sbin/syslogd: args-secure-udp.pl 

Log message:
Test that suslogd's UDP sockets bound to *.514 do not receive packets
if the -u insecure mode is not selected.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/04/28 20:16:18

ports/databases/sqlite3-tcl/patches

Update of /cvs/ports/databases/sqlite3-tcl/patches
In directory cvs.openbsd.org:/tmp/cvs-serv42811/patches

Log Message:
Directory /cvs/ports/databases/sqlite3-tcl/patches added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/28 22:12:25

Modified files:
	usr.bin/ssh    : ssh-keygen.1 ssh-keygen.c 

Log message:
allow ssh-keygen to include arbitrary string or flag certificate
extensions and critical options. ok markus@ dtucker@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/04/29 00:06:01

Modified files:
	usr.bin/ssh    : ssh-keygen.1 

Log message:
tweak previous;


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/29 00:22:05

Modified files:
	lang/g77       : Makefile 

Log message:
get libgcc location in a simpler way that also works with clang.
fixes dependent ports


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/29 00:54:29

Added files:
	comms/owx/patches: patch-src_file_cc patch-src_throw_cc 

Log message:
missing prototypes


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/29 01:44:08

Modified files:
	devel/meson    : Makefile distinfo 

Log message:
Update to meson-0.40.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/29 01:44:19

Modified files:
	x11/gnome/sushi: Makefile distinfo 
	x11/gnome/sushi/pkg: PLIST 

Log message:
Update to sushi-3.24.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/29 01:52:56

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.45.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/29 01:53:06

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.82.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/29 02:02:56

Modified files:
	sys/kern       : kern_pledge.c 

Log message:
Mark futex(2) as PLEDGE_STDIO like all other thread-related syscalls.

From semarie@, ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 02:17:57

Modified files:
	devel/p5-Devel-Symdump: Makefile distinfo 

Log message:
Update to p5-Devel-Symdump-2.18.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 02:39:12

Modified files:
	devel/p5-Parallel-Forker: Makefile distinfo 

Log message:
Update to p5-Parallel-Forker-1.234.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/29 03:24:28

Modified files:
	graphics/digikam-kde4: Makefile 

Log message:
disable doxygen

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 03:40:01

Modified files:
	devel/p5-Sub-Exporter-Progressive: Makefile distinfo 

Log message:
Update to p5-Sub-Exporter-Progressive-0.001013.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 03:53:34

Modified files:
	devel/p5-Sys-Mmap: Makefile distinfo 

Log message:
Update to p5-Sys-Mmap-0.19.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/29 04:05:49

Modified files:
	sys/arch/arm64/arm64: machdep.c cpu.c 

Log message:
store cpu model information in the buffer used by the hw.model sysctl
ok kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 04:09:10

Modified files:
	devel/p5-Test-Without-Module: Makefile distinfo 

Log message:
Update to p5-Test-Without-Module-0.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 04:37:56

Modified files:
	devel/p5-Test-POE-Server-TCP: Makefile distinfo 

Log message:
Update to p5-Test-POE-Server-TCP-1.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 04:46:23

Modified files:
	devel/p5-Tree-Simple-View: Makefile distinfo 

Log message:
Update to p5-Tree-Simple-View-0.180001.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/04/29 05:26:37

Modified files:
	www/youtube-dl : Makefile distinfo 
	www/youtube-dl/pkg: PLIST 

Log message:
youtube-dl had 14 new releases with 36 core improvements and 109
extractor fixes during the last 40 days; noticed because youtube.com
broke again yesterday...  so update to VERSION=2017.04.28
"commit!" pirofti@ (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 06:30:21

Modified files:
	devel/p5-Type-Tiny: Makefile distinfo 

Log message:
Update to p5-Type-Tiny-1.000006.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/29 06:43:55

Modified files:
	usr.bin/mandoc : Makefile libman.h libmandoc.h libmdoc.h man.c 
	                 mdoc.c mdoc_macro.c mdoc_validate.c read.c 
	                 roff.c roff.h 
Removed files:
	usr.bin/mandoc : man_hash.c mdoc_hash.c 

Log message:
Parser unification: use nice ohashes for all three request and macro tables;
no functional change, minus two source files, minus 200 lines of code.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 06:52:31

Modified files:
	devel/p5-YAML-Shell: Makefile distinfo 

Log message:
Update to p5-YAML-Shell-0.71.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 07:16:38

Modified files:
	devel/p5-YAML-Syck: Makefile distinfo 

Log message:
Update to p5-YAML-Syck-1.30.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 07:26:12

Modified files:
	devel/p5-YAML-Tiny: Makefile distinfo 

Log message:
Update to p5-YAML-Tiny-1.70.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 07:40:15

Modified files:
	devel/p5-YAML-XS: Makefile distinfo 

Log message:
Update to p5-YAML-XS-0.64.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/29 08:16:10

Log message:
    import heartbeat-5.2.1
    
    Monitor services for their availability with active probing. Given a
    list of URLs, Heartbeat asks the simple question: Are you alive?
    Heartbeat ships this information and response time to the rest of the
    Elastic Stack for further analysis.
    
    ok aja@
    
    Status:
    
    Vendor Tag:	jasper
    Release Tags:	jasper_20172904
    
    N ports/sysutils/beats/heartbeat/distinfo
    N ports/sysutils/beats/heartbeat/Makefile
    N ports/sysutils/beats/heartbeat/pkg/PLIST
    N ports/sysutils/beats/heartbeat/pkg/DESCR
    N ports/sysutils/beats/heartbeat/pkg/heartbeat.rc
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/29 08:17:32

Modified files:
	sysutils/beats : Makefile 

Log message:
+heartbeat


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 08:24:10

Modified files:
	devel/py-algorithm-munkres: Makefile distinfo 

Log message:
Update to py-algorithm-munkres-1.0.8.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/04/29 08:28:21

Modified files:
	distrib/sets/lists/comp: clang.amd64 clang.i386 md.amd64 

Log message:
put clang headers into clang sets
ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/29 08:31:40

Modified files:
	japanese/Wnn   : Makefile 
	japanese/Wnn/patches: patch-Wnn_conv_cvt_read_c 
	                      patch-Wnn_etc_bdic_c patch-Wnn_etc_msg_c 
	                      patch-Wnn_etc_pwd_c patch-Wnn_jlib_jl_c 
	                      patch-Wnn_jlib_js_c 
	                      patch-Wnn_jserver_b_index_c 
	                      patch-Wnn_jserver_de_c 
	                      patch-Wnn_jserver_do_filecom_c 
	                      patch-Wnn_jserver_error_c 
	                      patch-Wnn_jserver_readfile_c 
	                      patch-Wnn_jutil_atod_c 
	                      patch-Wnn_jutil_atof_c 
	                      patch-Wnn_jutil_dtoa_c 
	                      patch-Wnn_jutil_ujisf_c 
	                      patch-Wnn_jutil_wddel_c 
	                      patch-Wnn_jutil_wdreg_c 
	                      patch-Wnn_jutil_wnnstat_c 
	                      patch-Wnn_jutil_wnntouch_c 
	                      patch-Wnn_uum_jhlp_c 
	                      patch-Wnn_uum_key_bind_c 
	                      patch-Wnn_uum_prologue_c 
	                      patch-Wnn_uum_setutmp_c 
	                      patch-Wnn_uum_termio_c 
	                      patch-Wnn_uum_wnnrc_op_c 
	                      patch-Xwnmo_xjutil_init_w_c 
	                      patch-Xwnmo_xjutil_jhlp_c 
	                      patch-Xwnmo_xjutil_jutil_c 
	                      patch-Xwnmo_xwnmo_do_xjutil_c 
	                      patch-Xwnmo_xwnmo_jhlp_c 
	                      patch-Xwnmo_xwnmo_killxwnmo_c 
	                      patch-kWnn_jlib_Imakefile 
Added files:
	japanese/Wnn/patches: patch-Wnn_etc_dic_atojis_c 
	                      patch-Wnn_etc_gethinsi_c 
	                      patch-Wnn_etc_server_env_c 
	                      patch-Wnn_etc_sstrings_c 
	                      patch-Wnn_etc_xutoj_c 
	                      patch-Wnn_etc_yincoding_c 
	                      patch-Wnn_jlib_Imakefile 
	                      patch-Wnn_jlib_V3_jlv3_c 
	                      patch-Wnn_jlib_wnnerrmsg_c 
	                      patch-Wnn_jserver_Imakefile 
	                      patch-Wnn_jserver_dispatch_c 
	                      patch-Wnn_jserver_do_env_c 
	                      patch-Wnn_jserver_initjserv_c 
	                      patch-Wnn_jserver_sisheng_c 
	                      patch-Wnn_jutil_oldatonewa_c 
	                      patch-Wnn_jutil_wnnkill_c 
	                      patch-Wnn_romkan_rk_bltinfn_c 
	                      patch-Wnn_romkan_rk_modread_c 
	                      patch-Wnn_uum_basic_op_c 
	                      patch-Wnn_uum_hinsi_c 
	                      patch-Wnn_uum_inspect_c 
	                      patch-Wnn_uum_jikouho_c 
	                      patch-Wnn_uum_jutil_c 
	                      patch-Wnn_uum_kensaku_c 
	                      patch-Wnn_uum_printf_c 
	                      patch-Wnn_uum_screen_c 
	                      patch-Wnn_uum_select_ele_c 
	                      patch-Wnn_uum_touroku_c 
	                      patch-Wnn_uum_ttyfdslot_c 
	                      patch-Wnn_uum_uif_c 
	                      patch-Xwnmo_xjutil_xext_h 
	                      patch-Xwnmo_xjutil_xselectele_c 
	                      patch-Xwnmo_xwnmo_ext_h 
	                      patch-Xwnmo_xwnmo_ichiran_c 
	                      patch-Xwnmo_xwnmo_jutil_c 
	                      patch-Xwnmo_xwnmo_multi_lang_c 
	                      patch-cWnn_jlib_Imakefile 
	                      patch-cWnn_jserver_Imakefile 
	                      patch-kWnn_jserver_Imakefile 

Log message:
fixes for clang: don't compile a clone of getopt.
while there, fix system includes, implicit ints, and void main.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/29 08:33:23

Modified files:
	www/kibana     : Makefile distinfo 
	www/kibana/pkg : PLIST 

Log message:
update to kibana-5.3.1; from Pavel Korovin (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 08:36:25

Modified files:
	devel/py-altgraph: Makefile distinfo 

Log message:
Update to py-altgraph-0.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 08:47:41

Modified files:
	devel/py-bytecodeassembler: Makefile distinfo 

Log message:
Update to py-bytecodeassembler-0.6.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/29 08:49:38

Modified files:
	infrastructure/bin: update-patches 
	infrastructure/mk: bsd.port.mk 

Log message:
new update-patches.

that one deals with .beforesubst files, so it should be nicer with
SUBST_CMD handling. It also doesn't care nor emits timestamps markers
in diff, so less garbage to think about.

Please report any issue, things work better so far, but it's a work
in progress and change to make it better.

'let's finish this in tree' okay aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/29 09:30:04

Modified files:
	devel/commoncpp: Makefile 
Added files:
	devel/commoncpp/patches: patch-inc_cc++_string_h 
	                         patch-src_cidr_cpp 

Log message:
let it build with clang...
- friend declaration with default params have to be definitions.
- the cidr set functions are very disturbing, assume people don't use
it on network classes with constants, because it *will* try to modify
char constants.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/29 09:35:34

Removed files:
	math/logic2cnf : Makefile distinfo 
	math/logic2cnf/pkg: DESCR PLIST 

Log message:
Remove math/logic2cnf from ports.

I wrote logic2cnf many years ago and have no intention of maintaining it.
No-one appears to be using it, so let's remove it (especially since it doesn't
build under clang).

OK naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/29 09:36:50

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Add quirks for removal of logic2cnf.

OK naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/04/29 09:37:32

Modified files:
	math           : Makefile 

Log message:
Unlink math/logic2cnf.

OK naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/29 10:16:39

Modified files:
	productivity/kmymoney: Makefile 

Log message:
disable doxygen

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/29 10:17:35

Modified files:
	productivity/libalkimia: Makefile 

Log message:
disable doxygen

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/29 10:27:40

Modified files:
	x11/xscribble/patches: patch-Imakefile patch-lirec_Imakefile 
	                       patch-lirec_li_recognizer_c 
	                       patch-lirec_util_h 
Added files:
	x11/xscribble/patches: patch-lirec_sc_c 

Log message:
fix build with clang + regen other patches with longer lines


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/29 11:07:09

Modified files:
	sys/arch/arm64/arm64: ast.c 

Log message:
Call refreshcreds() in ast() since we may get there without going through
do_el0_sync() or mi_syscall().


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/29 11:10:43

Modified files:
	sys/arch/arm64/arm64: trap.c 

Log message:
Move the userret() call out of data_abort() and simply call it just before we
return from do_el0_sync().  Prevents future mistakes.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/29 11:24:41

Modified files:
	sys/arch/arm64/conf: GENERIC RAMDISK files.arm64 
Added files:
	sys/arch/arm64/dev: agintc.c 

Log message:
Add agintc(4), a driver for interrupt controllers conforming to ARM's
generic interrupt controller architecture specification v3/4.

The hard work was done by drahn@, I just cleaned it up a bit and fixed
a couple of bugs.

ok patrick@, drahn@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/29 12:13:25

Modified files:
	sys/arch/arm64/dev: agintc.c 

Log message:
Decrement ci_idepth on all returns from agintc_irq_handler().


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 12:43:31

Modified files:
	lib/libcrypto/arc4random: getentropy_linux.c 

Log message:
Switch Linux getrandom() usage to non-blocking mode, continuing to
use fallback mechanims if unsuccessful.

The design of Linux getrandom is broken.  It has an
uninitialized phase coupled with blocking behaviour, which
is unacceptable from within a library at boot time without
possible recovery.
ok deraadt@ jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 12:57:00

Modified files:
	lib/libcrypto/arc4random: Tag: OPENBSD_6_1 getentropy_linux.c 

Log message:
MFC: Switch Linux getrandom() usage to non-blocking mode, continuing to
use fallback mechanims if unsuccessful.

The design of Linux getrandom is broken.  It has an
uninitialized phase coupled with blocking behaviour, which
is unacceptable from within a library at boot time without
possible recovery.
ok deraadt@ jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	jung@cvs.openbsd.org	2017/04/29 13:03:45

Modified files:
	usr.sbin/smtpd : mail.file.c 

Log message:
fix argument check, this should never trigger because it is a libexec called by
smtpd, but for the sake of correctness

from Edgar Pettijohn

ok gilles@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/29 13:18:49

Modified files:
	math/ginac     : Makefile distinfo 
	math/ginac/patches: patch-configure 
	math/ginac/pkg : PLIST 
Removed files:
	math/ginac/patches: patch-check_check_matrices_cpp 

Log message:
update to ginac-1.7.2

ok pirofti@ jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	bcook@cvs.openbsd.org	2017/04/29 13:56:13

Modified files:
	lib/libcrypto  : Tag: OPENBSD_6_1 opensslv.h 

Log message:
bump to 2.5.4


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/29 14:49:09

Modified files:
	sys/dev/fdt    : files.fdt 
Added files:
	sys/dev/fdt    : ehci_fdt.c 
Removed files:
	sys/dev/fdt    : sxiehci.c 

Log message:
Replace sxiehci.c with more generic glue in ehci_fdt.c that is similiar in
spirit to the xhci_fdt.c glue.  The new code sets up any attached USB PHYs
based on their "compatible" property.  All the hardware supported by sxiehci.c
should be supported by this new code.  In addition to that this adds support
for the EHCI controllers found on various Rockchip hardware such as the
RK3288 and RK3399 SoCs.

ok patrick@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/04/29 14:54:53

Modified files:
	textproc/cloc  : Makefile distinfo 
Removed files:
	textproc/cloc/patches: patch-Unix_Makefile 

Log message:
upgrade to 1.72, drop patch merged upstream

ok sthen


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/29 15:04:29

Modified files:
	editors/vim    : Makefile distinfo 
	editors/vim/patches: patch-runtime_filetype_vim 
	                     patch-src_configure_ac 
	editors/vim/pkg: PFRAG.no-no_x11-main PLIST-main 

Log message:
update to vim-8.0.587


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/29 15:22:44

Modified files:
	devel/py-test-xdist: Makefile distinfo 

Log message:
Update to py-test-xdist-1.16.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/04/29 15:27:47

Modified files:
	usr.bin/tmux   : screen-write.c 

Log message:
Fix UTF-8 combining characters in column 0, based on a diff from Keith
Winstein.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 15:48:44

Modified files:
	lib/libcrypto  : crypto.h cryptlib.c 
	lib/libcrypto/evp: names.c 

Log message:
Stop calling OPENSSL_init() internally, since it is a no-op. Also place
it under #ifndef LIBRESSL_INTERNAL.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 15:54:54

Modified files:
	lib/libssl     : ssl_algs.c 

Log message:
Make it safe to call SSL_library_init more than once.

We are basically admitting that pthread is everywhere, and
we will be using it for other things too.
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 16:22:24

Modified files:
	lib/libssl     : Makefile 

Log message:
We now require you to have a working libpthread


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/04/29 16:24:15

Modified files:
	games/xboard   : Makefile distinfo 
	games/xboard/patches: patch-Makefile_in 
	games/xboard/pkg: PLIST 
Added files:
	games/xboard/patches: patch-gtk_xboard_h 
Removed files:
	games/xboard/patches: patch-args_h patch-xaw-xboard_h 

Log message:
update to xboard-4.9.1

Initial diff from me, improved version from and ok from jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 16:31:42

Modified files:
	lib/libssl     : Makefile ssl_algs.c 

Log message:
Revert previous - we still want to do this, but I forgot about the installer
and want to avoid the wrath of theo when he arrives home in a couple
of hours :)


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/29 16:36:16

Modified files:
	editors/moe    : Makefile 
Added files:
	editors/moe/patches: patch-window_vector_cc 

Log message:
fix build with clang and use regular GNU master site


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 17:38:49

Modified files:
	lib/libssl     : ssl_srvr.c 

Log message:
Fix a bug caused by the return value being set early to signal successful
DTLS cookie validation. This can mask a later failure and result in a
positive return value being returned from ssl3_get_client_hello(), when
it should return a negative value to propagate the error.

Ironically this was introduced in OpenSSL 2e9802b7a7b with the commit
message "Fix DTLS cookie management bugs".

Fix based on OpenSSL.

Issue reported by Nicolas Bouliane <nbouliane at jive dot com>.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 17:41:32

Modified files:
	lib/libssl     : Tag: OPENBSD_6_1 ssl_srvr.c 

Log message:
MFC.

Fix a bug caused by the return value being set early to signal successful
DTLS cookie validation. This can mask a later failure and result in a
positive return value being returned from ssl3_get_client_hello(), when
it should return a negative value to propagate the error.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 18:06:09

Modified files:
	lib/libssl/src/ssl: Tag: OPENBSD_6_0 s3_srvr.c 

Log message:
MFC.

Fix a bug caused by the return value being set early to signal successful
DTLS cookie validation. This can mask a later failure and result in a
positive return value being returned from ssl3_get_client_hello(), when
it should return a negative value to propagate the error.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 20:10:22

Modified files:
	lib/libtls     : tls_config.c 

Log message:
Add a tls_keypair_clear_key() function that uses freezero() to make key
material inaccessible, then call it from the appropriate places.

ok beck@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jturner@cvs.openbsd.org	2017/04/29 20:15:24

Modified files:
	security/spiped: Makefile distinfo 
	security/spiped/pkg: PLIST 

Log message:
Update spiped to 1.6.0


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 21:53:31

Modified files:
	regress/lib/libtls/verify: verifytest.c 

Log message:
Add missing tls_init() and tls_free() calls.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 22:18:58

Modified files:
	lib/libcrypto/bio: b_sock.c 

Log message:
Microsoft Windows hates BIO_get_accept_socket in portable. Fix it to
not be awful or have any claims on supporting ipv6 when it does so
very badly
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 22:21:53

Modified files:
	lib/libssl     : ssl_asn1.c 

Log message:
Switch back to freezero() and explicitly initialise data_len to zero. The
previous code was safe since data would always be NULL if data_len was
uninitialised, however compilers cannot know this.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/04/29 22:32:58

Modified files:
	sys/arch/octeon/dev: cn30xxpow.c cn30xxpowvar.h 

Log message:
Remove unused POW status functions. Makes clang happier.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/04/29 22:44:58

Modified files:
	lib/libcrypto  : Makefile 
	lib/libssl     : Makefile 
	lib/libtls     : Makefile 

Log message:
Only enable -Werror on libcrypto/libssl/libtls if we are building with
gcc4. This should avoid failed builds while transitioning compilers.
While here also make the CFLAGS blocks consistent across makefiles.

Discussed with deraadt@, ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 23:09:22

Modified files:
	lib/libcrypto/bio: b_sock.c 

Log message:
Rework BIO_accept to be more like modern code.
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/29 23:43:05

Modified files:
	lib/libcrypto/bio: b_sock.c 

Log message:
Make BIO_get_host_ip just yet another getaddrinfo wrapper


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 00:16:45

Modified files:
	graphics/clutter/cogl: Makefile 

Log message:
maintainer-mode is another option


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 02:03:12

Modified files:
	devel/p5-Test-Output: Makefile distinfo 

Log message:
Update to p5-Test-Output-1.031.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/30 02:11:06

Modified files:
	x11/gnome/font-viewer: Makefile distinfo 
	x11/gnome/font-viewer/pkg: PLIST 

Log message:
update to gnome-font-viewer-3.24.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/30 02:12:11

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to p5-SVG-2.70


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/30 02:12:34

Modified files:
	devel/iso-codes: Makefile distinfo 

Log message:
update to iso-codes-3.75


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 02:14:03

Modified files:
	games/wtf      : Makefile distinfo 

Log message:
Update to wtf-20170324.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 02:24:33

Added files:
	games/dangerdeep/patches: patch-src_coastmap_h patch-src_color_h 

Log message:
shut up some noise in clang++, match struct against struct.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 02:25:00

Added files:
	games/dangerdeep/patches: patch-src_global_data_h 

Log message:
more noise in clang, put ; on a separate line


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 02:25:28

Added files:
	games/dangerdeep/patches: patch-src_model_cpp 

Log message:
you have to define static members along with declaring them


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 02:25:47

Added files:
	games/dangerdeep/patches: patch-src_tone_reproductor_h 

Log message:
fix obvious bug


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 02:26:07

Added files:
	games/dangerdeep/patches: patch-src_widget_cpp 

Log message:
retval is a pointer


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 02:29:51

Modified files:
	mail/p5-Mail-IMAPTalk: Makefile distinfo 

Log message:
Update to p5-Mail-IMAPTalk-4.04.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/04/30 02:33:32

Modified files:
	textproc/elasticsearch: Makefile distinfo 
	textproc/elasticsearch/pkg: PLIST 

Log message:
update to elasticsearch-5.3.2l


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 02:50:52

Modified files:
	mail/pear-Mail-mimeDecode: Makefile distinfo 
	mail/pear-Mail-mimeDecode/pkg: PLIST 

Log message:
Update to pear-Mail-mimeDecode-1.5.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 02:56:45

Modified files:
	games/dangerdeep: Makefile 
Added files:
	games/dangerdeep/patches: patch-src_condvar_cpp 
	                          patch-src_condvar_h patch-src_game_h 
	                          patch-src_log_cpp 
	                          patch-src_message_queue_h 
	                          patch-src_modelmeasure_cpp 
	                          patch-src_mutex_cpp patch-src_mutex_h 
	                          patch-src_thread_h 

Log message:
wrap dangerdeep's mutex into its own namespace so that it doesn't conflict
with std::mutex on modern compilers.
Fixes the build with clang, and still builds with gcc


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 02:59:34

Modified files:
	math/p5-Math-Derivative: Makefile distinfo 

Log message:
Update to p5-Math-Derivative-0.04.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 03:01:14

Modified files:
	lib/libc       : Symbols.list shlib_version 
	lib/libc/sys   : Makefile.inc 

Log message:
Add futex(2) shim, bump minor.

Inputs from guenther@, ok kettenis@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 03:02:09

src/regress/sys/kern/futex

Update of /cvs/src/regress/sys/kern/futex
In directory cvs.openbsd.org:/tmp/cvs-serv7083/futex

Log Message:
Directory /cvs/src/regress/sys/kern/futex added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 03:03:58

Modified files:
	regress/sys/kern: Makefile 
Added files:
	regress/sys/kern/futex: Makefile futex.c futex.h 

Log message:
Regression tests for futex(2).


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 03:10:00

Modified files:
	math/p5-Math-GMP: Makefile distinfo 

Log message:
Update to p5-Math-GMP-2.14.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 03:36:59

Modified files:
	x11/libdnd/patches: patch-DNDlib_DragAndDrop_c 
Added files:
	x11/libdnd/patches: patch-DNDlib_configure 

Log message:
fix stupid configure test.
regen patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 03:58:48

Modified files:
	math/udunits   : Makefile distinfo 
	math/udunits/patches: patch-lib_Makefile_in 

Log message:
Update to udunits-2.2.24.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 04:10:21

Modified files:
	sys/kern       : sys_futex.c 

Log message:
Return ENOSYS for unsupported operation.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 04:11:03

Modified files:
	regress/sys/kern/futex: futex.c 

Log message:
Check that unsupported operation returns ENOSYS.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 04:11:44

Modified files:
	audio/xcd/patches: patch-cdplayer_cc 

Log message:
silence most warnings and an error with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 04:14:27

ports/security/glib-openssl/patches

Update of /cvs/ports/security/glib-openssl/patches
In directory cvs.openbsd.org:/tmp/cvs-serv79999/patches

Log Message:
Directory /cvs/ports/security/glib-openssl/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 04:21:56

Modified files:
	databases/evolution-data-server: Makefile 
	databases/evolution-data-server/patches: patch-CMakeLists_txt 
	mail/evolution : Makefile 
Removed files:
	mail/evolution/patches: patch-CMakeLists_txt 

Log message:
Drop patch and use CMAKE_C_FLAGS instead.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 04:22:19

Modified files:
	mail/evolution-ews/patches: 
	                            patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Sync patch with what was pushed upstream.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 04:29:09

Modified files:
	security/glib-openssl: Makefile 
Added files:
	security/glib-openssl/patches: patch-tls_openssl_gtlsbio_c 
	                               patch-tls_openssl_gtlsclientconnection-openssl_c 

Log message:
Fix build with clang and a bazillion of implicit declarations. Patches may
be revisited but it can't be worse.

reported by espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 04:36:32

Modified files:
	misc/p5-I18N-Charset: Makefile distinfo 

Log message:
Update to p5-I18N-Charset-1.415.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 04:36:43

Modified files:
	security/glib-openssl: Makefile 
	security/glib-openssl/patches: patch-tls_openssl_gtlsbio_c 
	                               patch-tls_openssl_gtlsclientconnection-openssl_c 
	security/glib-openssl/pkg: PLIST 
Added files:
	security/glib-openssl/patches: 
	                               patch-tls_openssl_openssl-module_c 

Log message:
Fix a few warnings (from upstream).
Regen PLIST while here.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 04:56:02

Modified files:
	security/glib-openssl/patches: patch-tls_openssl_gtlsbio_c 
	                               patch-tls_openssl_gtlsclientconnection-openssl_c 

Log message:
Add BZ URL.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 04:56:03

Modified files:
	misc/p5-User-Identity: Makefile distinfo 

Log message:
Update to p5-User-Identity-0.97.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 05:04:36

Modified files:
	misc/ytree     : Makefile distinfo 

Log message:
Update to ytree-1.99.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 05:19:12

Modified files:
	net/p5-Bot-BasicBot: Makefile distinfo 

Log message:
Update to p5-Bot-BasicBot-0.91.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 05:28:14

Modified files:
	net/gnaughty   : Makefile 

Log message:
Bump autofuck requirements because I am a naughty boy.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/30 05:28:28

Modified files:
	graphics/tesseract/tesseract: Makefile 

Log message:
needs libtool


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 05:30:50

Modified files:
	net/p5-Net-SMTP-SSL: Makefile distinfo 

Log message:
Update to p5-Net-SMTP-SSL-1.04.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 05:41:38

Modified files:
	net/p5-Net-SMTPS: Makefile distinfo 

Log message:
Update to p5-Net-SMTPS-0.06.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 05:51:07

Modified files:
	net/p5-Net-TFTP: Makefile distinfo 

Log message:
Update to p5-Net-TFTP-0.1901.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 05:55:52

Modified files:
	security/glib-openssl/patches: patch-tls_openssl_gtlsbio_c 
	                               patch-tls_openssl_gtlsclientconnection-openssl_c 

Log message:
Pushed upstream.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/04/30 06:08:32

Modified files:
	www/lynx       : Makefile distinfo 
	www/lynx/patches: patch-lynx_cfg patch-lynx_man 
	                  patch-src_LYReadCFG_c patch-src_LYUtils_c 

Log message:
Update lynx to 2.8.9pl13.

While there, amend our lynx.cfg patch to switch default site to HTTPS.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 07:04:49

Modified files:
	sys/uvm        : uvm_glue.c uvm_extern.h 
	sys/sys        : systm.h 
	sys/kern       : subr_prf.c 
	sys/dev/isa    : com_isapnp.c com_isa.c com_commulti.c 
	sys/dev/ic     : z8530tty.c z8530sc.h comvar.h com.c 
	sys/ddb        : db_run.c 
	sys/conf       : files 
	sys/arch/sparc64/dev: zs.c cons.h 
	sys/arch/sgi/hpc: zs.c 
	sys/arch/i386/include: db_machdep.h cpufunc.h 
	sys/arch/i386/i386: trap.c machdep.c db_memrw.c 
	sys/arch/i386/conf: files.i386 
	sys/arch/armv7/include: machine_reg.h 
	sys/arch/armv7/imx: imxuart.c 
	sys/arch/armv7/exynos: exuart.c 
	sys/arch/armv7/dev: pluart.c 
	sys/arch/arm64/include: machine_reg.h 
	sys/arch/arm64/dev: pluart.c 
	sys/arch/arm/conf: files.arm 
	sys/arch/arm/arm: undefined.c fault.c 
	sys/arch/amd64/include: db_machdep.h cpufunc.h 
	sys/arch/amd64/conf: files.amd64 
	sys/arch/amd64/amd64: trap.c machdep.c db_memrw.c 
	sys/arch/alpha/alpha: machdep.c dec_kn300.c dec_1000a.c 
Removed files:
	sys/sys        : kgdb.h 
	sys/kern       : kgdb_stub.c 
	sys/arch/i386/i386: kgdb_machdep.c 
	sys/arch/amd64/amd64: kgdb_machdep.c 

Log message:
Unifdef KGDB.

It doesn't compile und hasn't been working during the last decade.

ok kettenis@, deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 07:23:09

Modified files:
	net/p5-RPC-XML : Makefile distinfo 

Log message:
Update to p5-RPC-XML-0.80.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/04/30 07:41:10

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Tweak error message when running on an unsupported release.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/30 07:54:00

Modified files:
	sys/arch/arm64/dev: mainbus.c 

Log message:
Make early attrbute work here as well.  Remove unreachable panic while there.

ok visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/30 07:55:57

Modified files:
	misc/mmv       : Makefile 
	misc/mmv/patches: patch-mmv_1 patch-mmv_c 

Log message:
adding missing includes and not redefining void as char makes this build
with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 07:56:43

Modified files:
	security/p5-Crypt-OpenSSL-X509: Makefile distinfo 

Log message:
Update to p5-Crypt-OpenSSL-X509-1.807.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/30 08:00:06

Modified files:
	sys/dev/fdt    : files.fdt 
	sys/arch/arm64/conf: GENERIC RAMDISK files.arm64 
Added files:
	sys/dev/fdt    : rkgrf.c 

Log message:
Add rkgrf(4), a driver that makes the "generic register file" of the Rockchip
RK3399 available to other drivers through the regmap interface.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/30 08:03:44

Modified files:
	sys/arch/arm64/conf: GENERIC RAMDISK 

Log message:
Add xhci@fdt, and move ehci(4) from the sunxi block to the generic block.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 08:10:28

Modified files:
	security/p5-Net-SSL-ExpireDate: Makefile distinfo 

Log message:
Update to p5-Net-SSL-ExpireDate-1.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 08:26:13

Modified files:
	security/scrypt: Makefile distinfo 

Log message:
Update to scrypt-1.2.1.


CVSROOT:	/cvs
Module name:	www
Changes by:	edd@cvs.openbsd.org	2017/04/30 08:29:11

Modified files:
	faq            : upgrade61.html 

Log message:
Make the order of the upgrade steps more explicit.

Input from tb@. OK tb@, tj@.

Thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 08:36:00

Modified files:
	sysutils/ddrescue: Makefile distinfo 

Log message:
Update to ddrescue-1.22.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/30 08:48:16

Added files:
	www/mozilla-firefox/patches: 
	                             patch-media_libstagefright_binding_mp4parse_capi_Cargo_toml 

Log message:
Add patch to fix build with upcoming cargo 0.17, from semarie@.
See https://bugzilla.mozilla.org/show_bug.cgi?id=1360521


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 08:55:24

Modified files:
	textproc/p5-String-Approx: Makefile distinfo 

Log message:
Update to p5-String-Approx-3.28.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/04/30 09:05:27

Modified files:
	share/man/man7 : mandoc_char.7 

Log message:
Mention that escaping "^" as "\(ha" in source code samples improves
portability, in particular when rendering to formats such as PDF
with real typesetters such as groff.

While here, make it even more explicit that the rendering of raw
ASCII accents ( ` ' ~ ^ ) found in the input is kind of a mess and
varies among implementations, software versions, macro sets, and
output devices.

Issue noticed when reading the groff_char(7) manual, and confirmed
by testing with current groff.

OK bentley@, "certainly no objection" jmc@

N.B.: Nobody will get scolded for ignoring this subtlety.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 09:11:10

Modified files:
	textproc/p5-Template: Makefile distinfo 
	textproc/p5-Template/pkg: PLIST 

Log message:
Update to p5-Template-2.27.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/30 09:17:28

Modified files:
	distrib/sets/lists/base: mi 
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 09:23:21

Modified files:
	textproc/p5-Text-Aligner: Makefile distinfo 

Log message:
Update to p5-Text-Aligner-0.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 09:29:46

Modified files:
	textproc/p5-Text-Format: Makefile distinfo 

Log message:
Update to p5-Text-Format-0.60.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/04/30 09:38:15

Modified files:
	audio/grip     : Makefile 
Added files:
	audio/grip/patches: patch-src_gripcfg_c 

Log message:
* add missing return value (clang fix from upstream)
* replace gettext module and sync wantlib


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 09:40:02

Modified files:
	textproc/p5-Text-Glob: Makefile distinfo 

Log message:
Update to p5-Text-Glob-0.11.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 09:47:03

Modified files:
	textproc/p5-Text-Template: Makefile distinfo 

Log message:
Update to p5-Text-Template-1.47.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 09:56:29

Modified files:
	textproc/p5-Text-Table: Makefile distinfo 

Log message:
Update to p5-Text-Table-1.132.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 10:03:01

Modified files:
	textproc/p5-XML-SemanticDiff: Makefile distinfo 

Log message:
Update to p5-XML-SemanticDiff-1.0005.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 10:14:36

Modified files:
	textproc/p5-XML-SAX-Base: Makefile distinfo 

Log message:
Update to p5-XML-SAX-Base-1.09.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 10:26:21

Modified files:
	www/p5-CSS-Tiny: Makefile distinfo 

Log message:
Update to p5-CSS-Tiny-1.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/04/30 10:35:55

Modified files:
	www/p5-HTML-StripScripts: Makefile distinfo 

Log message:
Update to p5-HTML-StripScripts-1.06.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 10:45:46

Modified files:
	sys/arch/alpha/alpha: db_interface.c lock_machdep.c machdep.c 
	sys/arch/alpha/dev: sgmap_typedep.c 
	sys/arch/alpha/tc: scc.c 
	sys/arch/amd64/amd64: cpu.c db_interface.c lock_machdep.c 
	                      machdep.c 
	sys/arch/arm/arm: db_interface.c undefined.c 
	sys/arch/arm/cortex: ampintc.c 
	sys/arch/arm64/arm64: arm64_mutex.c db_interface.c machdep.c 
	sys/arch/arm64/dev: ampintc.c pluart.c bcm2836_intr.c agintc.c 
	sys/arch/armv7/armv7: armv7_machdep.c 
	sys/arch/armv7/broadcom: bcm2836_intr.c 
	sys/arch/armv7/dev: pluart.c 
	sys/arch/armv7/omap: if_cpsw.c 
	sys/arch/hppa/hppa: db_interface.c lock_machdep.c locore.S 
	                    pmap.c 
	sys/arch/i386/i386: cpu.c db_interface.c db_mp.c lock_machdep.c 
	                    machdep.c 
	sys/arch/landisk/dev: power.c 
	sys/arch/landisk/landisk: machdep.c 
	sys/arch/loongson/dev: bonito.c 
	sys/arch/loongson/loongson: generic2e_machdep.c machdep.c 
	sys/arch/luna88k/dev: mb89352.c mb89352var.h siotty.c 
	sys/arch/luna88k/luna88k: machdep.c 
	sys/arch/m88k/m88k: db_interface.c mplock.c 
	sys/arch/macppc/dev: macintr.c openpic.c pgs.c sysbutton.c zs.c 
	sys/arch/macppc/macppc: machdep.c 
	sys/arch/mips64/mips64: ipifuncs.c lcore_ddb.S lock_machdep.c 
	                        mutex.c 
	sys/arch/octeon/octeon: machdep.c 
	sys/arch/powerpc/ddb: db_interface.c 
	sys/arch/powerpc/powerpc: lock_machdep.c mutex.c 
	sys/arch/sgi/hpc: zs.c 
	sys/arch/sgi/sgi: machdep.c 
	sys/arch/sh/dev: scif.c 
	sys/arch/sh/sh : db_interface.c 
	sys/arch/socppc/socppc: machdep.c 
	sys/arch/sparc64/dev: consinit.c fd.c iommu.c pcons.c sab.c 
	                      sbbc.c vcons.c viommu.c zs.c 
	sys/arch/sparc64/sparc64: autoconf.c clock.c db_interface.c 
	                          intr.c lock_machdep.c locore.s pmap.c 
	                          vm_machdep.c 
	sys/ddb        : db_usrreq.c 
	sys/dev/ic     : aic6250.c aic6250var.h aic6360var.h aic6360.c 
	                 com.c ncr5380sbc.c wd33c93.c osiop.c 
	sys/dev/usb/dwc2: dwc2.c 
	sys/dev/wscons : wskbd.c 
	sys/kern       : subr_prf.c subr_userconf.c subr_witness.c 
	sys/sys        : systm.h 

Log message:
Rename Debugger() into db_enter().

Using a name with the 'db_' prefix makes it invisible from the dynamic
profiler.

ok deraadt@, kettenis@, visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/30 11:18:48

Modified files:
	sysutils/riemann: Makefile distinfo 

Log message:
Update to riemann 0.2.13, from maintainer Pavel Korovin.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/30 11:27:19

Modified files:
	mail/mozilla-thunderbird: Makefile distinfo 
	mail/mozilla-thunderbird/pkg: PLIST-main 
	mail/thunderbird-i18n: Makefile.inc distinfo 

Log message:
Update to thunderbird 52.1.0.

See https://www.mozilla.org/en-US/thunderbird/52.1.0/releasenotes/

Build against bundled sqlite, as Gloda (the global indexing database
behind the search field, not the 'quick filter' search bar) relies on
SQLITE_ENABLE_FTS3_TOKENIZER (see #1252937) - and it might not be a good
idea to enable this option in the systemwide sqlite install.  Might be
revisited once #1270882 is fixed.

Gloda not working issue reported & fix tested by mpi@
ok mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/30 11:42:32

Modified files:
	sys/dev/fdt    : files.fdt 
	sys/arch/arm64/conf: GENERIC RAMDISK 
Added files:
	sys/dev/fdt    : rkclock.c rkclock_clocks.h 

Log message:
Add rkclock(4), a driver for the Rockchip RK3399 clocks.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/30 11:46:27

Modified files:
	regress/lib/libcrypto/bio: biotest.c 

Log message:
whitespace


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/04/30 11:52:15

Modified files:
	sysutils/collectd: Makefile distinfo 
	sysutils/collectd/patches: patch-Makefile_in 
	                           patch-src_Makefile_in 
	                           patch-src_daemon_Makefile_in 
	                           patch-src_processes_c 
	                           patch-src_tcpconns_c 

Log message:
Update to collectd 5.7.1, from Pavel Korovin, thanks !

See https://collectd.org/wiki/index.php/Version_5.7


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/04/30 11:54:11

Modified files:
	lib/libcrypto/bio: b_sock.c 

Log message:
No original OpenSSL code remains in this file. Relicense


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 12:49:14

Modified files:
	infrastructure/bin: proot 
	infrastructure/man/man1: proot.1 

Log message:
run ldconfig *after* unpopulate. Makes no sense to scan /usr/local/lib
right before emptying it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/04/30 13:01:28

Log message:
    Initial import of the MATE Desktop Environment (version 1.18)...
    
    The MATE Desktop Environment is the continuation of GNOME 2.
    It provides an intuitive and attractive desktop environment, using
    traditional metaphors for Linux and other Unix-like operating systems.
    
    This is imported as WIP (almost done though) to ease review.
    
    ok @ajacoutot
    
    This import contains the following parts of MATE (not hooked up yet):
    
    - mate/atril
    document viewer for the MATE desktop
    
    - mate/calc
    MATE calculator
    
    - mate/caja
    file manager for the MATE desktop
    
    - mate/caja-extensions
    extensions for Caja, the MATE file manager
    
    - mate/control-center
    MATE control center
    
    - mate/desktop
    components for the MATE desktop
    
    - mate/engrampa
    file archiver for the MATE desktop
    
    - mate/eom
    image viewer for the MATE desktop
    
    - mate/icon-theme
    base icon theme for MATE
    
    - mate/libmatekbd
    MATE keyboard configuration library
    
    - mate/libmatemixer
    mixer library for MATE desktop
    
    - mate/libmateweather
    weather library for MATE
    
    - mate/marco
    the MATE window manager
    
    - mate/media
    media tools for the MATE desktop
    
    - mate/menus
    implementation of the FreeDesktop menu spec for MATE
    
    - mate/notification-daemon
    MATE notification daemon
    
    - mate/panel
    panel component for MATE
    
    - mate/pluma
    powerful text editor for the MATE desktop
    
    - mate/power-manager
    MATE power manager
    
    - mate/screensaver
    MATE screensaver
    
    - mate/session-manager
    MATE session manager
    
    - mate/settings-daemon
    MATE settings daemon
    
    - mate/terminal
    MATE terminal
    
    - mate/themes
    standard MATE themes
    
    - mate/utils
    MATE support utilities
    
    Status:
    
    Vendor Tag:	robert
    Release Tags:	robert_20170430
    
    N ports/x11/mate/Makefile
    N ports/x11/mate/Makefile.inc
    N ports/x11/mate/desktop/Makefile
    N ports/x11/mate/desktop/distinfo
    N ports/x11/mate/desktop/pkg/DESCR
    N ports/x11/mate/desktop/pkg/PLIST
    N ports/x11/mate/panel/Makefile
    N ports/x11/mate/panel/distinfo
    N ports/x11/mate/panel/pkg/DESCR
    N ports/x11/mate/panel/pkg/PLIST
    N ports/x11/mate/settings-daemon/Makefile
    N ports/x11/mate/settings-daemon/distinfo
    N ports/x11/mate/settings-daemon/pkg/DESCR
    N ports/x11/mate/settings-daemon/pkg/PLIST
    N ports/x11/mate/libmatekbd/Makefile
    N ports/x11/mate/libmatekbd/distinfo
    N ports/x11/mate/libmatekbd/pkg/DESCR
    N ports/x11/mate/libmatekbd/pkg/PLIST
    N ports/x11/mate/libmatemixer/Makefile
    N ports/x11/mate/libmatemixer/distinfo
    N ports/x11/mate/libmatemixer/pkg/DESCR
    N ports/x11/mate/libmatemixer/pkg/PLIST
    N ports/x11/mate/menus/Makefile
    N ports/x11/mate/menus/distinfo
    N ports/x11/mate/menus/pkg/DESCR
    N ports/x11/mate/menus/pkg/PLIST
    N ports/x11/mate/menus/patches/patch-layout_mate-applications_menu
    N ports/x11/mate/libmateweather/Makefile
    N ports/x11/mate/libmateweather/distinfo
    N ports/x11/mate/libmateweather/pkg/DESCR
    N ports/x11/mate/libmateweather/pkg/PLIST
    N ports/x11/mate/libmateweather/patches/patch-configure_ac
    N ports/x11/mate/session-manager/Makefile
    N ports/x11/mate/session-manager/distinfo
    N ports/x11/mate/session-manager/pkg/DESCR
    N ports/x11/mate/session-manager/pkg/PLIST
    N ports/x11/mate/marco/Makefile
    N ports/x11/mate/marco/distinfo
    N ports/x11/mate/marco/pkg/DESCR
    N ports/x11/mate/marco/pkg/PLIST
    N ports/x11/mate/marco/patches/patch-src_core_window-props_c
    N ports/x11/mate/marco/patches/patch-configure
    N ports/x11/mate/caja/Makefile
    N ports/x11/mate/caja/distinfo
    N ports/x11/mate/caja/pkg/DESCR
    N ports/x11/mate/caja/pkg/PLIST
    N ports/x11/mate/icon-theme/Makefile
    N ports/x11/mate/icon-theme/distinfo
    N ports/x11/mate/icon-theme/pkg/DESCR
    N ports/x11/mate/icon-theme/pkg/PLIST
    N ports/x11/mate/control-center/Makefile
    N ports/x11/mate/control-center/distinfo
    N ports/x11/mate/control-center/pkg/DESCR
    N ports/x11/mate/control-center/pkg/PLIST
    N ports/x11/mate/themes/Makefile
    N ports/x11/mate/themes/distinfo
    N ports/x11/mate/themes/pkg/DESCR
    N ports/x11/mate/themes/pkg/PLIST
    N ports/x11/mate/terminal/Makefile
    N ports/x11/mate/terminal/distinfo
    N ports/x11/mate/terminal/pkg/DESCR
    N ports/x11/mate/terminal/pkg/PLIST
    N ports/x11/mate/power-manager/Makefile
    N ports/x11/mate/power-manager/distinfo
    N ports/x11/mate/power-manager/pkg/DESCR
    N ports/x11/mate/power-manager/pkg/PLIST
    N ports/x11/mate/power-manager/patches/patch-configure_ac
    N ports/x11/mate/screensaver/Makefile
    N ports/x11/mate/screensaver/distinfo
    N ports/x11/mate/screensaver/pkg/DESCR
    N ports/x11/mate/screensaver/pkg/PLIST
    N ports/x11/mate/screensaver/patches/patch-src_gs-auth-bsdauth_c
    N ports/x11/mate/screensaver/patches/patch-configure_ac
    N ports/x11/mate/screensaver/patches/patch-src_Makefile_in
    N ports/x11/mate/screensaver/patches/patch-src_Makefile_am
    N ports/x11/mate/screensaver/patches/patch-src_setuid_c
    N ports/x11/mate/screensaver/patches/patch-src_gs-auth-pwent_c
    N ports/x11/mate/screensaver/patches/patch-data_mate-screensaver-preferences_desktop_in
    N ports/x11/mate/screensaver/patches/patch-data_lock-dialog-default_ui
    N ports/x11/mate/media/Makefile
    N ports/x11/mate/media/distinfo
    N ports/x11/mate/media/pkg/DESCR
    N ports/x11/mate/media/pkg/PLIST
    N ports/x11/mate/utils/Makefile
    N ports/x11/mate/utils/distinfo
    N ports/x11/mate/utils/pkg/DESCR
    N ports/x11/mate/utils/pkg/PLIST
    N ports/x11/mate/calc/Makefile
    N ports/x11/mate/calc/distinfo
    N ports/x11/mate/calc/pkg/DESCR
    N ports/x11/mate/calc/pkg/PLIST
    N ports/x11/mate/atril/Makefile
    N ports/x11/mate/atril/distinfo
    N ports/x11/mate/atril/pkg/DESCR
    N ports/x11/mate/atril/pkg/PLIST
    N ports/x11/mate/caja-extensions/Makefile
    N ports/x11/mate/caja-extensions/distinfo
    N ports/x11/mate/caja-extensions/pkg/DESCR
    N ports/x11/mate/caja-extensions/pkg/PLIST
    N ports/x11/mate/eom/Makefile
    N ports/x11/mate/eom/distinfo
    N ports/x11/mate/eom/pkg/DESCR
    N ports/x11/mate/eom/pkg/PLIST
    N ports/x11/mate/notification-daemon/Makefile
    N ports/x11/mate/notification-daemon/distinfo
    N ports/x11/mate/notification-daemon/pkg/DESCR
    N ports/x11/mate/notification-daemon/pkg/PLIST
    N ports/x11/mate/engrampa/Makefile
    N ports/x11/mate/engrampa/distinfo
    N ports/x11/mate/engrampa/pkg/DESCR
    N ports/x11/mate/engrampa/pkg/PLIST
    N ports/x11/mate/pluma/Makefile
    N ports/x11/mate/pluma/distinfo
    N ports/x11/mate/pluma/pkg/DESCR
    N ports/x11/mate/pluma/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 13:37:13

Modified files:
	etc            : netstart 

Log message:
Do not try to delete a default route before adding it.

Now that route are automatically G/C with the address they are attached
to there's no reason to duplicate the kernel's job.

Fix a regression introduced with multipath default routes.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 14:04:42

Modified files:
	sys/arch/amd64/conf: GENERIC 
	sys/arch/i386/conf: GENERIC 

Log message:
Remove some KGDB leftovers.

From Amit Kulkarni.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/04/30 14:09:28

Modified files:
	usr.sbin/config: config.8 
	share/man/man4 : options.4 
	share/man/man7 : Makefile 
	share/man/man9 : uvm.9 
Removed files:
	share/man/man7 : kgdb.7 

Log message:
Remove KGDB references.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/30 14:28:12

Modified files:
	mail           : Makefile 

Log message:
build gpgme,sasl flavour of mutt (as is already done for neomutt).
req by William Graeber


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/30 14:30:39

Modified files:
	usr.bin/lex    : Makefile 

Log message:
Move FlexLexer.h from /usr/include/g++ to /usr/include.  It is not
a g++-specific header and this matches most other systems.  Needed
to use flex++ with clang.  OK espie@ kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 14:56:19

Modified files:
	infrastructure/bin: proot 

Log message:
let's be slightly more helpful and show the dirs we know about along with
the users


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/30 15:15:46

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/04/30 15:33:02

Modified files:
	sys/conf       : files 
Added files:
	sys/crypto     : aes.c aes.h 

Log message:
Constant time AES implementation

This introduces a 32-bit constant time AES implementation from
Thomas Pornin originally for BearSSL and then adjusted by Thomas
and myself to fit OpenBSD kernel. One of the additional features
is an API for encryption and decryption subkey expansion in the
format specified by NIST in FIPS 197.

Tested by myself and naddy@, ok djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/04/30 15:33:26

Modified files:
	lang/ghc       : Makefile 

Log message:
Suppress a lot of (not all) warnings when using clang:

ghc uses cc for generating object files from assembler files and
passes the CONF_CC_OPTS_STAGE? flags to it, which clang doesn't
like, so add -Wno-unused-command-line-argument to the flags passed
to cc if it's clang.

To let this work for the bootstrap compiler, properly CONFIGURE_ENV
when installing the bootstrap (in post-patch:). This also makes the
hack patching the bootstrap/bin/ghc script in post-patch: obsolete.

prodded by (and with some hints from) espie@

~here are still a lot of warnings, most about macros #defined in
storage/ClosureMacros.h. Those should be fixed in a separate step,
probably after an update to ghc-8.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/04/30 15:34:45

Modified files:
	regress/sys/crypto/aes: aestest.c 

Log message:
Switch AES testcase to the new implementation

OK djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	phessler@cvs.openbsd.org	2017/04/30 15:36:05

Modified files:
	textproc/xml2rfc: Makefile distinfo 
	textproc/xml2rfc/pkg: PLIST 
Removed files:
	textproc/xml2rfc/files: xml2rfc 

Log message:
xml2rfc has been completely re-written, moving from tcl/tk to python.

Update to the version that is currently used for submtting RFCs to the IETF.

OK sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/30 15:52:40

Modified files:
	sys/arch/arm64/dev: agintc.c 

Log message:
Fix priority handling.  The interrupt priority registers expose the full range
of priorities available in secure mode (minimally 32).  For non-secure
interrupts we need to make sure the top bit is set and shift our interrupt
priority level into the remaining bits.  The priority mask register on the
other hand only exposes the priority levels available to the mode from which
it is accessed.  So when accessed from non-secure mode, we need to shift our
interrupt priority level by a different amount.

Also set the binary point register to zero to make sure the maximum number of
available bits are used for the priority group and priority masking actually
works as expected.

This makes the FireFly-RK3399 boot multi-user with the root filesystem on USB.

ok drahn@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/04/30 16:29:53

Modified files:
	net/putty      : Makefile distinfo 
	net/putty/pkg  : PLIST-main 
Added files:
	net/putty/patches: patch-Makefile_in 

Log message:
update to PuTTY-0.69
disable new pageant build for now, doesn't build (setpgrp)


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/04/30 16:35:34

Modified files:
	sys/arch/arm/mainbus: mainbus.c 

Log message:
Make early attrbute work here as well.  Remove unreachable panic while there.

ok visa@, patrick@, drahn@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/04/30 16:37:28

Added files:
	audio/caps-plugins/patches: patch-AutoFilter_cc 

Log message:
calling div on unsigned is ambiguous, so force it into a known call (clang)


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:10:43

Modified files:
	usr.bin/ssh    : Makefile.inc authfd.c authfile.c cipher.c 
	                 compat.c hostfile.c kex.c opacket.c packet.c 
	                 readconf.c ssh-add.c ssh-agent.c ssh-keygen.c 
	                 ssh-keyscan.c ssh.c sshconnect.c sshkey.c 

Log message:
unifdef WITH_SSH1
ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:11:46

Modified files:
	usr.bin/ssh    : compat.c readconf.c readconf.h ssh.c 
	                 sshconnect.c 

Log message:
remove options.protocol and client Protocol configuration knob

ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:13:25

Modified files:
	usr.bin/ssh    : channels.c channels.h clientloop.c compat.c 
	                 compat.h dispatch.c nchan.c packet.c packet.h 
	                 ssh-keyscan.c ssh.c ssh_api.c sshconnect.c 
	                 sshd.c ttymodes.c 

Log message:
remove compat20/compat13/compat15 variables

ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:15:04

Modified files:
	usr.bin/ssh    : cipher.c cipher.h readconf.c readconf.h ssh.c 
	                 sshkey.c 
Removed files:
	usr.bin/ssh    : cipher-3des1.c cipher-bf1.c 

Log message:
remove SSHv1 ciphers; ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:17:37

Modified files:
	usr.bin/ssh    : Makefile.inc 
	usr.bin/ssh/lib: Makefile 
	usr.bin/ssh/ssh: Makefile 

Log message:
remove SSH1 make flag and associated files
ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:18:22

Modified files:
	usr.bin/ssh    : readconf.c readconf.h ssh.1 ssh_config 
	                 ssh_config.5 

Log message:
remove SSHv1 configuration options and man pages bits

ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:18:44

Modified files:
	usr.bin/ssh    : clientloop.c hostfile.c ssh-agent.c 
	                 ssh-keygen.1 ssh-keygen.c ssh-keyscan.1 
	                 ssh-keyscan.c ssh.c ssh.h sshconnect.c 
	                 sshconnect2.c sshd.c sshkey.c sshkey.h 

Log message:
remove KEY_RSA1

ok markus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	nigel@cvs.openbsd.org	2017/04/30 17:20:24

Modified files:
	multimedia/get_iplayer: Makefile distinfo 

Log message:
Update to fix BBC site changes. Read the release notes
section "do this first"
https://github.com/get-iplayer/get_iplayer/wiki/release300
Ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:21:54

Modified files:
	usr.bin/ssh    : clientloop.c 

Log message:
remove SSHv1-related buffers from client code


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:23:54

Modified files:
	usr.bin/ssh    : bufbn.c buffer.h packet.c packet.h 

Log message:
remove SSHv1 support from packet and buffer APIs

ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:25:03

Modified files:
	usr.bin/ssh    : Makefile.inc 

Log message:
undo some local debugging stuff that I committed by accident


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:26:16

Modified files:
	usr.bin/ssh    : LICENCE deattack.c deattack.h packet.c 
	usr.bin/ssh/lib: Makefile 

Log message:
remove the (in)famous SSHv1 CRC compensation attack detector.

Despite your cameo in The Matrix movies, you will not be missed.

ok markus


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:26:54

Modified files:
	usr.bin/ssh    : ttymodes.c ttymodes.h 

Log message:
purge the last traces of SSHv1 from the TTY modes handling code

ok markus


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:28:12

Modified files:
	usr.bin/ssh    : scp.1 scp.c ssh.h 

Log message:
exterminate the -1 flag from scp

ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:28:42

Modified files:
	usr.bin/ssh    : channels.c channels.h clientloop.c dispatch.c 
	                 nchan.c packet.c ssh-keyscan.c ssh.c ssh1.h 

Log message:
obliterate ssh1.h and some dead code that used it

ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:29:10

Modified files:
	usr.bin/ssh    : ssh-agent.c 

Log message:
flense SSHv1 support from ssh-agent, considerably simplifying it

ok markus


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:33:48

Modified files:
	regress/usr.bin/ssh/unittests: Makefile.inc 
	regress/usr.bin/ssh/unittests/hostkeys: mktestdata.sh 
	                                        test_iterate.c 
	regress/usr.bin/ssh/unittests/hostkeys/testdata: known_hosts 
	regress/usr.bin/ssh/unittests/sshkey: mktestdata.sh test_file.c 
	                                      test_fuzz.c test_sshkey.c 

Log message:
remove SSHv1 support from unit tests


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 17:34:55

Modified files:
	regress/usr.bin/ssh: agent-pkcs11.sh agent.sh banner.sh 
	                     broken-pipe.sh brokenkeys.sh cert-file.sh 
	                     cert-hostkey.sh cert-userkey.sh cfgmatch.sh 
	                     cipher-speed.sh connect-privsep.sh 
	                     connect.sh dynamic-forward.sh 
	                     exit-status.sh forcecommand.sh 
	                     forward-control.sh forwarding.sh 
	                     host-expand.sh hostkey-agent.sh 
	                     integrity.sh key-options.sh 
	                     keygen-change.sh keyscan.sh localcommand.sh 
	                     multiplex.sh principals-command.sh 
	                     proto-mismatch.sh proto-version.sh 
	                     proxy-connect.sh putty-transfer.sh 
	                     reconfigure.sh reexec.sh 
	                     stderr-after-eof.sh stderr-data.sh 
	                     test-exec.sh transfer.sh try-ciphers.sh 
	                     yes-head.sh 
	regress/usr.bin/ssh/misc/kexfuzz: kexfuzz.c 

Log message:
eliminate explicit specification of protocol in tests and loops over
protocol. We only support SSHv2 now.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/04/30 17:54:43

Modified files:
	distrib/sets/lists/comp: mi 
	distrib/sets/lists/man: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 18:03:18

Modified files:
	usr.bin/ssh    : cipher.c 

Log message:
fixup setting ciphercontext->plaintext (lost in SSHv1 purge), though
it isn't really used for much anymore.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/04/30 18:08:31

Modified files:
	lib/libc/sys   : wait.2 

Log message:
Document that wait3/waitpid can receive SIGCHILD when wpid does
not exist or is not a child of the calling process.
Document what happens when SIGCHLD is ignored or SA_NOCLDWAIT is
set in sa_flags (this part from FreeBSD).
OK guenther@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/04/30 20:27:11

Modified files:
	usr.bin/ssh    : sshconnect.c 

Log message:
remove unused variable


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/01 00:23:59

Modified files:
	usr.bin/units  : units.lib 

Log message:
update currency exchange rates;


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/01 00:39:26

Modified files:
	usr.sbin/config: config.8 
	share/man/man4 : ddb.4 
	share/man/man7 : intro.7 

Log message:
Fewer kgdb(7) references and fix previous.

Pointed by jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/01 03:27:45

Removed files:
	usr.bin/ssh    : deattack.c deattack.h ssh1.h 

Log message:
don't know why cvs didn't exterminate these the first time around,
I use rm -f and everuthing...

pointed out by sobrado@


CVSROOT:	/cvs
Module name:	src
Changes by:	gilles@cvs.openbsd.org	2017/05/01 03:29:07

Modified files:
	usr.sbin/smtpd : table.c 

Log message:
in function used for tracing, display unknown lookup types as "???"

diff from Wolf480pl


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/01 05:10:31

Modified files:
	benchmarks     : Makefile 
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 
Removed files:
	benchmarks/bytebench: Makefile distinfo 
	benchmarks/bytebench/patches: patch-Makefile patch-Run 
	                              patch-pgms_cleanup_sh 
	                              patch-pgms_multi_sh 
	                              patch-src_big_c patch-src_dhry_1_c 
	                              patch-src_execl_c 
	                              patch-src_fstime_c 
	benchmarks/bytebench/pkg: DESCR PLIST 

Log message:
remove bytebench: 25 years old and no longer used by anybody; ok jca@, krw@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/01 06:20:55

Modified files:
	usr.bin/tmux   : cfg.c cmd-display-message.c cmd-list-buffers.c 
	                 cmd-list-clients.c cmd-list-keys.c 
	                 cmd-list-panes.c cmd-list-sessions.c 
	                 cmd-list-windows.c cmd-pipe-pane.c cmd-queue.c 
	                 format.c names.c screen-redraw.c 
	                 server-client.c status.c tmux.h window-choose.c 

Log message:
In order that people can use formats like #D in #() in the status line
and not have to wait for an update when they change pane, we allow
commands to run more than once a second if the expanded form
changes. Unfortunately this can mean them being run far too often
(pretty much continually) when multiple clients exist, because some
formats (including #D) will always differ between clients.

To avoid this, give each client its own tree of jobs which means that
the same command will be different instances for each client - similar
to how we have the tag to separate commands for different panes.

GitHub issue 889; test case reported by Paul Johnson.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/01 06:21:57

Modified files:
	archivers/lzip/lzip: Makefile distinfo 

Log message:
Update to lzip 1.19.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/01 06:22:26

Modified files:
	archivers/lzip/clzip: Makefile distinfo 

Log message:
Update to clzip 1.9.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/05/01 06:54:55

Modified files:
	app/cwm        : calmwm.h client.c kbfunc.c mousefunc.c 

Log message:
Clean up, unify and accurately calculate edge distance with client move/resize
actions, so as to not lose windows off the edge.

inspired by diffs (and feedback) from Vadim Vygonets.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 07:22:18

Modified files:
	net/librenms   : Makefile distinfo 
	net/librenms/patches: patch-html_install_php 
	                      patch-includes_common_php 
	                      patch-includes_defaults_inc_php 
	                      patch-includes_functions_php 
	                      patch-poller-wrapper_py 
	net/librenms/pkg: PLIST 

Log message:
update to librenms-1.27


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 07:28:10

Modified files:
	comms/fldigi   : Makefile distinfo 

Log message:
update to fldigi-4.0.3


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/01 07:44:59

Modified files:
	distrib/sets/lists/comp: gcc.alpha gcc.amd64 gcc.armv7 gcc.hppa 
	                         gcc.i386 gcc.landisk gcc.loongson 
	                         gcc.luna88k gcc.macppc gcc.octeon 
	                         gcc.sgi gcc.socppc gcc.sparc64 md.alpha 
	                         md.amd64 md.armv7 md.hppa md.i386 
	                         md.landisk md.loongson md.luna88k 
	                         md.macppc md.octeon md.sgi md.socppc 
	                         md.sparc64 mi 

Log message:
move more gcc files to gcc sets
ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/01 08:01:47

Modified files:
	etc            : rc 

Log message:
Comments and spacing.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 08:04:09

Modified files:
	textproc/mupdf : Makefile 

Log message:
change mupdf's MODGCC4_ARCHS to ${GCC3_ARCHS} ${GCC4_ARCHS}; this is just
C99 not C++ so no mucking about with WANTLIB required.


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/01 08:08:26

Removed files:
	usr.bin/ssh    : sshconnect1.c 

Log message:
this one I did forget to "cvs rm"


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 08:15:54

Modified files:
	mail/rmilter   : Makefile 

Log message:
use MODGCC4_ARCHS=${GCC3_ARCHS} ${GCC4_ARCHS}; c99 but no c++


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/01 08:22:36

Modified files:
	distrib/miniroot: install.sub 

Log message:
Remove last remnants of rtsol. IPv6 autoconfiguration of interfaces
is now done in ifstart(). Replace rtsolif with a boolean variable
V6_AUTOCONF. Replace dhcpif with a boolean variable V4_DHCPCONF.
Both are later used to decide whether or not to configre defaultroutes
from /etc/mygate.

OK krw@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/01 08:23:29

Modified files:
	etc            : netstart 

Log message:
Remove last remnants of rtsol. IPv6 autoconfiguration of interfaces is now
done in ifstart(). Remove ipv6autoconf() and replace rtsolif with a boolean
variable V6_AUTOCONF. Replace dhcpif with a boolean variable V4_DHCPCONF.
Both are later used in defaultroute() to decide whether or not to configre
defaultroutes from /etc/mygate.

OK krw@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/01 08:29:39

Modified files:
	distrib/miniroot: install.sub 

Log message:
Apply same change of defaultroute handling as in r1.179 of netstart.

Now that routes are automatically G/C with the address they are
attached to there's no reason to duplicate the kernel's job.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/01 08:43:46

Modified files:
	distrib/sets/lists/comp: gcc.alpha gcc.amd64 gcc.armv7 gcc.hppa 
	                         gcc.i386 gcc.landisk gcc.loongson 
	                         gcc.luna88k gcc.macppc gcc.octeon 
	                         gcc.sgi gcc.socppc gcc.sparc64 md.alpha 
	                         md.amd64 md.armv7 md.hppa md.i386 
	                         md.landisk md.loongson md.luna88k 
	                         md.macppc md.octeon md.sgi md.socppc 
	                         md.sparc64 

Log message:
move some binutils files from gcc sets back to md sets
ok deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 09:14:18

Modified files:
	archivers/zstd : Makefile 

Log message:
switch to MODGCC4_ARCHS=${GCC3_ARCHS} ${GCC4_ARCHS}, C only. ok juanfra@


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/01 09:37:15

Modified files:
	devel/ipython  : Makefile distinfo 
	devel/ipython/patches: patch-docs_source_conf_py 

Log message:
Update to ipython 5.3.0

ok edd@ (maintainer)


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/01 10:23:42

Modified files:
	etc            : netstart 

Log message:
Revert r1.170 and remove the id==0 check.
The id binary is not available in nfs diskless setups at this point.

reported by Andreas Kusalananda, thanks.
discussed with deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/01 10:25:20

Modified files:
	editors/emacs  : Makefile distinfo 
	editors/emacs/patches: patch-configure patch-lisp_files_el 
	                       patch-lisp_vc_vc_el 
	editors/emacs/pkg: PLIST 
Removed files:
	editors/emacs/patches: patch-lisp_vc_vc-cvs_el 

Log message:
emacs-25.2

Mostly a bug-fixe release, see NEWS for the few things that changed.
The diff for bug #24082 included is in this release.

Tested on armv7 and amd64.  -rc/release test reports from alf, Manuel
Giraud, sunil@ and krw@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/01 10:36:38

Modified files:
	editors/tea    : Makefile 
	editors/teaqt  : Makefile 

Log message:
New HOMEPAGE and MASTER_SITES

sourceforge kept last in MASTER_SITES because it serves tarballs for
the old versions we use.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/01 13:00:21

Modified files:
	devel/tclap    : Makefile 

Log message:
disable doxygen

ok jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/01 13:05:49

Modified files:
	bin/ksh        : eval.c 

Log message:
Quiet an "implicit conversion from 'int' to 'char' changes value"
warning from clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/01 13:20:53

ports/www/kore/patches

Update of /cvs/ports/www/kore/patches
In directory cvs.openbsd.org:/tmp/cvs-serv16845/patches

Log Message:
Directory /cvs/ports/www/kore/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/01 13:23:45

Modified files:
	www/p5-HTML-FormatText-WithLinks-AndTables: Makefile distinfo 

Log message:
Update to p5-HTML-FormatText-WithLinks-AndTables-0.07.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/01 13:24:57

Modified files:
	cad/klogic     : Makefile distinfo 
	cad/klogic/pkg : DESCR PLIST 
Removed files:
	cad/klogic/patches: patch-klogic_klogic_h patch-klogic_mainw_cpp 

Log message:
update to klogic-4.0.2

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 13:29:26

Modified files:
	cad/gnucap     : Makefile 
Added files:
	cad/gnucap/patches: patch-modelgen_ap_h patch-modelgen_mg__h 
	                    patch-src_ap_h 

Log message:
fix compile with clang, classes have to be visible when
defining templates.
also fix an obnoxious narrowing warning/error which makes no sense


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/05/01 13:31:08

Modified files:
	lang/ghc       : Makefile 

Log message:
Still too much noise for espie@, so add -Wno-expansion-to-defined.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/01 13:32:31

Modified files:
	www/kore       : Makefile 
Added files:
	www/kore/patches: patch-Makefile 

Log message:
Honour CC and remove hardcoded optimization (-O2) flag.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/01 13:54:18

Modified files:
	www/p5-HTML-Tree: Makefile distinfo 
	www/p5-HTML-Tree/pkg: PLIST 

Log message:
Update to p5-HTML-Tree-5.06.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 13:57:34

Added files:
	devel/doc++/patches: patch-src_comment_ll patch-src_cpp_ll 
	                     patch-src_datahashtable_h 
	                     patch-src_doc2dbsgml_ll 
	                     patch-src_doc2dbxml_ll patch-src_doc2tex_ll 
	                     patch-src_doc_ll patch-src_html_cc 
	                     patch-src_java_ll patch-src_main_cc 
	                     patch-src_nametable_cc 
	                     patch-src_nametable_h patch-src_php_ll 
	                     patch-src_tex2gif_cc 

Log message:
surprisingly not painful to fix.
#include <iostream.h> -> #include <iostream> + using lines.
can't use namespace std, as this code has names that seriously interfere.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 14:08:41

Added files:
	devel/codeworker/patches: patch-CGExternalHandling_cpp 
	                          patch-CGRuntime_cpp 

Log message:
EXIT_FAILURE declaration, match new[] with delete[].


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 14:21:22

Modified files:
	devel/py-gobject3: Makefile 

Log message:
switch to MODGCC4_ARCHS=${GCC3_ARCHS} ${GCC4_ARCHS} (C only), ok aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/01 14:26:16

Modified files:
	www/p5-HTTP-Server-Simple: Makefile distinfo 

Log message:
Update to p5-HTTP-Server-Simple-0.52.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/01 14:26:59

Modified files:
	net/putty      : Makefile 

Log message:
fix deps, moved to gtk+3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 14:48:55

Modified files:
	games/ace      : Makefile 
	games/ace/patches: patch-lib_make-imglib_c 

Log message:
fix compile&some warnings/errors with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/01 14:53:58

Modified files:
	usr.bin/mandoc : out.c 
	regress/usr.bin/mandoc/tbl/mod: Makefile 
Added files:
	regress/usr.bin/mandoc/tbl/mod: expand-toowide.in 
	                                expand-toowide.out_ascii 

Log message:
When trying to expand some columns in a table where the sum of the
widths of the remaining columns is already wider than the line
length, underflowing size_t and dying from ENOMEM is the wrong plan.
Instead, simply refrain from expanding anything in such a situation,
avoiding a crash that tb@ found with afl.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/01 14:59:53

Modified files:
	www/p5-SOAP-Lite: Makefile distinfo 

Log message:
Update to p5-SOAP-Lite-1.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 15:00:15

Added files:
	games/dungeon-crawl/patches: patch-source_effects_cc 
	                             patch-source_it_use3_cc 
	                             patch-source_randart_cc 
	                             patch-source_tags_cc 

Log message:
find  proto for missing identifiers


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpe@cvs.openbsd.org	2017/05/01 15:13:36

Modified files:
	archivers/makeself: Makefile distinfo 

Log message:
Update archivers/makeself to 2.3.0 and change HOMEPAGE.

OK aja@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/01 16:09:48

Modified files:
	usr.bin/ssh    : bitmap.c 

Log message:
when freeing a bitmap, zero all it bytes; spotted by Ilya Kaliman


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 16:25:54

Modified files:
	editors/uemacs/patches: patch-h_eproto_h patch-src_bind_c 
	                        patch-src_char_c patch-src_file_c 
	                        patch-src_input_c patch-src_keyboard_c 
	                        patch-src_lock_c 
Added files:
	editors/uemacs/patches: patch-src_eval_c 

Log message:
regen old patches, fix type of void function


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 16:32:59

Modified files:
	devel/libvstr  : Makefile 

Log message:
explicitly use gnu89-inlines
shut up noise with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/01 17:27:23

Modified files:
	usr.bin/mandoc : man.c 

Log message:
A few days ago, a patch from <G dot Branden dot Robinson at gmail dot com>
got committed to groff which changed .TP from using .it to using .itc,
such that groff now supports more than one man(7) macro line in the .TP
head if all but the last line in the head end with \c.

Of course, relying on that behaviour is utterly non-portable, but if
authors are reckless enough to use that idiom, let's do what they want.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/01 17:54:02

Modified files:
	emulators/BasiliskII: Makefile 

Log message:
the slirp emulator needs gnu89 inlines. Fortunately, this is clean enough
that the CFLAGS don't bleed into C++.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/01 20:57:46

Modified files:
	sys/arch/amd64/amd64: vmm.c 
	sys/arch/amd64/include: vmmvar.h 

Log message:
Allow setting of guest MSRs from vmd(8). This change is the first part of
a larger effort to implement vmctl send/vmctl receive (snapshot and VM
migration).

From Pratik Vyas, Siri Chandana, Harshada Mone and Ashwin Agrawal, a
group of students I am supervising.

ok kettenis


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/01 20:58:24

Modified files:
	usr.sbin/vmd   : vm.c 

Log message:
Matching vmd(8) part of previous diff (first part of vmctl send/receive).

ok kettenis


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/05/01 21:43:33

Modified files:
	sysutils/gource: Makefile distinfo 

Log message:
Update for Gource to 0.44.

OK benoit@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/01 21:59:45

Modified files:
	lib/libcrypto  : malloc-wrapper.c 
	lib/libcrypto/asn1: a_object.c a_sign.c a_verify.c asn1_lib.c 
	lib/libcrypto/bn: bn_asm.c bn_exp.c bn_lib.c bn_rand.c 
	lib/libcrypto/buffer: buffer.c 
	lib/libcrypto/dsa: dsa_asn1.c 
	lib/libcrypto/ec: ec_key.c ec_lib.c ec_mult.c ecp_nistp224.c 
	                  ecp_nistp256.c ecp_nistp521.c ecp_nistz256.c 
	lib/libcrypto/ecdh: ech_lib.c 
	lib/libcrypto/ecdsa: ecs_lib.c ecs_vrf.c 
	lib/libcrypto/evp: bio_enc.c digest.c e_aes.c 
	                   e_chacha20poly1305.c p_open.c 
	lib/libcrypto/gost: gostr341001_key.c 
	lib/libcrypto/hmac: hm_pmeth.c 
	lib/libcrypto/modes: gcm128.c 
	lib/libcrypto/pem: pem_lib.c pem_pkey.c pvkfmt.c 
	lib/libcrypto/pkcs12: p12_key.c 
	lib/libcrypto/pkcs7: pk7_doit.c 
	lib/libcrypto/rsa: rsa_eay.c rsa_saos.c rsa_sign.c 
	lib/libtls     : tls_config.c 

Log message:
use freezero() instead of memset/explicit_bzero + free.  Substantially
reduces conditional logic (-218, +82).

MOD_EXP_CTIME_MIN_CACHE_LINE_WIDTH cache alignment calculation bn/bn_exp.c
wasn'tt quite right.  Two other tricky bits with ASN1_STRING_FLAG_NDEF and
BN_FLG_STATIC_DATA where the condition cannot be collapsed completely.

Passes regress.  ok beck


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/01 22:02:13

src/regress/lib/libcrypto/free

Update of /cvs/src/regress/lib/libcrypto/free
In directory cvs.openbsd.org:/tmp/cvs-serv96613/free

Log Message:
Directory /cvs/src/regress/lib/libcrypto/free added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/01 22:03:06

Added files:
	regress/lib/libcrypto/free: Makefile freenull.c 

Log message:
Add regress for free functions that should be safe with NULL


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/01 22:11:08

Modified files:
	lib/libcrypto/x509v3: v3_crld.c v3_ncons.c v3_pci.c 

Log message:
the XXXfree functions being called accept NULL, so don't check first.
ok beck


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/02 01:00:02

Modified files:
	devel/libspectrum: Makefile distinfo 

Log message:
Update to libspectrum-1.3.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/02 01:10:53

Modified files:
	www/p5-URI-Fetch: Makefile distinfo 

Log message:
Update to p5-URI-Fetch-0.13.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/02 01:13:31

Modified files:
	usr.bin/ssh    : ssh-keygen.1 

Log message:
tidy up -O somewhat; ok djm


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/02 01:18:19

Modified files:
	sys/arch/i386/i386: vmm.c 
	sys/arch/i386/include: vmmvar.h 

Log message:
Matching i386 commit to previous amd64 commit (initial support for vmctl
send/receive)


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/02 01:19:53

Modified files:
	usr.sbin/vmd   : vm.c 

Log message:
fix an error in i386 vmd build


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/02 01:24:25

Modified files:
	www/py-httpie  : Makefile distinfo 

Log message:
Update to py-httpie-0.9.8.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/02 01:35:55

Modified files:
	sys/conf       : Tag: OPENBSD_6_1 newvers.sh 

Log message:
6.1-stable


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 02:05:26

Added files:
	cad/qcad/patches: patch-qcadguiqt_src_qg_dialogfactory_cpp 

Log message:
comparison of pointer vs integer


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/02 02:06:33

Modified files:
	usr.bin/ssh    : scp.c ssh.c 

Log message:
remove options -12 from usage();


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/02 02:54:19

Modified files:
	usr.bin/ssh    : sftp.1 sftp.c 

Log message:
remove -1 / -2 options; pointed out by jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/02 02:57:45

Modified files:
	www/py-gunicorn: Makefile distinfo 
	www/py-gunicorn/pkg: PLIST 

Log message:
Update to py-gunicorn-19.7.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/02 03:05:58

Modified files:
	usr.bin/ssh    : ssh-keygen.1 

Log message:
more -O shuffle; ok djm


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 03:26:30

Modified files:
	infrastructure/bin: update-patches 

Log message:
tweak things so that changes of PATCHORIG won't matter.
-> always emit
--- stem.orig
+++ stem
lines regardless of PATCHORIG
-> prepend an Index: line like cvs does
-> add a blank line for comments.

okay aja@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/02 03:50:38

Modified files:
	sys/dev/pv     : vmmci.c 

Log message:
Resynchronize the guest RTC via vmmci(4) on host resume from zzz/ZZZ
(kernel part)

This feature is for OpenBSD guests only.

ok reyk, kettenis


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/02 03:51:19

Modified files:
	usr.sbin/vmd   : mc146818.c virtio.c virtio.h 

Log message:
Resynchronize the guest RTC via vmmci(4) on host resume from zzz/ZZZ
(vmd part)

This feature is for OpenBSD guests only.

ok reyk, kettenis


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/02 05:03:48

Modified files:
	sys/net80211   : ieee80211_input.c 

Log message:
Fix a problem with associating to wifi networks with a hidden SSID.

If an AP is configured to hide its SSID it sends a non-zero length SSID
which contains only zeroes. The AP sends its actual SSID only in probe
responses after a client includes this SSID in a probe request.
If we happened to receive a beacon before the probe response we stored a
non-zero-length SSID of zeroes and never updated the SSID when the probe
response arrived. The client was then unable to find the AP.

test & ok jung@


CVSROOT:	/cvs
Module name:	ports
Changes by:	tsg@cvs.openbsd.org	2017/05/02 05:30:04

Modified files:
	infrastructure/lib/OpenBSD/PortGen: Port.pm 

Log message:
There's no need for 'make fetch-all' when creating a new port.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 05:33:48

Modified files:
	regress/sys/crypto/aes: Makefile 

Log message:
Pick the right AES source file


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 05:44:32

Modified files:
	sys/crypto     : cryptosoft.c gmac.c gmac.h xform.c xform.h 
	sys/netinet    : ip_esp.c 

Log message:
Switch OCF and IPsec over to the new AES

ok djm


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 05:46:00

Modified files:
	regress/sys/crypto/aesctr: Makefile aesctr.c 
	regress/sys/crypto/aesxts: Makefile aes_xts.c 
	regress/sys/crypto/gmac: Makefile gmac_test.c 

Log message:
Sync GMAC and AES-CTR/-XTS regress tests with the new AES code

ok djm


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 05:47:49

Modified files:
	sys/arch/amd64/amd64: aesni.c via.c 
	sys/arch/i386/i386: via.c 
	sys/arch/i386/pci: glxsb.c 
	sys/crypto     : aes.h 

Log message:
Switch glxsb(4), VIA padlock and AES-NI drivers over to the new AES


CVSROOT:	/cvs
Module name:	ports
Changes by:	tsg@cvs.openbsd.org	2017/05/02 06:02:49

Modified files:
	sysutils/entr  : Makefile distinfo 

Log message:
Update to entr-3.7. Maintainer timeout.

"If Eric doesn't answer don't be afraid to go ahead with this update." - jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 06:27:37

Modified files:
	sys/net        : hfsc.c hfsc.h pf_ioctl.c pfvar.h 

Log message:
Provide pluggable queueing interface for pf

By hiding H-FSC behind pfq_ops structure similar to the ifq_ops,
we provide a possibility to plug alternative queueing interfaces
for use in pf.  This reduces amount of H-FSC specific code in the
pf ioctl handler

While here, change the the order of elements in hfsc_class_stats
to provide some compatibility between queue stat structures of
different traffic conditioners.

No objections from henning@, ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/02 07:26:49

Modified files:
	sys/arch/octeon/conf: GENERIC RAMDISK files.octeon 
	sys/arch/octeon/dev: cn30xxgmx.c cn30xxgmxvar.h cn30xxsmi.c 
	                     cn30xxsmireg.h cn30xxsmivar.h if_cnmac.c 

Log message:
Revise MDIO driver code so that device instances can be attached
using fdt. This lets the system utilize multiple MDIO controllers.

This patch enables all RJ45 Ethernet ports on EdgeRouter Pro.
The SFP module slots do not work yet.

OK kettenis@, jmatthew@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/02 07:44:51

Modified files:
	usr.bin/ssh    : scp.1 sftp.1 ssh.1 

Log message:
remove now obsolete protocol1 options from the -o lists;


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/02 08:06:37

Modified files:
	usr.bin/ssh    : sftp.1 

Log message:
add PubKeyAcceptedKeyTypes to the -o list: scp(1) has it, so i guess
this should too;


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 08:38:36

Modified files:
	sys/dev/fdt    : sxipio.c 

Log message:
Linux switched from a device-specific pinctrl binding to a the generic version
for Allwinner devices.  Implement support for the latter such that we can
use newer device trees.

ok patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 08:45:26

Modified files:
	sys/arch/arm/mainbus: mainbus.c 

Log message:
Remove check for compatible property.  Turns out sunxi relied on the broken
check we had before rev 1.16.

Suggested by jmatthew@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 09:13:20

Modified files:
	sys/arch/arm64/dev: mainbus.c 

Log message:
Remove check for compatible property here as well.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 09:13:39

Modified files:
	cad/qucs       : Makefile 
Added files:
	cad/qucs/patches: patch-qucs-core_src_math_complex_h 
	                  patch-qucs-core_src_math_real_cpp 
	                  patch-qucs-core_src_matrix_h 
	                  patch-qucs-core_src_matvec_h 
	                  patch-qucs-core_src_vector_h 
	                  patch-qucs-filter_qf_filter_cpp 

Log message:
patch config.h post-configure to avoid stupid warnings.
multiple clang fixes, mostly stolen from more current qucs.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 09:18:31

Added files:
	graphics/gpicview/patches: patch-src_main-win_c 
	                           patch-src_ptk-menu_h 

Log message:
trivial fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 09:25:32

Modified files:
	graphics/barcode: Makefile 

Log message:
force calloc test to return okay, clang optimizes call away because the
result isn't used.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 09:29:27

Modified files:
	graphics/cfdg  : Makefile 

Log message:
FlexLexer is in a more standard location now, unless you didn't update your
system yet.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 09:39:54

Modified files:
	graphics/cfdg  : Makefile 
	graphics/cfdg/patches: patch-Makefile 

Log message:
unhardcode gcc/g++/estdc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 09:48:41

Modified files:
	graphics/rawstudio/patches: patch-src_dcraw_cc 

Log message:
fixes for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	natano@cvs.openbsd.org	2017/05/02 10:46:00

Modified files:
	sys/kern       : kern_pledge.c 

Log message:
Stricter pledge for bpf. ok deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 10:47:32

Modified files:
	comms/gpsk31   : Makefile 
	comms/gpsk31/patches: patch-src_server-main_C 

Log message:
abs(unsigned) doesn't make much sense.
clang catches an actual bug in jakemsr's code!


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 10:56:11

Modified files:
	comms/gnokii   : Makefile 

Log message:
uses gnu89-inlines


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/02 11:04:09

Modified files:
	usr.bin/ssh    : ssh-keygen.1 ssh-keyscan.1 

Log message:
rsa1 is no longer valid;


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 11:07:06

Modified files:
	sys/crypto     : cmac.c cmac.h key_wrap.c key_wrap.h 
	sys/net80211   : ieee80211_crypto.c ieee80211_crypto_bip.c 
	                 ieee80211_crypto_ccmp.c 

Log message:
Switch 802.11 crypto over to the new AES

OK stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/02 11:08:30

Modified files:
	regress/sys/crypto/cmac: Makefile cmac_test.c 
	regress/sys/crypto/key_wrap: Makefile key_wrap_test.c 

Log message:
Convert CMAC and Key Wrap regress tests over to the new AES

OK stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/02 11:44:31

Modified files:
	regress/usr.bin/mdoclint: mdoclint 

Log message:
bugfix: treat .Bd -unfilled like .Bd -literal;
OK jmc@ wiz@, and also committed upstream to pkgsrc


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 11:49:06

Added files:
	devel/bouml/patches: patch-src_JavaCat_Class_cpp 

Log message:
nullptr is a keyword in modern C++.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/02 11:51:32

Modified files:
	regress/usr.bin/mdoclint: mdoclint mdoclint.1 

Log message:
Remove -P (warnings about paragraph problems).
These are fully covered by mandoc -Tlint.
OK jmc@ wiz@, and also committed to pkgsrc.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 11:59:46

Added files:
	security/qca2/patches: patch-src_botantools_botan_botan_secmem_h 

Log message:
fix method lookup


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 12:04:33

ports/editors/focuswriter/patches

Update of /cvs/ports/editors/focuswriter/patches
In directory cvs.openbsd.org:/tmp/cvs-serv97182/patches

Log Message:
Directory /cvs/ports/editors/focuswriter/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 12:04:58

Added files:
	editors/focuswriter/patches: 
	                             patch-src_fileformats_rtf_writer_cpp 

Log message:
clang does not get headers for free, be explicit


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 12:18:38

Modified files:
	devel/lam      : Makefile 
	devel/lam/patches: patch-etc_Makefile_in 
	                   patch-share_args_all_opt_c 
Added files:
	devel/lam/patches: patch-config_lam_get_alignment_cache_m4 
	                   patch-config_lam_get_alignment_m4 

Log message:
fix ludicrous configure tests, so run autoconf...
regen other patches.


CVSROOT:	/cvs
Module name:	www
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 12:25:33

Modified files:
	.              : arm64.html 

Log message:
Mention Firefly-RK3399.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 12:42:20

Added files:
	devel/lam/patches: patch-config_cxx_find_template_repository_m4 
	                   patch-mpi2c++_configure 

Log message:
of course there's a 2nd configure deep within with the exact same issue,
and maybe some more...


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/02 13:11:10

Modified files:
	graphics       : Makefile 
Removed files:
	graphics/libdivxdecore: Makefile distinfo 
	graphics/libdivxdecore/patches: patch-src_Makefile_in 
	graphics/libdivxdecore/pkg: DESCR PLIST 

Log message:
Remove graphics/libdivxdecore.

Our libdivxdecore port is from 2001. Upstream (Project Mayo) has been
dead for years, and there are no consumers in the ports tree.

OK sthen@, jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/02 13:14:15

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register removal of libdivxdecore.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/02 13:16:19

Modified files:
	usr.bin/lex    : flex.skl 

Log message:
Update yy_buf_size after yyrealloc().  The fix has been merged
upstream as well.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/02 13:28:25

Modified files:
	devel/simulavr : Makefile distinfo 
	devel/simulavr/patches: patch-configure patch-test_c_Makefile_in 
	devel/simulavr/pkg: PLIST 

Log message:
update to simulavr-0.1.2.7

- remove doxygen as build depend

CONFIGURE_ARGS tweak and ok from jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/02 13:55:23

Modified files:
	www/kore       : Makefile 
Added files:
	www/kore/patches: patch-includes_pgsql_h patch-src_pgsql_c 

Log message:
Fix build errors with Clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/02 14:17:31

Modified files:
	sysutils/pick  : Makefile distinfo 

Log message:
Update pick to 1.6.1.

From maintainer Anton Lindqvist.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/02 14:41:04

Modified files:
	security/keepassxc: Makefile 
	security/keepassxc/pkg: PLIST 

Log message:
security/keepassxc: Enable auto-type

Patch from m.reed <at> excitingdomainname <.> com; Thanks!

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/02 14:43:22

Removed files:
	devel/simulavr/patches: patch-test_c_Makefile_in 

Log message:
Zap patch-test_c_Makefile_in; forgot to remove this patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/02 14:48:21

Modified files:
	editors/scintilla: Makefile 
Added files:
	editors/scintilla/patches: patch-gtk_ScintillaGTK_cxx 

Log message:
Fix build errors with Clang. Patch from scintilla 3.7.4.

OK espie@, naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/02 14:58:42

Log message:
    Import editors/neovim.
    
    ---8<---
    Neovim is a project that seeks to aggressively refactor Vim in order to:
    
    * Simplify maintenance and encourage contributions.
    * Split the work between multiple developers.
    * Enable advanced external UIs without modifications to the core.
    * Improve extensibility with a new plugin architecture.
    --->8---
    
    Tweaks suggested from abieber@ and sthen@.
    
    OK abieber@.
    
    Thanks to upstream for addressing the issues I have been filing over the past
    few months. All tests are now passing.
    
    Status:
    
    Vendor Tag:	edd
    Release Tags:	edd_20170502
    
    N ports/editors/neovim/Makefile
    N ports/editors/neovim/distinfo
    N ports/editors/neovim/patches/patch-cmake_FindLibUV_cmake
    N ports/editors/neovim/pkg/DESCR
    N ports/editors/neovim/pkg/PLIST
    N ports/editors/neovim/pkg/README
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/02 14:59:49

Modified files:
	editors        : Makefile 

Log message:
Link neovim.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/02 15:06:31

Removed files:
	sysutils/gkrellm/gkrellm/patches: patch-server_configure 

Log message:
zap patches/patch-server_configure

ok sthen@ landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 15:06:41

Modified files:
	infrastructure/bin: update-patches 

Log message:
parse and fuzz patches to remove CVS keywords. Yep, we lose lines of context
but patch can cope.
okay sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 15:14:22

Modified files:
	editors/xemacs21/stable: Makefile 
	editors/xemacs21/stable/patches: patch-src_lisp_h 

Log message:
fix build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 15:16:43

Modified files:
	devel/lam/patches: patch-mpi2c++_configure 
Added files:
	devel/lam/patches: patch-config_cxx_have_bool_m4 
	                   patch-config_cxx_have_nothrow_new_m4 
	                   patch-config_cxx_have_true_false_m4 
	                   patch-config_lam_check_bsd43_fd_passing_m4 
	                   patch-config_lam_check_stdc_m4 
	                   patch-config_lam_get_shmmax_m4 
	                   patch-config_lam_mutex_pshared_m4 

Log message:
fix build with clang... fuck autoconf.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 15:24:25

Modified files:
	sys/arch/arm64/arm64: pmap.c 

Log message:
The pmap_vp_enter() function should only ever be called for userland mappings
with the PMAP_CANFAIL flag set.  Use PR_NOWAIT in the pool_get() calls such
that we return an error instead of deadlocking if we cannot allocate
a pool item.

ok drahn@ (who says this is needed for SMP as well)


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 15:38:26

Modified files:
	sys/arch/arm64/arm64: machdep.c 

Log message:
Zap silly diagnostic reboot message.

ok bmercer@, deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/02 15:39:45

Modified files:
	sys/arch/armv7/armv7: armv7_machdep.c 

Log message:
Zap silly diagnostic reboot message.

ok bmercer@, deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 16:32:29

Modified files:
	infrastructure/bin: update-patches 

Log message:
warn just once per file


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 16:58:49

Added files:
	databases/gq/patches: patch-src_gq-tab-schema_c 

Log message:
don't even grasp how gcc could ever compile this


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 17:26:32

Modified files:
	games/xevil    : Makefile 
	games/xevil/patches: patch-cmn_game_cpp patch-cmn_game_style_cpp 
	                     patch-cmn_physical_cpp patch-cmn_utils_cpp 
	                     patch-x11_serverping_cpp 
Added files:
	games/xevil/patches: patch-cmn_utils_h 

Log message:
let it build with clang: newer includes, don't warn on xpm (too noisy)
fix nonsense in introduced patches (unsigned intptr_t indeed!)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/02 17:29:11

Modified files:
	games/zoom     : Makefile 

Log message:
old gnu89 inlines


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/02 18:35:40

Modified files:
	.              : errata60.html errata61.html 

Log message:
release dhcpd, vmm, libressl and softraid errata.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/02 19:53:24

Modified files:
	.              : errata61.html 

Log message:
typo: aquiring -> acquiring


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/02 19:58:33

Modified files:
	lib/libc/net   : gai_strerror.3 

Log message:
make the description strings match the code


CVSROOT:	/cvs
Module name:	www
Changes by:	bcook@cvs.openbsd.org	2017/05/02 20:10:12

Modified files:
	libressl       : index.html releases.html 

Log message:
bump for 2.5.4


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/02 20:22:01

Modified files:
	usr.sbin/dhcpd : Tag: OPENBSD_6_1 conflex.c confpars.c dhcp.c 
	                 dhcpd.conf.5 dhcpd.h dhctoken.h 

Log message:
OpenBSD 6.1 errata 001, May 2, 2017

dhcpd(8) unconditionally echoed client identifier. Add parameter
"echo-client-id" to allow this behaviour to be turned off.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/02 20:29:16

Modified files:
	sys/arch/amd64/amd64: Tag: OPENBSD_6_1 fpu.c vmm.c vmm_support.S 
	sys/arch/amd64/include: Tag: OPENBSD_6_1 cpufunc.h fpu.h 
	                        vmmvar.h 

Log message:
OpenBSD 6.1 errata 002, May 2, 2017

vmm(4) mismanaged floating point contexts.


CVSROOT:	/cvs
Module name:	www
Changes by:	beck@cvs.openbsd.org	2017/05/02 20:32:32

Modified files:
	libressl       : index.html 

Log message:
Brent always forgets there are two


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/02 20:36:29

Modified files:
	sys/dev        : Tag: OPENBSD_6_1 softraid_concat.c 

Log message:
OpenBSD 6.1 errata 004, May 2, 2017

softraid(4) was unable to create usable concat volumes because
it always set the size of the volume to zero sectors.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/02 20:43:11

Modified files:
	sys/dev        : Tag: OPENBSD_6_0 softraid_concat.c 

Log message:
OpenBSD 6.0 errata 21, May 1, 2017

softraid(4) was unable to create usable concat volumes because
it always set the size of the volume to zero sectors.


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/05/02 20:43:15

Modified files:
	sys/uvm        : uvm_vnode.c 

Log message:
Mark uvm_sync_lock as vnode'ish for witness purposes, as it is taken
between mount locks and inode locks, which may been recorded in either order

ok visa@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/02 20:47:19

Modified files:
	faq            : faq5.html 

Log message:
use a local .git/config instead of the global ~/.gitconfig

suggested by matthew martin


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/02 21:14:32

Modified files:
	sys/net        : ifq.c ifq.h 

Log message:
add ifq_mfreem() so ifq backends can free packets during dequeue.

a goal of the ifq api is to avoid freeing an mbuf while holding a
lock. to acheive this it allowed the backend enqueue operation to
return a single mbuf to be freed. however, mikeb@ is working on a
backend that wants to free packets during dequeue. to support this,
ifq_mfreem queues a packet during dequeue for freeing at the end
of the ifq serialiser.

there's some doco in ifq.h about it.

requested by mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/02 21:41:09

Modified files:
	sys/net        : ifq.h 

Log message:
update the stack doco to match reality.

i hadnt documented that api changes made to support multiple ifqueues
on a single ifnet.

a glaring omission is doco for if_attach_queues, but that should
go into a manpage for driver writers to read, not internal doco on
the stack.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/02 23:53:34

Modified files:
	usr.bin/tmux   : format.c status.c tmux.1 tmux.h window-copy.c 

Log message:
Add a format for the last search string in copy mode and fix the prompt
so it can work when in -I, suggested by Suraj N Kurapati.


CVSROOT:	/cvs
Module name:	www
Changes by:	mlarkin@cvs.openbsd.org	2017/05/03 00:15:51

Modified files:
	.              : errata61.html 

Log message:
clarify the recent vmm errata was for amd64, not "All Architectures"


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/03 00:32:02

Modified files:
	usr.bin/ssh    : sftp.1 ssh-add.1 ssh-keygen.1 ssh.1 

Log message:
more protocol 1 stuff to go; ok djm


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/03 00:45:48

Modified files:
	sys/dev/pci    : Tag: OPENBSD_6_1 if_ix.c 

Log message:
MFC

Since rev 1.1 ix has attempted to require a 64 bit BAR, the test for
this was wrong and was corrected at the end of last year in rev 1.140.
Before then a 64 bit BAR was not enforced as the test was wrong.

It turns out there exist 82598 parts which have a 32 bit BAR so change
the test to only require a memory BAR and not a 64 bit memory BAR.

Problem reported by Robert Blacquiere. ok mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	ratchov@cvs.openbsd.org	2017/05/03 00:56:54

Modified files:
	sys/dev        : audio.c 

Log message:
style improvement from Michael W. Bombardieri <mb at ii.net>


CVSROOT:	/cvs
Module name:	src
Changes by:	ratchov@cvs.openbsd.org	2017/05/03 00:58:11

Modified files:
	sys/dev/usb    : uaudio.c 

Log message:
Remove unused (and wrong) uaudio_drain() call. From Michael W.
Bombardieri" <mb@ii.net>.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/03 01:10:37

Modified files:
	devel/nspr/patches: patch-nspr_pr_include_md__openbsd_cfg 
	                    patch-nspr_pr_include_md__openbsd_h 

Log message:
handle aarch64, ok landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 01:18:50

Modified files:
	x11/qt4/patches: 
	                 patch-src_3rdparty_webkit_Source_JavaScriptCore_wtf_Platform_h 

Log message:
fix build on arm64... for qt4, all arms are 32 bits, sigh.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/03 01:39:55

Modified files:
	net/ocserv     : Makefile distinfo 
	net/ocserv/patches: patch-configure_ac patch-doc_sample_config 
	                    patch-src_occtl_occtl_c 

Log message:
update to ocserv-0.11.8


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/03 02:21:57

Modified files:
	usr.sbin/vmd   : parse.y 

Log message:
Sort parser tokens, no functional change


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/03 02:35:55

Modified files:
	sys/netinet6   : ip6_output.c 

Log message:
Change the ip6_setmoptions() function to receive the rdomain as a new
parameter. This makes the ip6_setmoptions() function look more like the
ipv4 version and fixes a problem with IPV6_JOIN_GROUP when no interface
is specified.

ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 02:52:56

Modified files:
	audio/soundtracker: Makefile 

Log message:
just uses gnu inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 02:55:23

Added files:
	devel/distcc/patches: patch-src_access_c 

Log message:
obvious fix for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 03:11:26

Modified files:
	infrastructure/bin: update-patches 

Log message:
need two separate matches if PATCHORIG finishes with .orig!


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 03:15:38

Modified files:
	print/transfig : Makefile 
	print/transfig/patches: patch-fig2dev_Imakefile 

Log message:
use system getopt, this allows compile with clang, thus unlocking
GraphicsMagick and friends


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 03:46:40

Added files:
	audio/calf/patches: patch-src_benchmark_cpp 
	                    patch-src_calf_buffer_h 
	                    patch-src_calf_fixed_point_h 
	                    patch-src_calf_giface_h 
	                    patch-src_calf_primitives_h 
	                    patch-src_osctlnet_cpp patch-src_preset_cpp 

Log message:
fix build with clang, you gotta wonder how this ever compiled


CVSROOT:	/cvs
Module name:	src
Changes by:	mestre@cvs.openbsd.org	2017/05/03 03:51:39

Modified files:
	sbin/init      : init.c 
	usr.bin/encrypt: encrypt.c 
	usr.bin/lock   : lock.c 
	usr.bin/skey   : skey.c 
	usr.bin/x99token: x99token.c 
	usr.sbin/tokeninit: tokeninit.c 

Log message:
Use the safe idiom of cleaning sensitive data from memory with explicit_bzero,
instead of relying on other methods, after readpassphrase. Some programs on
this diff won't benefit that much since it happens near the terminal path, but
someone might copy the unsafe idiom to another program and place it where it
may leak sensitive data.

Discussed aeons ago with tb@, OK deraadt@ and beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/03 04:01:44

Modified files:
	usr.bin/ssh    : ssh_config 

Log message:
more protocol 1 bits removed; ok djm


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 05:25:12

Modified files:
	x11/slim       : Makefile 
Added files:
	x11/slim/patches: patch-panel_cpp 

Log message:
Fix pointer < 0 check, fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 05:27:14

Modified files:
	x11/keynav     : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	src
Changes by:	gsoares@cvs.openbsd.org	2017/05/03 05:55:36

Modified files:
	etc            : changelist 
	etc/mtree      : special 

Log message:
add vm.conf to changelist and mtree/special
OK reyk mlarkin


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/03 05:59:25

Modified files:
	usr.bin/less   : tags.c 

Log message:
While freeing tag entries, make sure to free the copied strings.
From Anton Lindqvist.  OK tobias@ nicm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/03 06:02:06

Modified files:
	devel/py-zopeinterface: Makefile distinfo 

Log message:
update to py-zopeinterface 4.4.0, from Pavel Korovin


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/03 06:07:02

Log message:
    Import py-constantly 15.1.0, from Pavel Korovin
    
    A library that provides symbolic constant support.
    It includes collections and constants with text, numeric, and bit flag values.
    Originally twisted.python.constants from the Twisted project.
    
    ok sthen@
    
    Status:
    
    Vendor Tag:	pkorovin
    Release Tags:	landry_20170503
    
    N ports/devel/py-constantly/Makefile
    N ports/devel/py-constantly/distinfo
    N ports/devel/py-constantly/pkg/DESCR
    N ports/devel/py-constantly/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/03 06:08:12

Modified files:
	devel          : Makefile 

Log message:
+py-constantly{,python3}


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/03 06:26:52

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
- Don't make an empty syspatch/ repo an error; having no available patch
is perfectly legit.
- Abort immediately if we cannot reach our mirror server listed in
installurl.
- Return a proper error code when running without arguments and we cannot
list the available patches.


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/03 06:27:00

Modified files:
	sys/arch/sparc64/sparc64: pmap.c 

Log message:
explicitly initialise the mutex in the kernel map.

previously it was zeroed memory from a global, which kind of looks
like a valid mutex, but we shouldnt rely on that.

ok kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 06:27:21

Modified files:
	graphics/cfdg  : Makefile 

Log message:
fix. Stupid program is stupid. thanks naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 06:32:55

Modified files:
	x11/keynav/patches: patch-keynav_c 

Log message:
Pull bug fix and missing ctype.h include from upstream.

Fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 06:33:12

Modified files:
	x11/keynav     : Makefile 

Log message:
Missed in previous


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 06:44:00

Added files:
	x11/eterm/patches: patch-src_command_c 

Log message:
inline->static inline fix for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 06:50:50

Added files:
	x11/chbg/patches: patch-src_chbg_c 

Log message:
Fix definition of main

Fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 07:50:47

Modified files:
	x11/xgrab/patches: patch-xgrabsc_c 
Added files:
	x11/xgrab/patches: patch-convert_c patch-process_c patch-write_c 
	                   patch-xgrabsc_h patch-xgrabxaw_c 

Log message:
fix enough warnings/errors that this compiles with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/03 08:01:29

Modified files:
	usr.bin/systat : pftop.c 

Log message:
Remove unused PRIO column from the queueing display;  ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/03 08:02:21

Modified files:
	net/libmaxminddb: Makefile distinfo 

Log message:
Update GeoLite2 databases to latest version.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/03 08:53:12

Modified files:
	sys/dev/pci    : if_iwmreg.h 

Log message:
Fix a regression in iwm(4) which made 3165 devices unusable.

When MIMO support was added several entries in the rate table index enum
got a wrong value. On most devices the firmware ended up using a Tx rate
different from the rate net80211 asked for (which is bad, but not fatal).
But on 3165 devices which do not support MIMO the firmware rightly raised
a fatal error whenever the driver mistakenly asked for a MIMO Tx rate.

Reported by Georgios Pediaditis, Steve Throckmorton, and Kai Wirt on misc@
Thanks to benno@ for providing 3165 hardware I could use to debug this.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 08:57:52

Modified files:
	x11/xgrab      : Makefile 
	x11/xgrab/patches: patch-process_c patch-xgrabsc_h 

Log message:
more cleanup: add prototypes for functions.
prevent segfault on 24 bits visuals.


CVSROOT:	/cvs
Module name:	www
Changes by:	juanfra@cvs.openbsd.org	2017/05/03 09:29:36

Modified files:
	.              : want.html donations.html 

Log message:
Arnaud Assad sent me a X61s (and the 4.4 BSD book).


CVSROOT:	/cvs
Module name:	src
Changes by:	gerhard@cvs.openbsd.org	2017/05/03 09:32:31

Modified files:
	sys/dev/usb    : if_umb.c 

Log message:
Byte order of IP addresses was broken on big endian machines.
MBIM already uses network byte order for IP addresses, so just
use them as they are.

ok stsp@, deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/03 09:49:10

Modified files:
	lib/libutil    : imsg_init.3 

Log message:
spacing (in EXAMPLES code)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 09:54:59

Modified files:
	x11            : Makefile 
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
kill xgrab. it not longer segfaults, but it's still darn useless
okay naddy@, sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 09:55:54

Removed files:
	x11/xgrab      : Makefile distinfo 
	x11/xgrab/patches: patch-Imakefile patch-convert_c 
	                   patch-process_c patch-write_c patch-xgrabsc_c 
	                   patch-xgrabsc_h patch-xgrabxaw_c 
	x11/xgrab/pkg  : DESCR PLIST 

Log message:
erase the port itself, already unlinked and quirked


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/03 10:20:01

Modified files:
	net            : Makefile 
Removed files:
	net/quirc      : Makefile distinfo 
	net/quirc/patches: patch-Makefile.in patch-data_Makefile_in 
	                   patch-doc_Makefile_in patch-format_cc 
	                   patch-servertcl_cc patch-tcl_cc 
	net/quirc/pkg  : DESCR PLIST 

Log message:
Remove net/quirc.

Our quirc port is from 2004, and there is no upstream anymore.

There are plenty of choices regarding maintained IRC clients in the
ports tree.

OK jca@, landry@


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/03 10:21:09

Modified files:
	x11/kde4/nepomuk-core: Makefile 
	x11/kde4/runtime: Makefile 

Log message:
disable doxygen as build depend in KDE4

- survived a bulk, thanks ajacoutot@

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/03 10:24:07

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register removal of quirc.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/03 11:23:34

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Output explicit error messages for:
- trying to install files mounted on a remote FS (diskless clients etc.)
- read-only FS
- not enough space on FS

These were all properly catched before (syspatch would refuse to do anything)
but the error message was a bit cryptic.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/03 11:32:23

Modified files:
	lang/vala      : Makefile distinfo 

Log message:
update to vala-0.36.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/03 11:34:04

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to p5-SVG-2.72


CVSROOT:	/cvs
Module name:	ports
Changes by:	phessler@cvs.openbsd.org	2017/05/03 11:42:02

Modified files:
	textproc/pdfpc : Makefile 
	textproc/pdfpc/pkg: PLIST 

Log message:
fix the location where man pages are installed

OK jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 11:51:26

Modified files:
	x11/afterstep  : Makefile 
Added files:
	x11/afterstep/patches: patch-libAfterBase_asvector_c 
	                       patch-libAfterBase_asvector_h 
	                       patch-libAfterBase_parse_h 
	                       patch-libAfterBase_socket_c 
	                       patch-libAfterStep_colorscheme_c 
	                       patch-libAfterStep_functions_h 
	                       patch-libAfterStep_mylook_c 
	                       patch-libAfterStep_mylook_h 
	                       patch-src_afterstep_asinternals_h 
	                       patch-src_afterstep_misc_c 

Log message:
Drop "inline" or move to "static inline" to fix clang build


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/03 11:51:57

Modified files:
	sys/sys        : mbuf.h 

Log message:
Provide a signed 64 bit integer timestamp in the mbuf packet header

The precision of the timestamp is not fixed yet, but there's a strong
argument to measure it in nanoseconds.

With suggestions from kettenis, dlg, miod and deraadt.
OK deraadt@, sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 11:59:02

Added files:
	x11/wmi/patches: patch-src_action_cpp 

Log message:
Missing include for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 12:05:38

ports/x11/wbar/patches

Update of /cvs/ports/x11/wbar/patches
In directory cvs.openbsd.org:/tmp/cvs-serv69202/patches

Log Message:
Directory /cvs/ports/x11/wbar/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 12:06:40

Added files:
	x11/wbar/patches: patch-src_Makefile_in 

Log message:
-Werror considered harmful


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 12:10:07

Added files:
	x11/treewm/patches: patch-src_tile_cc 

Log message:
Needs ctsdlib


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 12:17:19

Modified files:
	x11/wminfo     : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 12:26:53

Added files:
	x11/wminfo/patches: patch-wmgeneral_list_h 

Log message:
Drop silly inline decls, fix build with clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/03 12:36:05

Modified files:
	audio/libsidplay: Makefile 
	audio/sidplay  : Makefile 
	devel/asm6     : Makefile 
	net/nsping     : Makefile 
	audio/morseplayer: Makefile 
	games/xlife    : Makefile 

Log message:
Switch ports using MASTER_SITE_OPENBSD to a new MASTER_SITES.

OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 12:41:29

Modified files:
	x11/wmtime     : Makefile 
	x11/wmitime    : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 13:18:27

Added files:
	x11/wmitime/patches: patch-wmgeneral_list_h 

Log message:
Drop useless "inline", fixes clang builds


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 13:29:25

Modified files:
	x11/wmtz       : Makefile 

Log message:
Respect CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 13:29:45

Added files:
	x11/wmtz/patches: patch-wmgeneral_list_h 

Log message:
Drop useless "inline"; fixes clang builds


CVSROOT:	/cvs
Module name:	ports
Changes by:	ratchov@cvs.openbsd.org	2017/05/03 13:38:16

Modified files:
	audio/midish   : Makefile distinfo 
	audio/midish/pkg: DESCR PLIST 

Log message:
update to 1.2.0

ok (and tweaks) from bentley@, jca@ and sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/03 13:54:23

Added files:
	www/dansguardian/patches: patch-src_BaseSocket_hpp 

Log message:
Missing include for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/03 13:58:12

Modified files:
	sys/netinet    : tcp_input.c 

Log message:
Back out rev 1.185 (which made the code match the comment) and
adjust the comment to match reality (or at least rfc7323) instead.
This brings us back in line with the behavior of Net and Free.
From Lauri Tirkkonen.  OK bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/03 14:20:42

Modified files:
	net/isc-bind   : Makefile distinfo 
	net/isc-bind/patches: patch-bin_dig_dig_c 
	                      patch-bin_dig_nslookup_c 
	                      patch-lib_isc_unix_net_c 
	                      patch-lib_isc_unix_socket_c 
	net/isc-bind/pkg: PLIST 

Log message:
update to BIND 9.10.5


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/03 14:55:29

Modified files:
	sys/net        : ifq.c ifq.h 

Log message:
Provide a function to dispose of a list of mbufs on dequeue

ifq_mfreeml() is similar to the ifq_mfreem(), but takes an mbuf list
as an argument.  This also lets these functions subtract the number
of packets to be disposed of from the ifq length.

OK dlg


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/03 15:08:09

Modified files:
	usr.bin/ssh    : clientloop.c kex.h opacket.h packet.c packet.h 
	                 pathnames.h ssh.h ssh_config.5 sshkey.h 

Log message:
remove miscellaneous SSH1 leftovers; ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/03 15:49:18

Modified files:
	usr.bin/ssh    : scp.1 sftp.1 ssh.1 ssh_config.5 

Log message:
restore mistakenly deleted description of the ConnectionAttempts option
ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/03 16:35:49

Modified files:
	sys/arch/arm64/arm64: machdep.c 

Log message:
Bring boot() in line with our other architectures.

ok mpi@, deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/03 16:57:10

Modified files:
	devel/mercurial: Makefile distinfo 
	devel/mercurial/pkg: DESCR-main PLIST-main 
Added files:
	devel/mercurial/patches: patch-tests_test-clonebundles_t 

Log message:
Update to mercurial 4.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/03 17:03:44

Modified files:
	devel/py-hg-git: Makefile distinfo 
Removed files:
	devel/py-hg-git/patches: patch-hggit_overlay_py 

Log message:
Update to hg-git 0.8.6. Fix the problem with https:// repos after the
update to mercurial 4.1 and 4.2. Maintainer timeout.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/03 17:22:19

Modified files:
	sysutils/flashrom: Makefile 

Log message:
some configury hidden inside the Makefile uses -Werror... on libusb1
headers, which are not really clean (uses bad preprocessor magic), so
to detect it and finish building with clang, turning off -Werror is
the simplest way.


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/03 19:33:21

Modified files:
	usr.bin/ssh    : cipher.c cipher.h 

Log message:
another tentacle: cipher_set_key_string() was only ever used for SSHv1


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/04 00:10:57

Modified files:
	usr.bin/ssh    : authfd.c ssh-add.c 

Log message:
since a couple of people have asked, leave a comment explaining why we
retain SSH v.1 support in the "delete all keys from agent" path.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 00:51:09

Modified files:
	print/ghostscript/gnu: Makefile 
Added files:
	print/ghostscript/gnu/patches: patch-psi_zfrsd_c 
	                               patch-psi_zmisc3_c 

Log message:
Fix CVE-2017-8291 shell injection in ghostscript.
Apply patches from upstream git.
OK kili@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/04 00:54:28

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-154.0.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/04 01:16:43

Modified files:
	usr.bin/tmux   : cmd-switch-client.c control-notify.c notify.c 
	                 session.c tmux.1 tmux.h window.c 

Log message:
Some new notifications, mainly for active pane and current window and
session:

pane-mode-changed
window-pane-changed
client-session-changed
session-window-changed

From Joshua Brot.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/04 02:26:06

Modified files:
	usr.sbin/vmd   : config.c parse.y priv.c vm.conf.5 vmd.c vmd.h 

Log message:
Add support for rdomains.

This allows to configure VM interfaces and switches in individual rdomains.

OK mlarkin@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/04 03:03:42

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
If iwm_nic_lock() cannot access the device then print "acquiring device failed"
instead of "device timeout". The latter is printed by the Tx watchdog already.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/04 03:33:28

Modified files:
	emulators/fuse : Makefile distinfo 

Log message:
Update fuse to 1.3.5.

OK benoit@


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/04 04:38:58

Modified files:
	faq            : upgrade61.html 

Log message:
Mention another tomcat breaking change in a minor release and show a way
to workaround it (via rc/tomcat_flags) if necessary.  ok tb@

I don't like putting these in upgradeXX.html, but like some others (e.g.
the xml inclusion changes in 7.0.52) these aren't getting mentioned in
upstream's "noteable changes" on the migration page where breaking
changes are listed, and are hard to spot in changelog, plus the actual
method to specify system parameters is system-dependent.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/04 05:13:52

Modified files:
	devel/doc++    : Makefile 
	devel/doc++/pkg: PLIST 
	fonts/ru-pscyr : Makefile 
	fonts/ru-pscyr/pkg: PLIST 
	graphics/asymptote: Makefile 
	graphics/asymptote/pkg: PLIST 
	math/R         : Makefile 
	math/R/pkg     : PLIST 
	print/foiltex  : Makefile 
	print/foiltex/pkg: PLIST 
	print/texinfo  : Makefile 
	print/texinfo/pkg: PLIST 
	textproc/latex2html: Makefile 
	textproc/latex2html/pkg: PLIST 
	textproc/lgrind: Makefile 
	textproc/lgrind/pkg: PLIST 
	education/verbiste: Makefile 
	education/verbiste/pkg: PLIST 

Log message:
Unify usage of mktexlsr across the ports tree.

Also add a missing RUN_DEPEND to fonts/pscyr. Found during testing.

Raised, input from, and OK, sthen@, thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 05:21:37

Modified files:
	infrastructure/man/man1: update-patches.1 

Log message:
document current


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/04 05:31:45

Modified files:
	lib/libtls     : tls_internal.h 

Log message:
Move tls_config_skip_private_key_check() out from under HIDDEN_DECLS.
Even though this is not a real public interface we need the symbol in
the shared library so that relayd can use it (needed for TLS key privsep)
OK beck@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 05:46:39

Added files:
	graphics/gimp/stable/patches: patch-app_Makefile_in 

Log message:
clang doesn't pass -u thru. Fixes build


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 05:48:49

Modified files:
	graphics/gimp/stable/patches: patch-etc_Makefile_in 
	                              patch-plug-ins_common_Makefile_in 

Log message:
regen old patches


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/04 05:54:40

Modified files:
	faq            : upgrade61.html 

Log message:
whitespace


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 06:13:58

Added files:
	archivers/lzip/plzip/patches: patch-list_cc 

Log message:
missing include, get pthread types


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/04 06:28:14

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Expand comment and bump copyright while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/04 06:36:13

Modified files:
	usr.bin/openssl: ca.c 

Log message:
Fix the ca command so that certs it generates have RFC5280 conformant time.
Problem noticed by Harald Dunkel <harald.dunkel@aixigo.de>


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/04 06:50:37

Modified files:
	x11/treewm     : Makefile 

Log message:
Respect CC/CFLAGS


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 06:58:04

Added files:
	audio/audacity/patches: 
	                        patch-lib-src_libnyquist_nyquist_ffts_src_fftlib_c 

Log message:
convert to C99 inlines, trivial, fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/04 07:14:02

Added files:
	x11/treewm/patches: patch-xprop_dsimple_c 

Log message:
Include stdlib.h, better than conflicting/missing decls


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/04 07:14:56

Modified files:
	x11/treewm     : Makefile 
Added files:
	x11/treewm/patches: patch-xprop_xprop_c 

Log message:
Fix build with clang, declare void functions as such.

Reminded by espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/04 07:32:00

Modified files:
	security/keychain: Makefile distinfo 

Log message:
update to keychain-2.8.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 07:55:32

Modified files:
	chinese/crxvt  : Makefile 
Added files:
	chinese/crxvt/patches: patch-src_utmp_c 

Log message:
simplify substitutions and prevent them from interfering with update-patches
fix build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 07:56:58

Modified files:
	audio/lmms/files: AudioSndio.cpp 

Log message:
fix bug: abs(unsigned - unsigned)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 07:57:28

Added files:
	audio/lmms/patches: 
	                    patch-plugins_zynaddsubfx_LocalZynAddSubFx_cpp 
	                    patch-plugins_zynaddsubfx_src_Effects_Alienwah_cpp 
	                    patch-src_tracks_InstrumentTrack_cpp 

Log message:
fix build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/04 07:59:25

Modified files:
	sys/netinet6   : mld6.c 

Log message:
Reset the MLD default ip6_opts by using ip6_initpktopts(). This fixes a
problem with MLD packets being sent with hlim set to zero.

with suggestion from and ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 08:02:00

Modified files:
	comms/gmfsk    : Makefile 

Log message:
requires gnu89 inline semantics


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 08:21:34

Modified files:
	comms/pilot-link/patches: patch-configure 

Log message:
remove very old unneeded configure change which breaks clang


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 08:23:00

Modified files:
	usr.bin/netstat: inet.c 

Log message:
For TCP sockets netstat -A must print the address of the TCP protocol
control block.  This is documented in fstat(1) and makes it possible
to compare the values from both tools.
OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 08:42:13

ports/converters/lastools/patches

Update of /cvs/ports/converters/lastools/patches
In directory cvs.openbsd.org:/tmp/cvs-serv66542/patches

Log Message:
Directory /cvs/ports/converters/lastools/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 08:42:42

Added files:
	converters/lastools/patches: patch-LASzip_src_lasindex_cpp 
	                             patch-LASzip_src_lasinterval_cpp 

Log message:
figure out unordered_map location in a portble way (patch upstreamed)


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 09:00:24

Modified files:
	sys/net        : bpf.c bridgectl.c if.c if_dl.h if_gif.c 
	                 if_mpe.c if_mpw.c if_pppx.c if_vxlan.c pf.c 
	                 pipex.c pipex_local.h 
	sys/netinet    : in.c in.h ip_ipip.c tcp_subr.c 
	sys/netinet6   : in6.c in6.h 
	sys/sys        : socket.h 

Log message:
Introduce sstosa() for converting sockaddr_storage with a type safe
inline function instead of casting it to sockaddr.  While there,
use inline instead of __inline for all these conversions.  Some
struct sockaddr casts can be avoided completely.
OK dhill@ mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 09:08:21

Modified files:
	databases/pkglocatedb: Makefile 
	databases/pkglocatedb/files: pkg_locate.1 

Log message:
typo in manpage


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 09:19:01

Modified files:
	sys/dev/isa    : gus.c 

Log message:
Remove side effects from assignment.  Fixes warning with cppcheck.
No binary change.
OK ratchov@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 09:20:24

Modified files:
	lang/python/2.7: Makefile 
	lang/python/2.7/patches: patch-configure_ac 

Log message:
tweak generated includes so that C++ extensions compile with clang.
- we don't have xlocale
- so we use __bsd_locale_fallbacks_h, yes even for #include <iostream>
- that depends on mbsnrtowcs and wcsnrtombs  from wchar.h
- those require __POSIX_VISIBLE to be >= 200809...

bump accordingly. tested by naddy@, no breakage on gcc platforms.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 09:30:18

Modified files:
	audio/libcanberra/files: sndio.c 

Log message:
convert to double before -, because otherwise unsigned - unsigned


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 09:30:44

Modified files:
	x11/kde/arts3/files: audioiosndio.cc 

Log message:
fix unsigned-unsigned


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 09:32:31

Modified files:
	converters/p5-Cpanel-JSON-XS: Makefile distinfo 

Log message:
update p5-Cpanel-JSON-XS to 3.0233


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 09:46:56

Modified files:
	converters/mimepp: Makefile 
Added files:
	converters/mimepp/patches: patch-body_cpp patch-bodypart_cpp 
	                           patch-dw_cte_cpp patch-field_cpp 
	                           patch-headers_cpp patch-mailbox_cpp 
	                           patch-mboxlist_cpp patch-mediatyp_cpp 
	                           patch-mimepp_field_h 
	                           patch-mimepp_fieldbdy_h 
	                           patch-mimepp_headers_h 
	                           patch-mimepp_string_h 
	                           patch-msgcmp_cpp patch-proto_un_cpp 
	                           patch-string_cpp patch-token_cpp 

Log message:
cleans surprisingly well for something that includes iostream.h
builds with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/04 09:59:39

Modified files:
	usr.sbin/config: config.8 

Log message:
Document that -u wants to read from /dev/mem, so it needs kern.allowkmem=1.
Problem reported by jdd () cs ! toronto ! edu on bugs.

ok brynet deraadt jmc


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 10:13:43

Modified files:
	devel/blame    : Makefile 
	devel/blame/patches: patch-configure 

Log message:
enforce gnu89-inline, regen patch


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/04 10:43:29

Modified files:
	build          : mirrors.dat 

Log message:
add https://ftp.rnl.tecnico.ulisboa.pt/pub/OpenBSD/, from André Aparício


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/04 10:43:40

Modified files:
	.              : ftp.html ftplist httpslist 
	openbgpd       : ftp.html 
	openssh        : ftp.html portable.html 
	openntpd       : portable.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 10:44:05

Added files:
	devel/ddd/patches: patch-ddd_LabelH_C patch-ddd_VSLDefList_C 
	                   patch-ddd_my-dirent_h patch-ddd_strclass_h 

Log message:
fix build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/04 10:52:10

Modified files:
	databases/mysql-utilities: Makefile distinfo 

Log message:
bugfix update to 1.6.5


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/04 10:54:41

Modified files:
	usr.sbin/vmd   : control.c 
	usr.sbin/vmctl : main.c 

Log message:
Report error for vmctl commands that need root privileges.

specifically: vmctl (load|reload|reset|log)

Reported by Christian Barthel


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 10:58:49

Added files:
	devel/grcs/patches: patch-src_base_h 

Log message:
_Noreturn is old gcc only, we use __dead instead. fixes clang build


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 11:15:49

Added files:
	devel/liboil/patches: patch-liboil_amd64_wavelet_c 

Log message:
fix asm constraint for clang, stolen from FreeBSD


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/04 11:29:15

Modified files:
	www/piwik      : Makefile distinfo 
	www/piwik/pkg  : PLIST 

Log message:
Major update to 3.0.3


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/04 11:48:24

Modified files:
	usr.bin/mandoc : man_html.c man_macro.c man_term.c 
	                 man_validate.c mandocdb.c mdoc_argv.c 
	                 mdoc_html.c mdoc_macro.c mdoc_man.c 
	                 mdoc_markdown.c mdoc_state.c mdoc_term.c 
	                 mdoc_validate.c roff.c roff.h 
	regress/usr.bin/mandoc/eqn/define: infinite.out_lint 
	                                   invalid.out_lint 
	regress/usr.bin/mandoc/eqn/over: noarg.out_lint 
	regress/usr.bin/mandoc/mdoc/Pp: arg.out_lint 
	regress/usr.bin/mandoc/roff/cond: close.out_lint if.out_lint 
	regress/usr.bin/mandoc/roff/de: escname.out_lint indir.out_lint 
	regress/usr.bin/mandoc/roff/ig: basic.out_lint 
	regress/usr.bin/mandoc/roff/it: badarg.out_lint 
	regress/usr.bin/mandoc/roff/tr: args.out_lint 
	regress/usr.bin/mandoc/tbl/data: block_unclosed.out_lint 
	                                 empty.out_lint 

Log message:
Parser reorg:
Generate the first node on the roff level: .br
Fix some column numbers in diagnostic messages while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/04 11:57:56

Added files:
	sys/net        : fq_codel.c fq_codel.h 

Log message:
Implementation of the Flow Queue - Controlled Delay (FQ-CoDel)

The purpose of FQ-CoDel is to provide fair sharing of bandwidth
between simultaneous connections and reduce latency differences
among them.

OK mpi, sthen, visa


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 11:58:46

Modified files:
	sys/net        : if_etherip.c 
	sys/netinet    : igmp.c ip_carp.c ip_gre.c ip_icmp.c ip_ipip.c 
	                 tcp_input.c udp_usrreq.c 
	sys/netinet6   : icmp6.c 

Log message:
If m is not a continuous mbuf cluster, m_pullup() in pr_input may
change the pointer.  Then *mp keeps the invalid pointer and it might
be used.  Fix the potential use after free and also reset *mp in
other places to have less dangling pointers to freed mbufs.
OK mpi@ mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 12:01:19

Modified files:
	devel/libvmime : Makefile 
	devel/libvmime/patches: patch-vmime_utility_smartPtrInt_hpp 
Added files:
	devel/libvmime/patches: patch-vmime_address_hpp 
	                        patch-vmime_base_hpp 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/05/04 13:04:23

Modified files:
	www/chromium   : Makefile distinfo 
	www/chromium/patches: 
	                      patch-ui_message_center_message_center_style_h 

Log message:
update to 58.0.3029.96


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 13:14:00

Modified files:
	editors/beav   : Makefile 
	editors/beav/patches: patch-tcap_c 
Added files:
	editors/beav/patches: patch-buffer_c patch-prototyp_h 

Log message:
fix build with clang.
also fixes up prototypes that don't match K&R declarations


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 13:22:03

Modified files:
	editors/tea    : Makefile 
	editors/tea/patches: patch-src_tea_config_c 
Added files:
	editors/tea/patches: patch-src_image_browser_c 
	                     patch-src_rox_strings_c 
	                     patch-src_tea_text_document_c 

Log message:
consistent return values. Fixes clang


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/04 13:41:58

Modified files:
	usr.sbin/vmctl : main.c 
	usr.sbin/vmd   : control.c vmd.c vmd.h 

Log message:
Report command failure back to vmctl reload, reset, load, log verbose.

OK mlarkin@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 13:45:28

Modified files:
	education/drgeo/patches: patch-geo_drgeo_figure_cc 
Added files:
	education/drgeo/patches: patch-geo_drgeo_dialog_cc 

Log message:
anonymous structs can't have extern linkage in modern C++.
fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 13:53:43

Added files:
	emulators/dosbox/patches: patch-src_gui_sdlmain_cpp 

Log message:
fix build with clang (ordered ptr comparison)
and a printf(string) while there


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 13:59:37

Added files:
	emulators/x48/patches: patch-src_debugger_c patch-src_emulate_c 
	                       patch-src_x48_x11_c 

Log message:
fix type of function, handle inline correctly


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 14:04:44

Added files:
	games/agm/patches: patch-agm_h patch-wordfuncs_c 

Log message:
let it build with clang, remove a few warnings


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 14:09:31

Modified files:
	games/allegro  : Makefile 

Log message:
assert gnu89-inline semantics


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 14:25:51

Added files:
	print/cups-bjnp/patches: patch-bjnp-commands_c 

Log message:
test makes no sense, clang flags it as tautological.
-Werror -> boom


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 14:40:34

Added files:
	games/amoebax/patches: patch-src_AIPlayerFactory_h 
	                       patch-src_AdvancedAIPlayer_h 
	                       patch-src_Music_cxx 
	                       patch-src_PauseState_h 
	                       patch-src_TrainingState_h 
	                       patch-src_TryAgainState_h 
	                       patch-src_binreloc_cxx 

Log message:
fix build with clang and a lot of warnings


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/04 14:41:10

Modified files:
	lib/libc/gen   : sysctl.3 
	sbin/sysctl    : sysctl.8 

Log message:
Merge headers defining identifiers from sysctl.8 into sysctl.3. Shorten and
update their descriptions. In sysctl.8 refer to /etc/sysctl.conf in FILES.

discussed with and ok jmc


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/04 14:51:51

Modified files:
	sys/arch/arm64/arm64: cpu.c 

Log message:
Recognize various Cavium ThunderX cores.

ok patrick@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 14:52:00

Added files:
	games/armagetronad/patches: patch-src_network_nNetObject_cpp 
	                            patch-src_tools_tResourceManager_cpp 

Log message:
pointers comparisons


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 14:57:05

Modified files:
	games/blobwars/patches: patch-makefile 

Log message:
-Werror is sooo dependent upon the specific compiler


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 15:06:43

Modified files:
	games/bomberclone: Makefile 

Log message:
-Werror considered harmful, and assert gnu89-inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 15:23:30

Added files:
	games/brumbrumrally/patches: patch-src_Menu_cpp 
	                             patch-src_hqx_common_h 

Log message:
fixes for clang.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/04 15:24:19

Modified files:
	sys/arch/octeon/conf: RAMDISK GENERIC 

Log message:
enable brgphy, which appears in the edgerouter pro


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 15:38:05

Added files:
	games/bzflag/patches: patch-include_VotingArbiter_h 

Log message:
clang nitpicky


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 15:40:20

ports/games/chroma/patches

Update of /cvs/ports/games/chroma/patches
In directory cvs.openbsd.org:/tmp/cvs-serv1808/patches

Log Message:
Directory /cvs/ports/games/chroma/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 15:40:48

Modified files:
	games/chroma   : Makefile 
Added files:
	games/chroma/patches: patch-xor_c 

Log message:
fix it for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 16:03:30

Modified files:
	games/allegro  : Makefile 

Log message:
configure contains a strange test that fails on clang, and creates a bogus
allegro-config... just work around the test by asserting the correct answer


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/04 16:07:44

Modified files:
	usr.bin/mandoc : Makefile html.h man_html.c man_term.c 
	                 mdoc_html.c mdoc_term.c term.h 
Added files:
	usr.bin/mandoc : roff_html.c roff_term.c 

Log message:
Start roff formatter modules for HTML and termininal output,
used by both the mdoc and man formatters, with the ultimate
goal of reducing code duplication between the two macro formatters.
Made possible by the parser unification.
Add the first formatting function (for the .br request).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 16:09:02

ports/games/chromium-bsu/patches

Update of /cvs/ports/games/chromium-bsu/patches
In directory cvs.openbsd.org:/tmp/cvs-serv17244/patches

Log Message:
Directory /cvs/ports/games/chromium-bsu/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 16:09:18

Added files:
	games/chromium-bsu/patches: patch-src_MainSDL_Event_cpp 

Log message:
fix clang, missing include


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/04 16:10:39

Modified files:
	regress/sys/netinet/ipsec: Makefile ipsec.conf 

Log message:
Add IPsec test for manually configured SA bundles.  That does ipcomp,
and esp, and ah with one flow and three SAs in one step.  Test
transport mode, locally terminated tunnel and forwarding packets
from and to tunnel.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/04 16:47:27

Modified files:
	sys/arch/octeon/dev: amdcf.c octcf.c 
	sys/arch/sparc64/dev: fd.c 
	sys/dev        : flash.c 
	sys/dev/ata    : wd.c 
	sys/dev/isa    : fd.c 
	sys/kern       : subr_disk.c 
	sys/scsi       : cd.c sd.c 
	sys/sys        : disk.h 

Log message:
Also pass the blk offset to disk_unbusy(), so that it can pass it to
the random subsystem as entropy.  This value is pretty much unknown,
and anyways our entropy input ring does not saturate from knowns.
ok mikeb djm


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 16:59:23

Added files:
	games/enigma/patches: patch-lib-src_enigma-core_ecl_alist_hh 
	                      patch-lib-src_enigma-core_ecl_dict_hh 
	                      patch-src_lua_cc 

Log message:
fix build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 17:00:16

Added files:
	games/enigma/patches: patch-lib-src_lua_tolua++_h 
	                      patch-lib-src_lua_tolua_is_c 
	                      patch-lib-src_lua_tolua_map_c 

Log message:
fix warnings due to "" -> char* conversion


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 17:00:48

Modified files:
	games/enigma   : Makefile 
Added files:
	games/enigma/patches: patch-lib-src_enigma-core_ecl_font_cc 
	                      patch-src_lev_PersistentIndex_cc 
	                      patch-src_stones_complex_cc 

Log message:
fix a few obvious typos found by clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/04 17:40:29

Modified files:
	infrastructure/lib/DPB: Engine.pm 

Log message:
my bad, line at end of summary


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/04 20:06:17

Modified files:
	usr.bin/mandoc : Makefile man_html.c man_macro.c man_term.c 
	                 man_validate.c mdoc_html.c mdoc_man.c 
	                 mdoc_markdown.c mdoc_term.c mdoc_validate.c 
	                 roff.c roff.h roff_html.c roff_term.c 
	regress/usr.bin/mandoc/roff/ft: Makefile 
Added files:
	usr.bin/mandoc : roff_validate.c 
	regress/usr.bin/mandoc/roff/ft: badargs-mdoc.in 
	                                badargs-mdoc.out_ascii 
	                                badargs-mdoc.out_lint 

Log message:
Move handling of the roff(7) .ft request from the man(7)
modules to the new roff(7) modules.  As a side effect,
mdoc(7) now handles .ft, too.  Of course, do not use that.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/04 20:12:39

Modified files:
	lib/libc/sys   : sigprocmask.2 

Log message:
Mention that the signal mask does not affect what signals are
discarded by the kernel.  Document that at least one pending signal
will be delivered before sigprocmask() returns.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/04 20:31:23

Modified files:
	share/man/man7 : man.7 mdoc.7 roff.7 

Log message:
Clean up docs after today's .br and .ft code cleanup; simpler.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/04 22:10:48

Modified files:
	devel/nagelfar : Makefile distinfo 
	devel/nagelfar/patches: patch-lib_textsearch_examples_demo_tcl 
	                        patch-nagelfar_tcl 
	devel/nagelfar/pkg: PLIST 

Log message:
Update to 1.2.5.
Install textsearch in the right place.
Better patches. Less file shenanigans.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/04 22:23:38

Modified files:
	databases/sqlite3-tcl: Makefile distinfo 
	databases/sqlite3-tcl/pkg: PLIST 
Added files:
	databases/sqlite3-tcl/patches: patch-tea_configure 

Log message:
Update to 3.17.0.
Don't treat loadable lib as linkable lib.
Take maintainership.

ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/04 23:11:25

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/05 01:25:59

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.46.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/05 01:26:11

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.83.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/05 01:46:59

Modified files:
	sys/arch/amd64/amd64: vmm.c 
	sys/arch/amd64/include: vmmvar.h 

Log message:
Allow setting guest %xcr0 from vmd(8).

Tested on linux and amd64 OpenBSD guests.

Posted to tech by Pratik Vyas.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/05 01:48:02

Modified files:
	usr.sbin/vmd   : vm.c 

Log message:
Allow vmd(8) to set guest %xcr0

Usermode part of previous vmm(4) diff.

Posted to tech by Pratik Vyas


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/05 02:07:36

Modified files:
	usr.sbin/syspatch: syspatch.8 syspatch.sh 

Log message:
Add a `-R' switch that reverts all patches.

prodded by deraadt@
knobs sorting input jmc@
ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/05/05 02:09:55

ports/x11/paper-gtk-theme/patches

Update of /cvs/ports/x11/paper-gtk-theme/patches
In directory cvs.openbsd.org:/tmp/cvs-serv59656/patches

Log Message:
Directory /cvs/ports/x11/paper-gtk-theme/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/05/05 02:10:32

Modified files:
	x11/paper-gtk-theme: Makefile 
	x11/paper-gtk-theme/pkg: PLIST 
Added files:
	x11/paper-gtk-theme/patches: patch-Add_GTK-3.22_theme 

Log message:
Backport a diff to support Gtk-3.22 and remove its warnings.

ok ajacoutot@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/05 02:58:02

Modified files:
	mail/rspamd    : Makefile distinfo 

Log message:
update to rspamd-1.5.7, upstream switched to github for distfiles


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/05 03:37:13

Modified files:
	net/librenms   : Makefile 
	net/librenms/patches: patch-html_pages_about_inc_php 
	                      patch-includes_common_php 

Log message:
fix version display on librenms' "about" page


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/05/05 04:21:47

Modified files:
	lang/luajit    : Makefile distinfo 
	lang/luajit/patches: patch-Makefile patch-etc_luajit_pc 
	                     patch-src_Makefile 
	                     patch-src_host_buildvm_asm_c 
	                     patch-src_lj_arch_h patch-src_luaconf_h 

Log message:
update to LuaJIT 2.0.5

Major on the library gets cranked as it removes
luaJIT_version_2_0_4
and adds
luaJIT_version_2_0_5

Tested by sthen@ with rspamd. ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/05 04:41:58

Modified files:
	usr.bin/ssh    : ssh-add.1 ssh-keygen.1 ssh.1 

Log message:
remove superfluous protocol 2 mentions; ok jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/05 04:42:49

Modified files:
	usr.bin/ssh    : authfd.c authfd.h pathnames.h ssh-add.c 
	                 sshconnect2.c 

Log message:
more simplification and removal of SSHv1-related code; ok djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/05/05 04:49:28

Modified files:
	sysutils/dtb   : Makefile distinfo 
	sysutils/dtb/pkg: PLIST 

Log message:
update dtb to linux 4.11

Switch from using ports gcc to clang.  Base gcc can't be used as the
preprocessor doesn't handle '#' not being in the first column.

Problem in initial patch spotted by and ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/05 05:04:18

Modified files:
	sys/net        : pfkeyv2.c pfkeyv2_convert.c 
	sys/netinet    : ip_ipsp.c ipsec_input.c 

Log message:
Expand SA_LEN(), there is no benefit for using the macro in the
kernel.  It was only used in IPsec sources.  No binary change
OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/05 05:26:36

Modified files:
	sys/dev/pci    : pcidevs 

Log message:
add Moxa CP-104EL


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/05 05:27:00

Modified files:
	sys/dev/pci    : pcidevs.h 

Log message:
regen


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/05 05:28:48

Modified files:
	sys/dev/usb    : usbdi.c 

Log message:
Remove a DIAGNOSTIC test for a NULL pipe value inside a transfer,
mpi says a transfer can't exist without a pipe.  ok mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/05 05:40:29

Modified files:
	lang/rust      : Makefile distinfo 
	lang/rust/patches: patch-src_bootstrap_lib_rs 
	                   patch-src_bootstrap_step_rs 
	lang/rust/pkg  : PFRAG.amd64-main PFRAG.i386-main PLIST-doc 
Added files:
	lang/rust/patches: patch-src_tools_compiletest_src_main_rs 
Removed files:
	lang/rust/patches: patch-src_bootstrap_native_rs 
	                   patch-src_llvm_cmake_modules_AddLLVM_cmake 
	                   patch-src_llvm_include_llvm_ExecutionEngine_RTDyldMemoryManager_h 
	                   patch-src_llvm_include_llvm_Support_Threading_h 
	                   patch-src_llvm_lib_CodeGen_TargetLoweringBase_cpp 
	                   patch-src_llvm_lib_Support_Unix_Signals_inc 
	                   patch-src_llvm_lib_Transforms_InstCombine_InstCombineLoadStoreAlloca_cpp 

Log message:
Update to rust 1.17.0, from semarie@

Use ports llvm instead of building the bundled copy (yay!)
More work needed to actually build with clang ...


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/05 05:42:27

Modified files:
	devel/cargo    : Makefile distinfo 
	devel/cargo/patches: patch-src_cargo_core_package_id_rs 
Added files:
	devel/cargo/patches: patch-Makefile_in 
	                     patch-src_cargo_util_config_rs 

Log message:
Update to cargo 0.18.0, from semarie@.

Now distributed upstream along rust, so distfiles/bootstraps were
shuffled a bit.

Tested by/feedback from edd@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 05:43:47

Modified files:
	audio/dumb     : Makefile 
	audio/dumb/patches: patch-Makefile patch-Makefile_rdy 

Log message:
assert -fgnu89-inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 05:59:27

Modified files:
	games/capitan-sevilla: Makefile 
	games/capitan-sevilla/patches: patch-Makefile 

Log message:
fix build so that it uses CXXFLAGS for C++, add -fgnu89-inline to CFLAGS.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/05 05:59:47

Modified files:
	usr.bin/tmux   : format.c tmux.1 

Log message:
Add some formats to look at the session window stack, suggested by Scott
ROCHFORD.


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/05/05 06:04:58

Modified files:
	devel/glib2    : Makefile 
	devel/glib2/patches: patch-gio_kqueue_kqueue-helper_c 
Added files:
	devel/glib2/patches: patch-gio_kqueue_gkqueuefilemonitor_c 

Log message:
Fix a mutex recursion introduced in my last diff and protect another
code path with the same lock.

ok ajacoutot@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 06:54:47

Modified files:
	sys/arch/arm/arm: bus_dma.c 

Log message:
Remove /* FALLTHROUGH */ that isn't (and shouldn't).


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/05 07:17:04

Modified files:
	usr.bin/mandoc : man_html.c man_macro.c man_term.c 
	                 man_validate.c mandocdb.c mdoc_argv.c 
	                 mdoc_html.c mdoc_macro.c mdoc_man.c 
	                 mdoc_markdown.c mdoc_state.c mdoc_term.c 
	                 mdoc_validate.c roff.c roff.h roff_term.c 
	                 roff_validate.c 

Log message:
move .ll to the roff modules


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 07:19:24

Modified files:
	graphics/ufraw : Makefile 
Added files:
	graphics/ufraw/patches: patch-dcraw_cc 

Log message:
fix with clang/bug-fix from ufraw-current


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 07:23:52

Modified files:
	sys/dev/fdt    : rkclock.c rkclock_clocks.h 

Log message:
Add eMMC-related clocks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 07:38:13

Modified files:
	infrastructure/bin: update-patches 

Log message:
WRKDIST shouldn't end in /, but just in case...
noticed by jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/05 07:38:21

Modified files:
	security/letsencrypt: Makefile.inc 
	security/letsencrypt/client: Makefile distinfo 
	security/letsencrypt/client/pkg: PLIST 
	security/letsencrypt/py-acme: Makefile distinfo 
Removed files:
	security/letsencrypt/client/patches: patch-setup_py 
	security/letsencrypt/py-acme/patches: patch-setup_py 

Log message:
update to certbot 0.14.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/05 07:45:59

Modified files:
	x11/wmtime     : Makefile 

Log message:
Don't append / to WRKDIST/WRKSRC


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/05 07:47:35

Modified files:
	x11/wmtime/patches: patch-wmtime_wmtime_c 

Log message:
regen patch


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/05 07:48:23

Added files:
	x11/wmtime/patches: patch-wmgeneral_list_h 

Log message:
Disable inline in list functions decls; fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/05 08:02:51

Modified files:
	textproc/mupdf : Makefile distinfo 
	textproc/mupdf/patches: patch-Makefile patch-Makerules 
	                        patch-platform_gl_gl-main_c 
	                        patch-platform_x11_pdfapp_c 
	                        patch-platform_x11_x11_main_c 
	                        patch-source_fitz_load-jpx_c 
	                        patch-source_tools_mudraw_c 
	                        patch-source_tools_murun_c 
	                        patch-source_tools_pdfextract_c 
	                        patch-source_tools_pdfinfo_c 
	textproc/mupdf/pkg: PLIST 
Removed files:
	textproc/mupdf/patches: patch-Makethird 
	                        patch-source_fitz_pixmap_c 

Log message:
after doing battle with the build infra, belatedly update to MuPDF 1.11


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/05 08:04:37

Modified files:
	graphics/clutter/core/patches: patch-tests_conform_actor-graph_c 

Log message:
Committed upstream, thanks nigel@


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/05/05 08:14:19

Modified files:
	app/cwm        : client.c 

Log message:
Ensure clients stay within the viewable bounds on placement, even with empty
borders; based on a patch from Vadim Vygonets.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 08:48:50

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
if DISTNAME is not defined, yield more reasonable default for WRKDIST
and DISTFILES
okay sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 09:04:51

Modified files:
	sys/arch/arm64/arm64: bus_dma.c 

Log message:
Add the missing cache flush operations for non-coherent mappings.

ok jsg@, patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 09:10:07

Modified files:
	sys/dev/sdmmc  : sdhc.c sdhcvar.h 

Log message:
Implement two quirks to support the Arasan eMMC 5.1 controller found on
the Rockchip RK3399.

- Make it possible to override sdhc_signal_voltage().

- Make it possible to disable double-data rate modes.

ok patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/05 09:16:26

Modified files:
	usr.bin/mandoc : man.c man_html.c man_macro.c man_term.c 
	                 man_validate.c mandocdb.c mdoc.c mdoc_argv.c 
	                 mdoc_html.c mdoc_macro.c mdoc_man.c 
	                 mdoc_markdown.c mdoc_state.c mdoc_term.c 
	                 mdoc_validate.c roff.c roff.h roff_html.c 
	                 roff_term.c roff_validate.c 
	regress/usr.bin/mandoc/man/blank: line.out_lint 
	regress/usr.bin/mandoc/mdoc/Pp: arg.out_lint 
	regress/usr.bin/mandoc/roff/cond: close.out_lint 

Log message:
Move .sp to the roff modules.  Enough infrastructure is in place
now that this actually saves code: -70 LOC.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 09:23:46

Modified files:
	sys/dev/fdt    : files.fdt 
	sys/arch/arm64/conf: GENERIC RAMDISK 
Added files:
	sys/dev/fdt    : sdhc_fdt.c 

Log message:
Add glue to attach SDHC compliant controllers using the FDT.  This makes
the eMMC controller on the Rockchip RK3399 work.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/05 09:48:50

Modified files:
	lib/libc/sys   : kill.2 

Log message:
Document what happens when sending a signal to the calling process.
OK jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/05 09:54:28

Modified files:
	share/man/man7 : man.7 mdoc.7 roff.7 

Log message:
Shorten the description of .sp and move it to roff(7).
If is not a macro but a low-level roff request
and not recommended for use in manual pages.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/05 10:30:40

Modified files:
	sys/net        : pf.c 

Log message:
Put back the call to pf_remove_src_node lost in the netlock backout

Reported by Remi Barbier, thanks!  OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 11:38:22

Modified files:
	sys/dev/ofw    : ofw_misc.c 

Log message:
Include <dev/ofw/ofw_misc.h> instead of <dev/ofw/ofw_pinctrl.h>.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 11:43:47

Modified files:
	sys/dev/fdt    : files.fdt 
	sys/arch/arm64/conf: GENERIC RAMDISK 
Added files:
	sys/dev/fdt    : rkpinctrl.c 

Log message:
Add rkpinctrl(4), a driver to configure pins on Rockchip SoCs.  For now,
only the RK3399 is supported.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/05 12:16:53

Modified files:
	archivers/zstd : Makefile distinfo 
	archivers/zstd/patches: patch-tests_playTests_sh 
	archivers/zstd/pkg: PLIST 

Log message:
Update to zstd 1.2.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jturner@cvs.openbsd.org	2017/05/05 12:22:24

Modified files:
	sysutils/login_duo: Makefile distinfo 
	sysutils/login_duo/pkg: PLIST 
Added files:
	sysutils/login_duo/patches: patch-lib_https_c 

Log message:
Update login_duo to 1.9.20


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 13:21:20

Modified files:
	devel/sparsehash: Makefile distinfo 

Log message:
minor update, this one works with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/05 13:24:12

Modified files:
	net/arping     : Makefile distinfo 
Added files:
	net/arping/patches: patch-src_mock_libpcap_c 

Log message:
Update to arping-2.18.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/05 14:13:54

Modified files:
	sys/arch/armv7/sunxi: files.sunxi 
	sys/dev/fdt    : files.fdt 
Added files:
	sys/dev/fdt    : if_dwge_fdt.c 
Removed files:
	sys/arch/armv7/sunxi: if_dwge_fdt.c 

Log message:
Move dwge(4) glue into dev/fdt.


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/05 14:16:40

Modified files:
	usr.sbin/vmd   : vm.c 

Log message:
VMs cannot use proc_compose() to PROC_VMM, they have to use
imsg_compose() on the "vmm_pipe" directly.  This fixes the
communication channel from VMs back to vmm.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/05 16:11:08

Modified files:
	x11/tvtwm      : Makefile 
	x11/tvtwm/patches: patch-gram_y patch-lex_l patch-parse_c 
Added files:
	x11/tvtwm/patches: patch-LocPixmap_c patch-add_window_c 
	                   patch-add_window_h patch-cursor_c 
	                   patch-events_c patch-events_h patch-icons_c 
	                   patch-icons_h patch-list_c patch-list_h 
	                   patch-menus_c patch-menus_h patch-move_c 
	                   patch-parse_h patch-regexp_c patch-resize_c 
	                   patch-resize_h patch-ssetroot_c patch-twm_c 
	                   patch-twm_h patch-util_c patch-util_h 
	                   patch-vdt_c patch-vdt_h 

Log message:
fix missing return types, declarations, includes, etc. for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/05 19:54:31

Modified files:
	sys/dev/pci    : pucdata.c 

Log message:
add Moxa CP-104EL
ok kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/05 20:51:13

Modified files:
	games/dunelegacy: Makefile 
Added files:
	games/dunelegacy/patches: patch-include_misc_functional_h 
	                          patch-include_misc_memory_h 

Log message:
get it to build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/06 00:43:02

Modified files:
	sys/arch/arm64/arm64: cpu.c 

Log message:
Now that we have a table of Cavium part numbers add the part number for
Broadcom's Vulcan design with a Cavium implementer code
(ThunderX2 T99/CN99xx).  Suggested by kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/06 00:49:12

Modified files:
	distrib/miniroot: install.sub 

Log message:
Add build to the list of usernames that are rejected during
installation.

Noted by crd _at_ crdavies.eu
OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 01:15:58

Modified files:
	www/mozilla-firefox: Makefile distinfo 
	www/firefox-i18n: Makefile.inc distinfo 

Log message:
Bugfix update to firefox 53.0.2.

See https://www.mozilla.org/en-US/firefox/53.0.2/releasenotes/
Fixes MFSA2017-14, but that only affects Windows.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 01:17:00

Modified files:
	www/firefox-esr: Makefile distinfo 
	www/firefox-esr-i18n: Makefile.inc distinfo 

Log message:
Bugfix update to firefox-esr 52.1.1.

See https://www.mozilla.org/en-US/firefox/52.1.1/releasenotes/


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 01:23:29

Modified files:
	www/firefox-esr: Tag: OPENBSD_6_1 Makefile distinfo 
	www/firefox-esr-i18n: Tag: OPENBSD_6_1 Makefile.inc distinfo 

Log message:
MFC: update to firefox-esr 52.1.1.

Stable packages for i386 and amd64 available at https://packages.rhaalovely.net/


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 01:24:08

Modified files:
	www/mozilla-firefox: Tag: OPENBSD_6_1 Makefile distinfo 
	www/firefox-i18n: Tag: OPENBSD_6_1 Makefile.inc distinfo 

Log message:
MFC: update to firefox 53.0.2.

Stable packages for i386 and amd64 available at https://packages.rhaalovely.net/


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/06 01:57:06

Modified files:
	graphics/graphite2: Makefile distinfo 
Removed files:
	graphics/graphite2/patches: patch-src_FeatureMap_cpp 

Log message:
Update to graphite2-1.3.10.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 02:17:05

Modified files:
	mail/p5-Mail-IMAPClient: Makefile distinfo 

Log message:
Update to p5-Mail-IMAPClient-3.39.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 02:30:48

Modified files:
	converters/convmv: Makefile distinfo 

Log message:
Update to convmv-2.01.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/06 02:39:19

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 

Log message:
Update to google-cloud-sdk-154.0.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/06 02:44:09

Modified files:
	sysutils/remotebox: Makefile distinfo 
	sysutils/remotebox/pkg: PLIST 

Log message:
Update to remotebox-2.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 02:53:45

Modified files:
	devel/p5-Alien-wxWidgets: Makefile distinfo 
	devel/p5-Alien-wxWidgets/patches: patch-Build_PL 
	                                  patch-inc_My_Build_Base_pm 

Log message:
Update to p5-Alien-wxWidgets-0.69.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 03:43:59

Log message:
    Import py-attrs-16.3.0, another dependency for an upcoming twisted update
    
    attrs is an MIT-licensed Python package with class decorators that ease the
    chores of implementing the most common attribute-related object protocols.
    
    From Pavel Korovin, ok sthen@
    
    Status:
    
    Vendor Tag:	pkorovin
    Release Tags:	landry_20170506
    
    N ports/devel/py-attrs/Makefile
    N ports/devel/py-attrs/distinfo
    N ports/devel/py-attrs/pkg/DESCR
    N ports/devel/py-attrs/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 03:46:48

Log message:
    Import py-incremental-16.10.1, yadada yadada twisted update yadada
    
    A small library that versions Python projects.
    
    From Pavel Korovin, ok sthen@
    
    Status:
    
    Vendor Tag:	pkorovin
    Release Tags:	landry_20170506
    
    N ports/devel/py-incremental/Makefile
    N ports/devel/py-incremental/distinfo
    N ports/devel/py-incremental/pkg/DESCR
    N ports/devel/py-incremental/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 03:48:44

Log message:
    Import py-service_identity-16.0.0, you know the drill.
    
    service_identity aspires to give you all the tools you need for
    verifying whether a certificate is valid for the intended purposes.
    
    In the simplest case, this means host name verification.  However,
    service_identity implements RFC 6125 fully and plans to add other
    relevant RFCs too.
    
    From Pavel Korovin, ok sthen@
    
    Status:
    
    Vendor Tag:	pkorovin
    Release Tags:	landry_20170506
    
    N ports/security/py-service_identity/Makefile
    N ports/security/py-service_identity/distinfo
    N ports/security/py-service_identity/pkg/DESCR
    N ports/security/py-service_identity/pkg/PLIST
    N ports/security/py-service_identity/patches/patch-setup_cfg
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 03:51:45

Log message:
    Import py-m2r-0.1.5, bite my shiny metal ***
    
    M2R converts a markdown file including reST markups to a valid reST format.
    
    From Pavel Korovin, ok sthen@
    
    Status:
    
    Vendor Tag:	pkorovin
    Release Tags:	landry_20170506
    
    N ports/textproc/py-m2r/Makefile
    N ports/textproc/py-m2r/distinfo
    N ports/textproc/py-m2r/pkg/DESCR
    N ports/textproc/py-m2r/pkg/PLIST
    N ports/textproc/py-m2r/patches/patch-setup_py
    N ports/textproc/py-m2r/patches/patch-tests_test_rst
    N ports/textproc/py-m2r/patches/patch-tests_test_md
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 03:54:29

Log message:
    Import py-automat-0.5.0, ~~twisted~~ //twisted// **twisted**.
    
    Automat is a library for concise, idiomatic Python expression of finite-state
    automata (particularly deterministic finite-state transducers).
    
    From Pavel Korovin, ok sthen@
    
    Status:
    
    Vendor Tag:	pkorovin
    Release Tags:	landry_20170506
    
    N ports/devel/py-automat/Makefile
    N ports/devel/py-automat/distinfo
    N ports/devel/py-automat/pkg/DESCR
    N ports/devel/py-automat/pkg/PLIST
    N ports/devel/py-automat/patches/patch-setup_py
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 03:56:08

Modified files:
	devel          : Makefile 
	textproc       : Makefile 
	security       : Makefile 

Log message:
+py-{attrs,automat,incremental,m2r,service_identify}{,python3}


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/06 04:19:04

Modified files:
	x11/piewm      : Makefile 
	x11/piewm/patches: patch-gram.y 
Added files:
	x11/piewm/patches: patch-add_window_c patch-events_c 
	                   patch-events_h patch-lex_l patch-list_c 
	                   patch-list_h patch-menus_c patch-menus_h 
	                   patch-move_c patch-parse_c patch-parse_h 
	                   patch-ssetroot_c patch-twm_c patch-twm_h 
	                   patch-util_c patch-vdt_c 

Log message:
fix missing return types, declarations, includes, etc. for clang


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/06 04:34:39

Modified files:
	faq            : current.html 

Log message:
no need to upgrade the build infrastructure twice.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 05:14:50

Modified files:
	fonts/sgi-fonts: Makefile 

Log message:
Switch MASTER_SITES to distfiles.pl.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/06 05:27:34

Modified files:
	sys/arch/arm64/arm64: cpu.c 

Log message:
Print full MIDR for CPUs that can't be identified.

ok jsg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 05:53:31

Modified files:
	math           : Makefile 
Removed files:
	math/xspread   : Makefile distinfo 
	math/xspread/patches: patch-Makefile_in patch-interp_c 
	                      patch-sc_h 
	math/xspread/pkg: DESCR PLIST 

Log message:
Remove math/xspread.

Our xspread port is from 1995. This is a modifed version of sc 6.22
that runs under X, there is no upstream anymore.

We have sc 7.16 in the ports tree, so this should be used instead.

OK jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 05:55:17

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register removal of xspread.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 06:42:01

Modified files:
	infrastructure/bin: update-patches 

Log message:
do things correctly in case wrkdist is a symlink.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 06:43:55

Modified files:
	infrastructure/bin: update-patches 

Log message:
lost one line I didn't intend to lose


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 06:51:21

Modified files:
	japanese/onew/patches: patch-conf_c patch-dialogue_jisyo_c 
	                       patch-dialogue_onewdic_c 
	                       patch-interface_ouimessage_c patch-onew_c 
	                       patch-onewclient_c patch-onewmisc_c 
Added files:
	japanese/onew/patches: patch-dialogue_keisen_c 
	                       patch-interface_oui_c 

Log message:
fix just enough return problems that this builds, so we have the option
of keeping it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 07:24:46

Modified files:
	textproc/the_silver_searcher: Makefile distinfo 

Log message:
Update the_silver_searcher to 1.0.3.

From maintainer Florian Stinglmayr, thanks!

OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 07:42:17

Added files:
	games/teeworlds/patches: patch-src_engine_shared_netban_cpp 

Log message:
somehow, clang wants explicit instantiation for those


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 07:45:49

Modified files:
	graphics/sxiv  : Makefile 
	graphics/sxiv/pkg: PLIST 
Added files:
	graphics/sxiv/patches: patch-icon_Makefile 

Log message:
Install .desktop file and icons. Icon bits and patch from kirby@.

While there, remove unneeded WRKDIST variable and do some minor
reformatting.

OK landry@ (previous version), kirby@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/06 08:01:50

ports/multimedia/gstreamer1/mm/patches

Update of /cvs/ports/multimedia/gstreamer1/mm/patches
In directory cvs.openbsd.org:/tmp/cvs-serv93675/mm/patches

Log Message:
Directory /cvs/ports/multimedia/gstreamer1/mm/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 08:10:16

Modified files:
	graphics/glfw  : Makefile 
Added files:
	graphics/glfw/patches: patch-deps_getopt_c 

Log message:
hack for clang...


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/06 08:30:06

Added files:
	security/dsniff/patches: patch-sshmitm_c patch-webmitm_c 

Log message:
work around name clash between a variable and the C99 function csin()


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 08:36:47

Modified files:
	devel/p5-B-Hooks-EndOfScope: Makefile distinfo 

Log message:
Update to p5-B-Hooks-EndOfScope-0.21.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/06 08:41:16

Modified files:
	security       : Makefile 

Log message:
typo


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/06 08:43:44

Modified files:
	net            : Makefile 
Removed files:
	net/winexe     : Makefile distinfo 
	net/winexe/patches: patch-lib_tls_tls_c patch-pidl_pidl 
	net/winexe/pkg : DESCR PLIST 

Log message:
remove winexe; this version doesn't work with any modern Windows version,
also fails with clang.

there's some slightly newer (though still old) devel code on sourceforge git
(building against separate samba4, rather than have chunks of it copied in)
which might be of interest if any waf fans want to revive this.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 08:45:53

Modified files:
	devel/p5-Canary-Stability: Makefile distinfo 

Log message:
Update to p5-Canary-Stability-2012.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/06 08:49:17

Added files:
	devel/libopensync/patches: patch-cmake_modules_Compiler_cmake 

Log message:
fix cmake bits for clang; there's still a "non-void fn should return a value"


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/06 08:56:08

Modified files:
	mail/p5-Mail-SpamAssassin: Makefile 
	mail/p5-Mail-SpamAssassin/pkg: PLIST 

Log message:
Install ldap docs and take maintainership
ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 09:00:57

Modified files:
	devel/p5-Carp-Clan: Makefile distinfo 

Log message:
Update to p5-Carp-Clan-6.06.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 09:01:31

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
keep a short form of the GH_COMMIT in the DISTFILES name, so that GH_COMMIT
changes do not result in the distfile name


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 09:09:01

Modified files:
	devel/p5-Class-C3: Makefile distinfo 

Log message:
Update to p5-Class-C3-0.33.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 09:10:18

Modified files:
	devel/ctftools : distinfo 
	archivers/lz4json: distinfo 
	audio/fookebox : distinfo 
	audio/sonata   : distinfo 
	devel/cvs2gitdump: distinfo 
	devel/distcc   : distinfo 
	devel/droplet  : distinfo 
	devel/go-check-v1: distinfo 
	devel/go-tools : distinfo 
	devel/gtkparasite: distinfo 
	devel/libvterm : distinfo 
	devel/py-rcsparse: distinfo 
	devel/teensyloader: distinfo 
	devel/universal-ctags: distinfo 
	emulators/emulationstation: distinfo 
	emulators/libretro-genesis-plus-gx: distinfo 
	fonts/go-fonts : distinfo 
	fonts/powerline-fonts: distinfo 
	games/bastet   : distinfo 
	games/gti      : distinfo 
	games/ioquake3 : distinfo 
	games/jbrickshooter: distinfo 
	games/mysticmine: distinfo 
	games/sdlpop   : distinfo 
	graphics/displaz: distinfo 
	graphics/gimp/deskew: distinfo 
	graphics/quirc : distinfo 
	graphics/zxing : distinfo 
	lang/jimtcl    : distinfo 
	multimedia/daala: distinfo 
	multimedia/motion: distinfo 
	net/cgo        : distinfo 
	net/flowd      : distinfo 
	net/go-net     : distinfo 
	net/hping      : distinfo 
	net/irssi-icb  : distinfo 
	net/manubulon-snmp: distinfo 
	net/noVNC      : distinfo 
	net/ntimed     : distinfo 
	net/py-czmq    : distinfo 
	net/tcpslice   : distinfo 
	net/telepathy/folks: distinfo 
	net/ucspi-tools: distinfo 
	net/whatweb    : distinfo 
	net/xl2tpd     : distinfo 
	plan9/devdrawserver: distinfo 
	print/apvlv    : distinfo 
	security/go-crypto: distinfo 
	security/letsencrypt/acme-tiny: distinfo 
	security/regripper: distinfo 
	security/sslScanner: distinfo 
	shells/nsh     : distinfo 
	sysutils/ansible-lint: distinfo 
	sysutils/fwa   : distinfo 
	sysutils/grive2: distinfo 
	sysutils/inotify-tools: distinfo 
	sysutils/lsyncd: distinfo 
	telephony/libzrtp: distinfo 
	textproc/go-text: distinfo 
	textproc/go-xlsx: distinfo 
	textproc/xlsx2csv: distinfo 
	www/luakit     : distinfo 
	www/mono-xsp   : distinfo 
	www/surf2      : distinfo 
	x11/dzen2      : distinfo 
	x11/freerdp    : distinfo 
	x11/i3lock     : distinfo 
	x11/xsettingsd : distinfo 

Log message:
adjust distinfo post DISTFILES change


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 09:19:28

Modified files:
	devel/p5-Class-Inspector: Makefile distinfo 

Log message:
Update to p5-Class-Inspector-1.31.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 09:35:35

Modified files:
	devel/p5-Config-AutoConf: Makefile distinfo 

Log message:
Update to p5-Config-AutoConf-0.314.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 09:36:11

Added files:
	devel/libopensync/patches: patch-opensync_opensync_error_c 

Log message:
...complete build with clang, grab fix from libopensync-0.39 (not my place
to update, and MASTER_SITES is down at the moment, tarball peeked on
FreeBSD mirror cache...


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/06 09:42:50

Modified files:
	devel/tortoisehg: Makefile distinfo 

Log message:
Unbreak tortoisehg after the last mercurial update. Upstream has not
released a stable version yet.

Spotted by naddy@ and sthen@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 09:47:50

Log message:
    Import devel/p5-Test-Command-Simple.
    
    This test module is intended to simplify testing of external commands.
    It does so by running the command under IPC::Open3, closing the stdin
    immediately, and reading everything from the command's stdout and
    stderr. It then makes the output available to be tested.
    
    OK sthen@, giovanni@
    
    Status:
    
    Vendor Tag:	fcambus
    Release Tags:	fcambus_20170506
    
    N ports/devel/p5-Test-Command-Simple/Makefile
    N ports/devel/p5-Test-Command-Simple/distinfo
    N ports/devel/p5-Test-Command-Simple/pkg/PLIST
    N ports/devel/p5-Test-Command-Simple/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 09:49:37

Modified files:
	devel          : Makefile 

Log message:
Add p5-Test-Command-Simple.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 09:52:24

Log message:
    Import net/validns.
    
    Validns is a standalone command line RFC 1034/1035 zone file validation
    tool that, in addition to basic syntactic and semantic zone checks,
    includes DNSSEC signature verification and NSEC/NSEC3 chain validation,
    as well a number of optional policy checks on the zone.
    
    OK sthen@, giovanni@
    
    Status:
    
    Vendor Tag:	fcambus
    Release Tags:	fcambus_20170506
    
    N ports/net/validns/Makefile
    N ports/net/validns/distinfo
    N ports/net/validns/patches/patch-carp_c
    N ports/net/validns/patches/patch-Makefile
    N ports/net/validns/pkg/PLIST
    N ports/net/validns/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 09:55:06

Modified files:
	net            : Makefile 

Log message:
Add validns.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/06 09:55:15

Modified files:
	sys/netinet    : ip_ipip.c ip_ipsp.c ip_ipsp.h 

Log message:
Convert the xformsw definition to C99 style initializer.  Also fix
the function declaration of ipe4_input() and avoid a wrong cast.
OK mikeb@ dhill@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 10:18:36

Modified files:
	lib/libssl     : ssl_asn1.c ssl_packet.c ssl_versions.c 
	                 t1_hash.c 

Log message:
Add missing $OpenBSD$ tags.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/06 10:25:48

Modified files:
	sys/dev/fdt    : sdhc_fdt.c 

Log message:
Configure pins and deassert resets, just in case some other board needs it.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/06 10:29:19

Modified files:
	sys/dev/fdt    : rkclock.c rkclock_clocks.h 

Log message:
Add a few GMAC related clocks and implement reset logic.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/06 10:35:59

Modified files:
	sys/netinet    : tcp_input.c udp_usrreq.c 
	sys/netinet6   : raw_ip6.c 

Log message:
Checking for IPv4 mapped addreses and dropping the packet is done
in ip6_input().  Do not check that again in the protocol input
functions.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/06 10:36:56

Modified files:
	sys/dev/fdt    : rkclock.c 

Log message:
Remove unused local variable such that this actually compiles.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/06 10:45:34

Modified files:
	devel/tortoisehg: Makefile 
	devel/mercurial: Makefile 

Log message:
Comments.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 10:59:31

Modified files:
	graphics/dcmtk : Makefile 
Added files:
	graphics/dcmtk/patches: 
	                        patch-dcmdata_include_dcmtk_dcmdata_dchashdi_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_diargpxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dicmypxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dicocpt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dicoflt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dicorot_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dicosct_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dihsvpxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dipalpxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_dirgbpxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_diybrpxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_diyf2pxt_h 
	                        patch-dcmimage_include_dcmtk_dcmimage_diyp2pxt_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_diflipt_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_dimoflt_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_dimoipxt_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_dimorot_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_dimosct_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_dirotat_h 
	                        patch-dcmimgle_include_dcmtk_dcmimgle_discalet_h 
	                        patch-dcmwlm_libsrc_wlds_cc 
	                        patch-dcmwlm_libsrc_wlfsim_cc 
	                        patch-ofstd_include_dcmtk_ofstd_ofoset_h 
	                        patch-ofstd_tests_tstthred_cc 

Log message:
let it build with clang... a shitload of the same


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 11:02:58

Modified files:
	games/garden   : Makefile 

Log message:
assert gnu89 inlines


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 11:12:59

Modified files:
	lib/libcrypto/asn1: a_time_tm.c asn1.h 
	lib/libcrypto/man: ASN1_time_parse.3 

Log message:
Add ASN1_TIME_set_tm to set an asn1 from a struct tm *
ok jsing@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 11:15:20

Modified files:
	lang/squeak/vm : Makefile 
	lang/squeak/vm/patches: patch-platforms_unix_vm_sqUnixMain_c 
Added files:
	lang/squeak/vm/patches: 
	                        patch-platforms_Cross_plugins_Mpeg3Plugin_libmpeg_audio_layer3_c 
	                        patch-platforms_Cross_plugins_Mpeg3Plugin_libmpeg_video_getpicture_c 
	                        patch-platforms_Cross_plugins_Mpeg3Plugin_libmpeg_video_idct_c 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 11:16:40

Modified files:
	lib/libcrypto  : Symbols.list 

Log message:
Add ASN1_TIME_set_to to exported symbols
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 11:17:15

Modified files:
	lib/libcrypto  : shlib_version 
	lib/libssl     : shlib_version 
	lib/libtls     : shlib_version 

Log message:
Bump minors for symbol addition in libcrypto
ok jsing@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/06 11:23:10

Modified files:
	security/slurpie: Makefile 
	security/slurpie/patches: patch-src_master_c patch-src_mn_h 
	                          patch-src_node_c patch-src_slurp_c 
	                          patch-src_slurpie_c 
Added files:
	security/slurpie/patches: patch-src_shared_c 

Log message:
add missing headers and fix main() prototype to make this build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 11:23:35

Added files:
	inputmethods/uim/patches: patch-qt4_immodule_plugin_cpp 

Log message:
missing include, builds with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/06 11:38:49

Modified files:
	net/p5-Net-DNS : Makefile distinfo 
	net/p5-Net-DNS/pkg: PLIST 

Log message:
update p5-Net-DNS to 1.10


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/06 12:04:42

Modified files:
	devel/tortoisehg: Makefile distinfo 

Log message:
Update to tortoisehg 4.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/06 12:07:46

Modified files:
	lib/libcrypto/man: ASN1_time_parse.3 

Log message:
space needed between macro arg and punctuation;


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/06 12:18:11

Modified files:
	sys/kern       : kern_sysctl.c 

Log message:
Do not export the protocol PCB pointer from kernel to non-root users
also in the IPv6 case.  This fixes "netstat -An -f inet6 -p tcp"
and shows 0x0.
report and OK dhill@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/06 12:25:43

Modified files:
	sys/dev/fdt    : files.fdt rkpinctrl.c 
	sys/arch/arm64/conf: GENERIC RAMDISK 
Added files:
	sys/dev/fdt    : rkgpio.c 

Log message:
Add rkgpio(4), a driver to handle GPIOs on Rockchip SoCs.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/06 13:08:52

Modified files:
	www/kcaldav    : Makefile 
	www/kcaldav/pkg: README 

Log message:
add some hints on how to use kcaldav together with base httpd(8)

"looks good to me" sthen


CVSROOT:	/cvs
Module name:	ports
Changes by:	uaa@cvs.openbsd.org	2017/05/06 13:25:18

Modified files:
	emulators/qemu : Makefile 
	emulators/qemu/patches: patch-configure 

Log message:
fixed configure script to enable -curses option

ok sthen@ and brad@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 13:42:55

Modified files:
	graphics/opencv/patches: patch-modules_core_src_system_cpp 

Log message:
fixes clang, forgotten commit


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/05/06 13:44:53

Modified files:
	usr.sbin/relayd: relayd.c 

Log message:
Convert explicit_bzero() + free() to freezero().

OK reyk@, deraadt@ (previous version)


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/06 14:23:21

Modified files:
	productivity/gtg: Makefile 

Log message:
fix MASTER_SITES


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/06 14:24:45

Modified files:
	x11/xpad       : Makefile 

Log message:
two wrongs don't make a right; fix master_sites


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 14:34:16

src/regress/lib/libcrypto/hkdf

Update of /cvs/src/regress/lib/libcrypto/hkdf
In directory cvs.openbsd.org:/tmp/cvs-serv77211/hkdf

Log Message:
Directory /cvs/src/regress/lib/libcrypto/hkdf added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 14:34:52

src/lib/libcrypto/hkdf

Update of /cvs/src/lib/libcrypto/hkdf
In directory cvs.openbsd.org:/tmp/cvs-serv26782/hkdf

Log Message:
Directory /cvs/src/lib/libcrypto/hkdf added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 14:37:25

Modified files:
	lib/libssl     : Symbols.list s3_lib.c ssl.h ssl_lib.c 
	                 ssl_locl.h ssl_versions.c 

Log message:
Provide SSL{,_CTX}_set_{min,max}_proto_version() functions.

Rides minor bump.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 14:39:03

Modified files:
	regress/lib/libssl/unit: ssl_versions.c 

Log message:
Add regress coverage for SSL{,_CTX}_set_{min,max}_proto_version().


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 14:42:57

Modified files:
	regress/lib/libcrypto: Makefile 
	lib/libcrypto  : Makefile 
Added files:
	regress/lib/libcrypto/hkdf: Makefile hkdf_test.c 
	lib/libcrypto/hkdf: hkdf.c hkdf.h 

Log message:
Bring in HKDF, from BoringSSL, with regress tests modified to be
in C. Ride previous minor bump
ok tom@ inoguchi@ jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/06 14:49:59

Modified files:
	distrib/sets/lists/base: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 14:57:45

Modified files:
	lib/libtls     : Symbols.list tls.h tls_util.c 

Log message:
Provide a tls_unload_file() function, that frees the memory returned from
a tls_load_file() call, ensuring that it the contents become inaccessible.
This is specifically needed on platforms where the library allocators may
be different from the application allocator.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 14:59:28

Modified files:
	lib/libtls     : tls.c tls_config.c tls_internal.h tls_server.c 

Log message:
Perform reference counting for tls_config. This allows tls_config_free() to
be called as soon as it has been passed to the final tls_configure() call,
simplifying lifetime tracking for the application.

Requested some time ago by tedu@.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:06:19

Modified files:
	lib/libtls/man : tls_load_file.3 

Log message:
Document tls_unload_file().


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 15:16:37

Modified files:
	devel/p5-Config-General: Makefile distinfo 

Log message:
Update to p5-Config-General-2.63.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:18:48

Modified files:
	lib/libtls/man : tls_init.3 

Log message:
Be explicit about when it is safe to call tls_config_free().

Discussed with beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:21:00

Modified files:
	regress/lib/libcrypto/free: freenull.c 

Log message:
Not much point using a failed variable here.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:22:58

Modified files:
	regress/lib/libcrypto/free: freenull.c 

Log message:
Sort/group functions.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:23:57

Modified files:
	regress/lib/libcrypto/free: freenull.c 

Log message:
Add more functions.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:25:15

Modified files:
	lib/libtls     : tls_util.c 

Log message:
BIO_free_all() and EVP_PKEY_free() can be called with NULL.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:34:13

Modified files:
	lib/libtls     : tls_util.c 

Log message:
Use freezero() for the tls_load_file() failure case, since we're
potentially dealing with key material. Also switch a calloc to malloc,
since we immediately copy the same amount of data to the newly allocated
buffer.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/06 15:35:42

Modified files:
	x11/gnome/ghex : Makefile 

Log message:
fix build with clang (and any non-ancient gcc)


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 15:36:02

Modified files:
	devel/p5-Devel-Cover: Makefile distinfo 

Log message:
Update to p5-Devel-Cover-1.24.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/06 15:37:06

Modified files:
	x11/gnome/nautilus-sendto: Makefile 

Log message:
fix build with clang; based on an upstream commit that used #pragma GCC,
however our current gcc from base cannot cope with that so fallback to CFLAGS.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:50:40

Modified files:
	regress/lib/libtls/tls: tlstest.c 

Log message:
Free tls_configs earlier now that we have refcounting.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 15:56:43

Modified files:
	regress/lib/libtls/tls: Makefile tlstest.c 

Log message:
Move TLS test code into a function that is called from main, making it
easier for new tests to be added.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/06 15:57:27

Modified files:
	comms/minicom/patches: patch-man_minicom_1 patch-src_main_c 
	                       patch-src_script_c patch-src_sysdep1_c 
	                       patch-src_updown_c patch-src_windiv_c 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/06 16:00:53

Modified files:
	comms/minicom  : Makefile 
	comms/minicom/patches: patch-src_main_c 

Log message:
fix format string for 64-bit time_t, found by clang warning


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/06 16:16:46

Modified files:
	devel/p5-Devel-ebug: Makefile distinfo 

Log message:
Update to p5-Devel-ebug-0.59.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 16:24:58

Modified files:
	lib/libssl     : d1_clnt.c d1_srvr.c s3_lib.c ssl_both.c 
	                 ssl_clnt.c ssl_lib.c ssl_locl.h ssl_pkt.c 
	                 ssl_srvr.c t1_enc.c t1_lib.c 
	regress/lib/libssl/unit: tls_prf.c 

Log message:
Bring in an SSL_HANDSHAKE structure and commence the great shovelling
ok jsing@, gcc@, regress@


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/06 16:29:12

Modified files:
	.              : errata61.html 

Log message:
release pf src tracking errata.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/06 16:37:44

Modified files:
	lib/libc/sys   : kill.2 

Log message:
Move info about group handling via a negative pid into the list
with the other pid-specific details.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/06 16:46:19

Modified files:
	sys/net        : Tag: OPENBSD_6_1 pf.c 

Log message:
Put back the call to pf_remove_src_node lost in the netlock backout

Reported by Remi Barbier, thanks!  OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 16:46:58

Modified files:
	regress/lib/libtls/tls: tlstest.c 

Log message:
Split TLS client/server handshake and close code into separate functions
so that it can be reused.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/06 19:05:10

Modified files:
	editors/tpad   : Makefile 
Added files:
	editors/tpad/patches: patch-src_tpad_open_guard_c 
	                      patch-src_tpad_print_c 
	                      patch-src_tpad_print_h 

Log message:
Drop nonsensical inlines (also matches upstream) for clang.
Fix a glaring misunderstanding how array parameters work in C, while here.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 19:56:24

Modified files:
	regress/lib/libtls/tls: tlstest.c 

Log message:
An an initial sequencing/ordering test for libtls.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 19:58:29

Modified files:
	regress/lib/libtls/tls: tlstest.c 

Log message:
Add a test that calls tls_handshake() on a connection that has already
completed a TLS handshake. This should return a failure, but currently
succeeds (hence the regress currently fails).


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 19:59:34

Modified files:
	lib/libtls     : tls.c 

Log message:
Return an error if tls_handshake() is called on a TLS context that has
already completed a TLS handshake.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/06 20:16:45

Added files:
	multimedia/kguitar/patches: patch-kguitar_convertgp3_cpp 
	                            patch-kguitar_convertgtp_cpp 

Log message:
missing includes, fixes clang


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 21:22:15

Modified files:
	regress/lib/libtls/tls: tlstest.c 

Log message:
Also test calling tls_handshake() on a server connection context that has
already completed a TLS handshake.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 21:25:26

Modified files:
	regress/lib/libtls/tls: tlstest.c 

Log message:
Add a (currently failing) call to tls_handshake() on a client context that
has not yet been connected. We expect this to fail, but it should fail
gracefully.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 21:27:06

Modified files:
	lib/libtls     : tls_client.c tls_internal.h 

Log message:
Ensure that a client context has been connected before attempting to
complete a TLS handshake.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/06 22:18:47

Modified files:
	usr.bin/openssl: Makefile 
	usr.sbin/ocspcheck: Makefile 

Log message:
Limit -Werror to gcc4 as was done in libcrypto/libssl/libtls to avoid
failed builds with different compilers.

ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/06 22:22:24

Modified files:
	lib/libssl     : d1_both.c d1_clnt.c d1_pkt.c d1_srvr.c s3_lib.c 
	                 ssl.h ssl_both.c ssl_clnt.c ssl_err.c ssl_lib.c 
	                 ssl_locl.h ssl_pkt.c ssl_srvr.c ssl_stat.c 
	                 t1_lib.c 

Log message:
Move state from ssl->internal to the handshake structure.
while we are at it, convert SSLerror to use a function
internally, so that we may later allocate the handshake
structure and check for it
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/06 23:03:41

Modified files:
	lib/libssl     : bs_cbb.c 

Log message:
Instead of starting a 'zero-sized' CBB at the size of the first addition
to the CBB, then doubling, start with an initial size of 64 bytes. Almost
all uses will exceed this size and we avoid multiple small recallocarray()
calls during the initial usage.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/06 23:23:36

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/07 01:31:14

Modified files:
	www/larbin     : Makefile 
	www/larbin/patches: patch-src_global_cc patch-src_larbin_make 
Added files:
	www/larbin/patches: patch-src_utils_histogram_cc 

Log message:
- unbreak with clang (mostly from freebsd)
- use SUBST_CMD while here


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/07 01:55:17

Modified files:
	etc            : netstart 

Log message:
Replace hardcoded script name with ${0##*/}

OK tb@ halex@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/07 02:43:28

Modified files:
	emulators/qemu : Makefile 

Log message:
- Remove --enable-curses as the probe is run anyway
- Add ncursesw to WANTLIB

from Brad (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/07 03:09:51

Modified files:
	devel/tig      : Makefile distinfo 

Log message:
Update tig to 2.2.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/07 03:40:15

Modified files:
	etc            : netstart 

Log message:
Change test from [] to [[]] and simplify pattern.

OK tb@, krw@ (for [[]])
Feedback and OK halex@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/07 04:40:17

Modified files:
	usr.sbin/installboot: Makefile armv7_installboot.c 

Log message:
Add arm64 support.

ok tom@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/07 05:07:48

Modified files:
	sys/arch/arm64/stand/efiboot: conf.c efiboot.c fdt.c fdt.h 

Log message:
Pass the address of the EFI system table and the EFI memory map through
properties in the /chosen node of the FDT.  The properties match the ones
used by Linux (see Documentation/arm/uefi.txt in the Linux kernel source
tree) but with the "linux," prefix replaced by "openbsd,".

ok jmatthew@, tom@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/07 05:25:58

Modified files:
	sys/arch/armv7/stand/efiboot: fdt.c fdt.h 

Log message:
Sync FDT code with arm64.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/07 06:00:12

Modified files:
	distrib/arm64/miniroot: Makefile 
	distrib/arm64/ramdisk: install.md 

Log message:
Increase the offset from the start of the disk to the FAT filesystem
from sector 2048/1MB to sector 8192/4MB.

This gives enough space for a combined U-Boot and ATF FIT image for the
Firefly-RK3399.

Requested by and ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/07 06:09:46

Modified files:
	sys/dev/fdt    : if_dwge_fdt.c 

Log message:
Refactor this code to support the GMAC found on the Rockchip RK3399 alongside
the GMAC found on the Allwinner A20/A31.

With this diff I can receive packets on the Firefly-RK3399.  Unfortunately
sending packets doesn't seem to work yet.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 06:49:54

Modified files:
	graphics/DevIL : Makefile 
	graphics/DevIL/patches: patch-m4_devil-definitions_m4 
Added files:
	graphics/DevIL/patches: patch-configure_ac patch-include_IL_il_h 
	                        patch-lib_Makefile_in 

Log message:
turns out clang is more picky about C vs C++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 07:38:36

Added files:
	graphics/argyll/patches: patch-icc_icc_h 

Log message:
simple fix for clang. took me a while to figure out "thanks to" jam.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/07 08:11:45

Modified files:
	sys/dev/ic     : dwc_gmac.c 

Log message:
Program hardware address in dwc_gmac_init() instead of dwc_gmac_attach()
such that "ifconfig dwge0 lladdr 00:11:22:33:44:55" actually works.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 08:29:06

ports/graphics/liblqr/patches

Update of /cvs/ports/graphics/liblqr/patches
In directory cvs.openbsd.org:/tmp/cvs-serv28509/patches

Log Message:
Directory /cvs/ports/graphics/liblqr/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 08:29:35

Added files:
	graphics/liblqr/patches: patch-lqr_lqr_energy_c 

Log message:
fix package on clang, gnu89 inlines are a time-bomb.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 08:38:02

Added files:
	games/taxipilot/patches: patch-taxipilot_movingobject_cpp 

Log message:
C++ and temporaries, fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 08:40:40

Added files:
	games/falconseye/patches: patch-win_jtp_winjtp_c 

Log message:
missing return value, clang fixed


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 08:50:14

Modified files:
	infrastructure/lib/DPB: PortBuilder.pm 
	infrastructure/lib/DPB/Job: Port.pm 
	infrastructure/man/man1: dpb.1 

Log message:
make NO_CHECKSUM an option, as it causes too many problems on shared
dist farms.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/07 09:19:32

Modified files:
	lib/libc/compat-43: killpg.c 

Log message:
Don't allow a negative process group ID, it would turn into a
process ID when negated.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/07 10:45:12

Modified files:
	games/puzzles  : Makefile distinfo 
	games/puzzles/patches: patch-Makefile_gtk patch-gtk_c 

Log message:
Update to a newer git snapshot, fix urls while here


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 10:50:22

Modified files:
	infrastructure/lib/DPB: Distfile.pm Fetch.pm 

Log message:
filter any distfile name thru a normalize function, so that comparisons
are more accurate and we can get normal unix filesystem semantics.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 10:57:32

src/regress/usr.bin/mandoc/roff/ta

Update of /cvs/src/regress/usr.bin/mandoc/roff/ta
In directory cvs.openbsd.org:/tmp/cvs-serv49969/ta

Log Message:
Directory /cvs/src/regress/usr.bin/mandoc/roff/ta added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 11:17:44

Added files:
	games/zaz/patches: patch-src_mixer_cpp patch-src_mixer_h 

Log message:
compile with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 11:30:58

Modified files:
	usr.bin/mandoc : Makefile man_term.c mdoc_man.c mdoc_term.c 
	                 roff.c roff.h roff_html.c roff_term.c 
	                 roff_validate.c term.c term.h term_ascii.c 
	regress/usr.bin/mandoc/roff: Makefile 
Added files:
	usr.bin/mandoc : term_tab.c 
	regress/usr.bin/mandoc/roff/ta: Makefile basic-man.in 
	                                basic-man.out_ascii 
	                                basic-mdoc.in 
	                                basic-mdoc.out_ascii 

Log message:
Basic implementation of the roff(7) .ta (define tab stops) request.
This is the first feature made possible by the parser reorganization.
Improves the formatting of the SYNOPSIS in many Xenocara GL manuals.
Also important for ports, as reported by many, including naddy@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 11:46:24

Modified files:
	games/wanderer : Makefile 
	games/wanderer/patches: patch-edit_c patch-m_c 
Added files:
	games/wanderer/patches: patch-display_c patch-game_c 
	                        patch-monsters_c patch-read_c 
	                        patch-scores_c patch-wand_head_h 

Log message:
let it build with clang, fix quite a few oddities while there


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/07 11:53:30

Modified files:
	sys/sys        : mbuf.h 

Log message:
Backout previous as it's causing problems on architectures that align
64 bit integers on an 8 byte boundary such as armv7. MHLEN calculation
doesn't account for padding bytes inserted by the compiler after m_hdr.

Found the hard way by kettenis@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 12:01:21

Added files:
	mail/elm/patches: patch-src_calendar_c patch-src_edit_c 

Log message:
fix clang build (return values)


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/07 12:18:20

Modified files:
	sys/net        : fq_codel.c 

Log message:
Fix stage transition from the initial one to DROPPING

When the initial state is set to DROPPING, the code immediately
jumps to a CONTROL state bypassing DROPPING. To fix this we start
with an explicit INITIAL state so that we do an INITIAL->DROPPING
transition right off the bat in the beginning of the loop and
then perform a DROPPING->CONTROL and either CONTROL->DROPPING and
restart the loop or CONTROL->RECOVERY/ACCEPTING and terminate.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/07 12:27:17

Modified files:
	print/ptouch-driver: Makefile 

Log message:
uses gnu89-inlines; fixes build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/07 12:36:32

Modified files:
	www/cgicc      : Makefile distinfo 
	www/cgicc/pkg  : PLIST 

Log message:
update to cgicc-3.2.16 (which also works clang)


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 13:28:55

Modified files:
	databases/gnats: Makefile 

Log message:
Drop USE_GROFF now that mandoc(1) supports .ta.
Issue first reported by brad@ in 2011.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/07 13:46:08

Modified files:
	faq            : faq5.html 

Log message:
add a . to the diff command.

from matthew martin


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 14:00:26

Modified files:
	math/openfst   : Makefile 
Added files:
	math/openfst/patches: patch-src_include_fst_accumulator_h 
	                      patch-src_include_fst_arc-map_h 
	                      patch-src_include_fst_config_h_in 
	                      patch-src_include_fst_determinize_h 
	                      patch-src_include_fst_encode_h 
	                      patch-src_include_fst_epsnormalize_h 
	                      patch-src_include_fst_equivalent_h 
	                      patch-src_include_fst_factor-weight_h 
	                      patch-src_include_fst_label-reachable_h 
	                      patch-src_include_fst_relabel_h 
	                      patch-src_include_fst_replace-util_h 
	                      patch-src_include_fst_replace_h 
	                      patch-src_include_fst_rmepsilon_h 
	                      patch-src_include_fst_rmfinalepsilon_h 
	                      patch-src_include_fst_script_compile-impl_h 
	                      patch-src_include_fst_sparse-tuple-weight_h 
	                      patch-src_include_fst_state-map_h 
	                      patch-src_include_fst_symbol-table-ops_h 
	                      patch-src_include_fst_synchronize_h 
	                      patch-src_include_fst_test-properties_h 
	                      patch-src_include_fst_util_h 

Log message:
let it build with clang, mostly try => standard, plus some configure bugs
and hackery


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 14:24:01

Added files:
	graphics/gracula/patches: patch-Makefile patch-gcl_c 

Log message:
fix build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 14:25:32

Modified files:
	net/iplog      : Makefile 

Log message:
mandoc supports .ta now, so drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/07 14:33:42

Modified files:
	emulators/qemu : Makefile 

Log message:
readd --enable-curses, it causes configure to exit out if curses isn't
detected, so we shouldn't run into it silently breaking again in future.
ok Brad


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 14:35:07

Added files:
	graphics/ipe/patches: patch-src_ipe6upgrade_ipe6upgrade_cpp 
	                      patch-src_ipeextract_ipeextract_cpp 
	                      patch-src_ipelib_ipebase_cpp 
	                      patch-src_ipelib_ipelatex_cpp 
	                      patch-src_ipelib_ipepdfparser_cpp 
	                      patch-src_ipetoipe_ipetoipe_cpp 

Log message:
missing includes, fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 14:42:40

Modified files:
	news/aub       : Makefile 

Log message:
mandoc supports .ta now, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 14:43:46

Modified files:
	devel/lam      : Makefile 

Log message:
mandoc supports .ta now, drop USE_GROFF and bump; ok todd@ naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 14:48:29

Modified files:
	devel/ptlib/patches: patch-src_ptlib_unix_osutil_cxx 
Added files:
	devel/ptlib/patches: patch-plugins_vidinput_bsd_vidinput_bsd_cxx 
	                     patch-plugins_vidinput_v4l2_vidinput_v4l2_cxx 
	                     patch-src_ptlib_common_osutils_cxx 
	                     patch-src_ptlib_common_sockets_cxx 
	                     patch-src_ptlib_unix_assert_cxx 
	                     patch-src_ptlib_unix_channel_cxx 
	                     patch-src_ptlib_unix_remconn_cxx 
	                     patch-src_ptlib_unix_serchan_cxx 
	                     patch-src_ptlib_unix_socket_cxx 
	                     patch-src_ptlib_unix_svcproc_cxx 
	                     patch-src_ptlib_unix_tlib_cxx 
	                     patch-src_ptlib_unix_tlibthrd_cxx 

Log message:
make it build with clang, mostly misses unistd.h everywhere


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/07 14:50:20

Modified files:
	x11/byzi       : Makefile distinfo 
	x11/byzi/pkg   : PLIST 

Log message:
Update to 0.2.
Stop treating loadable lib as linkable lib.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/07 15:05:05

Modified files:
	lib/libssl     : s3_lib.c 

Log message:
Drop cipher suites with DSS authentication - there is no good reason to
keep these around.

ok beck@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/07 15:07:00

Modified files:
	regress/lib/libssl/client: clienttest.c 

Log message:
Revise cipher suites in regress to match DSS cipher suite removal.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/07 15:17:00

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
further improvement to vmm fpu handling (support avx and avx2, block
avx512 and various xsave* instructions)

tested by many


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/07 15:19:29

Modified files:
	lib/libc/compat-43: killpg.3 

Log message:
killpg() is covered by XSI so add a STANDARDS section to that effect
and document that handling of process group 0 is not specified by
the standard.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/07 15:25:59

Modified files:
	usr.bin/tmux   : input-keys.c key-bindings.c server-client.c 
	                 tmux.h tty-keys.c xterm-keys.c 

Log message:
Up to now, tmux sees \033\033[OA as M-Up and since we turned on
xterm-keys by default, generates \033[1;3A instead of
\033\033[OA. Unfortunately this confuses vi, which doesn't understand
xterm keys and now sees Escape+Up pressed within escape-time as Escape
followed by A.

The issue doesn't happen in xterm itself because it gets the keys from X
and can distinguish between a genuine M-Up and Escape+Up.

Because xterm can, tmux can too: xterm will give us \033[1;3A (that is,
kUP3) for a real M-Up and \033\033OA for Escape+Up - in fact, we can be
sure any \033 preceding an xterm key is a real Escape key press because
Meta would be part of the xterm key instead of a separate \033.

So change tmux to recognise both sequences as M-Up for its own purposes,
but generate the xterm version of M-Up only if it originally received
the xterm version from the terminal.

This means we will return to sending \033\033OA instead of the xterm key
for terminals that do not support xterm keys themselves, but there is no
practical way around this because they do not allow us to distinguish
between Escape+Up and M-Up. xterm style escape sequences are now the de
facto standard for these keys in any case.

Problem reported by jsing@ and subsequently by Cecile Tonglet in GitHub
issue 907.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 15:34:53

Added files:
	graphics/qimageblitz/patches: patch-blitz_CMakeLists_txt 

Log message:
obey CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/07 15:41:51

Modified files:
	textproc/glimpse: Makefile 
	textproc/glimpse/patches: patch-index_region_c 
Added files:
	textproc/glimpse/patches: patch-compress_main_tbuild_c 
	                          patch-compress_misc_c 
	                          patch-get_filename_c patch-get_index_c 
	                          patch-index_build_in_c 
	                          patch-index_io_c 

Log message:
Fix clang build, mostly function protoypes.
Freshen HOMEPAGE and MASTER SITES.

ok espie@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 15:44:33

Modified files:
	usr.bin/mandoc : man_term.c 
	share/man/man7 : man.7 

Log message:
implement .DT in terms of .ta; needed for print/ghostview, for example


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/07 15:44:43

Modified files:
	x11/tktable    : Makefile 
	x11/tktable/patches: patch-configure 
	x11/tktable/pkg: PLIST 

Log message:
Stop treating loadable lib as linkable lib.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 16:10:12

Added files:
	graphics/makehuman/patches: patch-src_Animation_cpp 
	                            patch-src_ConsoleListener_h 
	                            patch-src_util_cpp 

Log message:
correct C++, agrees with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 16:15:50

Modified files:
	textproc/lgrind/patches: patch-lgutil_c 

Log message:
fix return for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/07 16:27:57

Modified files:
	usr.bin/tmux   : format.c tmux.1 tmux.h window-choose.c 
	                 window-clock.c window-copy.c 

Log message:
Add a format for the name of the pane's mode, lets it be used as a
conditional for key bindings.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/07 16:31:54

Modified files:
	faq            : faq1.html 
	.              : mail.html 

Log message:
mention that security advisories will be sent to the announce@ list.


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/07 17:12:57

Modified files:
	usr.bin/ssh    : sshd_config.5 sshd.8 ssh_config.5 ssh_config 
	                 packet.c cipher.c cipher.h 

Log message:
As promised in last release announcement: remove support for
Blowfish, RC4 and CAST ciphers. ok markus@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/07 17:13:42

Modified files:
	usr.bin/ssh    : myproposal.h 

Log message:
Don't offer CBC ciphers by default in the client. ok markus@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/07 17:15:59

Modified files:
	usr.bin/ssh    : ssh-keygen.c ssh-rsa.c ssh.h ssherr.c ssherr.h 
	                 sshkey.c sshkey.h 

Log message:
Refuse RSA keys <1024 bits in length. Improve reporting for keys that
do not meet this requirement. ok markus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 17:57:16

Modified files:
	misc/rocrail   : Makefile 
Added files:
	misc/rocrail/patches: patch-analyser_impl_analyse_c 
	                      patch-analyser_makefile 
	                      patch-rocdigs_impl_dcc232_c 
	                      patch-rocdigs_impl_ddx_nmra_c 
	                      patch-rocdigs_impl_loconet_c 
	                      patch-rocdigs_impl_loconet_lnmaster_c 
	                      patch-rocdigs_impl_nmra_nmra_c 
	                      patch-rocdigs_impl_opendcc_c 
	                      patch-rocdigs_impl_p50x_c 
	                      patch-rocdigs_impl_xpressnet_opendcc_c 
	                      patch-rocdigs_makefile 
	                      patch-rocint_makefile 
	                      patch-roclcdr_impl_tools_schedules_c 
	                      patch-roclcdr_makefile 
	                      patch-rocrail_impl_action_c 
	                      patch-rocrail_impl_display_c 
	                      patch-rocrail_impl_hclient_c 
	                      patch-rocrail_impl_modplan_c 
	                      patch-rocrail_impl_snmp_c 
	                      patch-rocrail_impl_srcpcon_c 
	                      patch-rocrail_makefile 
	                      patch-rocs_gen_mdoc_c 
	                      patch-rocs_gen_ogen_c 
	                      patch-rocs_gen_wgen_c 
	                      patch-rocs_impl_mem_c 
	                      patch-rocs_impl_str_c 
	                      patch-rocs_impl_unx_umutex_c 
	                      patch-rocs_impl_unx_uthread_c 
	                      patch-rocs_makefile 
	                      patch-rocs_public_rocs_h 
	                      patch-rocutils_makefile 
	                      patch-rocview_makefile 
	                      patch-unxgen_rocs_public_serial_h 

Log message:
make it build with clang, clean up a shitload of warnings and errors,
make it obey CFLAGS, extract the embedded source so we can patch it.


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/07 18:13:38

Modified files:
	sys/arch/amd64/amd64: db_trace.c 
	sys/arch/amd64/conf: Makefile.amd64 

Log message:
add printing of arguments in stack traces.

this relies on building the kernel with -msave-args, which has
functions save their register arguments on the stack, so ddb can
easily find them and print them.

while here try to print arguments out of registers if we're at the
top of the stack (ie, if we set a breakpoint on a function entry).

-msave-args is only added to the compiler flags if the kernel has
been configured with ddb. this means it wont waste the space on
RAMDISK kernels because they don't include ddb.

inspired by similar functionality that has been in use on solaris
and its derivatives for well over a decade.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/07 18:21:36

Modified files:
	usr.bin/ssh    : packet.c 

Log message:
I was too aggressive with the scalpel in the last commit;
unbreak sshd, spotted quickly by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/07 18:27:45

Modified files:
	sys/arch/alpha/include: bus.h 
	sys/arch/amd64/include: bus.h 
	sys/arch/arm/include: bus.h 
	sys/arch/arm64/include: bus.h 
	sys/arch/hppa/include: bus.h 
	sys/arch/i386/include: bus.h 
	sys/arch/landisk/include: bus.h 
	sys/arch/loongson/include: bus.h 
	sys/arch/macppc/include: bus.h 
	sys/arch/octeon/include: bus.h 
	sys/arch/sgi/include: bus.h 
	sys/arch/socppc/include: bus.h 
	sys/arch/sparc64/include: bus.h 

Log message:
add a BUS_DMA_64BIT flag to bus_dma on all our archs.

this is so drivers can advertise that they can handle 64 dma addresses
to the platform. it may choose to handle dmamaps differently based
on this flag.

tweaks and ok tom@
ok kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 19:02:03

ports/graphics/lsys/patches

Update of /cvs/ports/graphics/lsys/patches
In directory cvs.openbsd.org:/tmp/cvs-serv26948/patches

Log Message:
Directory /cvs/ports/graphics/lsys/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 19:02:16

Added files:
	graphics/lsys/patches: patch-config_h_in patch-main_cpp 
	                       patch-util_h 

Log message:
trivial fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/07 19:13:07

Added files:
	x11/kdirstat/patches: patch-kdirstat_kstdcleanup_h 

Log message:
trivial fix for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/07 19:52:49

Modified files:
	regress/usr.bin/ssh: dhgex.sh putty-ciphers.sh ssh-com.sh 

Log message:
remove arcfour, blowfish and CAST here too


CVSROOT:	/cvs
Module name:	src
Changes by:	guenther@cvs.openbsd.org	2017/05/07 20:34:01

Modified files:
	libexec/ld.so  : dlfcn.c malloc.c resolve.h 

Log message:
Always use the same callback to unlock as was used to lock.  Permits
libpthread initialization from a shared object's init (or fini, I suppose)
routines.

ok kurt@ kettenis@ espie@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/07 21:55:09

Modified files:
	share/man/man7 : roff.7 

Log message:
Convert REQUEST REFERENCE from using .Ss to .Bl -tag, allowing to
specify request arguments and supporting tag searching in less(1).
Improve some entries and document .ta.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/07 22:16:05

Modified files:
	lib/libcrypto/man: BUF_MEM_new.3 

Log message:
BUF_MEM_grow_clean() returns an int, not a size_t. Humourously, on success
it returns "len", which is a size_t value, as an int...


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/08 00:03:39

Modified files:
	usr.bin/ssh    : packet.c 

Log message:
helps if I commit the correct version of the file. fix missing
return statement.


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/08 00:08:42

Modified files:
	regress/usr.bin/ssh/unittests/sshkey: test_sshkey.c 

Log message:
fix for new SSH_ERR_KEY_LENGTH error value


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/08 00:11:06

Modified files:
	usr.bin/ssh    : sshkey.c 

Log message:
make requesting bad ECDSA bits yield the same error (SSH_ERR_KEY_LENGTH)
as the same mistake for RSA/DSA


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/08 02:46:39

Modified files:
	sys/net        : if_var.h 
	sys/netinet6   : in6.c ip6_input.c ip6_mroute.c ip6_mroute.h 
	                 ip6_output.c ip6_var.h raw_ip6.c 

Log message:
Added initial IPv6 multicast routing support for multiple rdomains:

* don't share mifs (multicast interface) between rdomains
* allow multiple routing sockets connected at the same time if they are
in different rdomains.

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/08 02:57:56

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Fix issues with iwm(4) firmware's retry rate table:

For a HT node, ni_txrate is always zero. We should be using ni_txmcs instead.
Simplify the if-else logic to make sure of that.

The mimo delimiter in the link quality command was never set.
I don't know how important this is. But Linux sets it, so why not.

Hardcode the lowest rate at the tail of the retry table.
While debugging the old code I have encountered retry tables filled
with only 'MCS 8' which is obviously not ideal.

While here, fix a misspelled function prototype.

Tested by kettenis@, mpi@, and Stefan Wollny
ok mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	patrick@cvs.openbsd.org	2017/05/08 03:04:54

Modified files:
	devel/arm-none-eabi/gcc-linaro: Makefile distinfo 
	devel/arm-none-eabi/gcc-linaro/patches: patch-Makefile_in 
	                                        patch-gcc_Makefile_in 
	                                        patch-gcc_config_arm_unknown-elf_h 
	                                        patch-gcc_config_host 
	                                        patch-libgcc_Makefile_in 
	                                        patch-libiberty_Makefile_in 
	devel/arm-none-eabi/gcc-linaro/pkg: PFRAG.aarch64 PFRAG.arm 
Added files:
	devel/arm-none-eabi/gcc-linaro/patches: patch-gcc_configure 
Removed files:
	devel/arm-none-eabi/gcc-linaro/patches: 
	                                        patch-gcc_config_aarch64_geniterators_sh 
	                                        patch-gcc_gcc_c 

Log message:
Update to gcc-linaro-6.3-2017.02 so that we can continue to build
newer U-Boots whose SPL object files get too big to link.  U-Boot
will require gcc 6.0 or later for ARM starting with v2018.01.

ok jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	reyk@cvs.openbsd.org	2017/05/08 03:08:40

Modified files:
	usr.sbin/vmd   : Makefile i8253.c i8253.h i8259.c i8259.h 
	                 mc146818.c mc146818.h ns8250.c ns8250.h 
	                 virtio.c virtio.h 
Added files:
	usr.sbin/vmd   : atomicio.c atomicio.h 

Log message:
Adds functions to read and write state of devices in vmd.

This is required for implementing vmctl send and vmctl receive.  vmctl
send / receive are two new options that will support snapshotting VMs
and migrating VMs from one host to another. The atomicio files are
copied from usr.bin/ssh.

Patch from Pratik Vyas; this project was undertaken at San Jose State
University along with his three teammates, Ashwin, Harshada and Siri
with mlarkin@ as the advisor.

OK mlarkin@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/08 03:11:20

Modified files:
	sys/nfs        : nfs_socket.c 

Log message:
Sync nfs_connect() w/ sys_connect().

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/08 03:31:34

Modified files:
	usr.bin/netstat: mroute6.c 

Log message:
Make netstat(8) always ask for IPv6 multicast routing information. Worst
case is that we get an empty response instead of a message saying that
there is no multicast support.

ok mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/08 03:32:19

Modified files:
	sys/uvm        : uvm_glue.c 

Log message:
Unifed PMAP_UAREA, unused since we stopped supporting ARM < v7.

ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 03:45:14

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Only test the mirror if it's remote (and not a local directory).


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 03:46:52

Modified files:
	print/enscript : Makefile 
	print/ghostview: Makefile 
	print/transfig : Makefile 

Log message:
mandoc(1) now supports .ta and .DT, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 03:55:26

Modified files:
	productivity/siag: Makefile 

Log message:
mandoc(1) now supports .ta, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 04:00:44

Modified files:
	security/pgp   : Makefile 

Log message:
mandoc(1) now supports .ta, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 04:10:32

Modified files:
	x11/xcb        : Makefile 

Log message:
mandoc(1) now supports .ta, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 04:42:18

Modified files:
	devel/libbio   : Makefile 
	devel/libregexp9: Makefile 
	devel/libutf   : Makefile 
	devel/mk       : Makefile 
	devel/sfio     : Makefile 

Log message:
mandoc(1) now supports .ta, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:46:14

Modified files:
	multimedia/gstreamer1: Makefile.inc 

Log message:
Bump to 1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:46:25

Modified files:
	multimedia/gstreamer1/core: Makefile distinfo 
	multimedia/gstreamer1/core/pkg: PLIST 

Log message:
Update to gstreamer1-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:46:39

Modified files:
	multimedia/gstreamer1/plugins-base: Makefile distinfo 
	multimedia/gstreamer1/plugins-base/patches: patch-configure_ac 
	                                            patch-gst_tcp_gstmultihandlesink_c 
	multimedia/gstreamer1/plugins-base/pkg: PLIST 

Log message:
Update to gstreamer1-plugins-base-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:46:53

Modified files:
	multimedia/gstreamer1/plugins-good: Makefile distinfo 
	multimedia/gstreamer1/plugins-good/pkg: PLIST-main PLIST-pulse 

Log message:
Update to gstreamer1-plugins-good-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:47:11

Modified files:
	multimedia/gstreamer1/plugins-bad: Makefile distinfo 
	multimedia/gstreamer1/plugins-bad/patches: patch-configure_ac 
	multimedia/gstreamer1/plugins-bad/pkg: PLIST 
Removed files:
	multimedia/gstreamer1/plugins-bad/patches: 
	                                           patch-ext_apexsink_gstapexraop_c 

Log message:
Update to gstreamer1-plugins-bad-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:47:24

Modified files:
	multimedia/gstreamer1/plugins-ugly: Makefile distinfo 
	multimedia/gstreamer1/plugins-ugly/pkg: PLIST 

Log message:
Update to gstreamer1-plugins-ugly-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:47:35

Modified files:
	multimedia/gstreamer1/plugins-libav: distinfo 

Log message:
Update to gstreamer1-plugins-libav-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:47:46

Modified files:
	multimedia/gstreamer1/py-gstreamer: distinfo 

Log message:
Update to py3-gstreamer1-1.12.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 04:48:04

Modified files:
	multimedia/gstreamer1/mm: Makefile 
Added files:
	multimedia/gstreamer1/mm/patches: 
	                                  patch-gstreamer_gstreamermm_audioclock_cc 
	                                  patch-gstreamer_gstreamermm_caps_cc 
	                                  patch-gstreamer_gstreamermm_caps_h 

Log message:
Fix build with gstreamer1 >=1.12


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/08 05:14:33

Modified files:
	sys/sys        : ctf.h 

Log message:
Use C99 types and add a couple of missing macros needed for ctfconvert(1).


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/08 05:30:53

Modified files:
	sys/net        : hfsc.c 

Log message:
Add a compatibility shim for older pfctl binaries

Found by and input from dlg@, OK sthen, tedu, henning


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 05:50:01

ports/productivity/fet/patches

Update of /cvs/ports/productivity/fet/patches
In directory cvs.openbsd.org:/tmp/cvs-serv3095/patches

Log Message:
Directory /cvs/ports/productivity/fet/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 05:50:27

Added files:
	productivity/fet/patches: patch-src_engine_generate_cpp 
	                          patch-src_interface_constraintstudentsactivitytagmaxhourscontinuouslyform_h 
	                          patch-src_interface_constraintstudentsactivitytagmaxhoursdailyform_h 
	                          patch-src_interface_timetablegenerateform_cpp 
	                          patch-src_interface_timetablegeneratemultipleform_cpp 

Log message:
fixes for clang, don't collide with std::mutex, fix include guards


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 05:56:50

Added files:
	productivity/qhacc/patches: patch-plugins_graphs_grapher_cpp 

Log message:
trivial fix for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 06:06:47

Added files:
	productivity/entomologist/patches: 
	                                   patch-qtsingleapplication_qtlocalpeer_cpp 

Log message:
missing include, fixes clang


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/08 06:27:59

Modified files:
	sys/dev/ic     : r92creg.h 

Log message:
Fix R92C_TXDW4_RTSRATE_M and R92C_TDECTRL_BLK_DESC_NUM_M definitions.

Same changes as FreeBSD r311948 and r287584.
Patch submitted by Kevin Lo. Tested by me.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/08 06:28:39

Modified files:
	sys/dev/usb    : if_urtwn.c 

Log message:
For 8188EU chips, read the R92C_HSSI_PARAM2(0) register to detect whether
the driver needs to enable the CCK high power feature, as already done for
other chips supported by urtwn(4).

Same change as FreeBSD r311347.
Patch submitted by Kevin Lo. Tested by me.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/08 06:41:23

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
In iwm(4) avoid locking the NIC redundantly and perform accounting of
locking and unlocking. Make sure we don't unlock 7000 family NICs while
a command is being processed (later NICs apparently don't need this).

Inspired by similar approaches in Linux and Dragonfly, and a patch given
to me by Imre Vadasz.
Tested by me on 7265 and 8260 devices, and on a 7260 device by Stefan Wollny.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 06:53:28

Modified files:
	games/falconseye: Makefile 
	games/nethack  : Makefile 
	games/slash    : Makefile 
	games/slash-em : Makefile 
	games/sudoku   : Makefile 

Log message:
mandoc(1) now supports .ta, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/08 07:07:40

Modified files:
	sys/dev/pci    : if_iwmvar.h 

Log message:
Unbreak the tree. I missed a header file change in my last iwm(4) commit.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 07:19:10

Modified files:
	shells/es      : Makefile 

Log message:
mandoc(1) now supports .ta, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 07:31:58

Modified files:
	math/netcdf    : Makefile 
Added files:
	math/netcdf/patches: patch-ncgen_ncgen_1 

Log message:
USE_GROFF no longer needed.  While here, add missing escaping
in the ncgen(1) manual that caused loss of a text line.


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/08 07:51:10

Modified files:
	sys/netinet6   : icmp6.c ip6_output.c 

Log message:
Remove icmp6_reflect() micro optimization to simplify code and avoid a
M_LOOP flag dance in ip6_output().

ok bluhm@, mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/08 08:27:28

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
In iwm_send_cmd(), look at the generation counter instead of the STOPPED flag
to determine whether the interface was reset while we were sleeping. The flag
will be set if the interface is still down when the task wakes up, but the
interface could already be up again in which case the flag will be cleared.

ok mpi@ kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/08 08:45:47

Modified files:
	lib/libc/gen   : basename.3 dirname.3 

Log message:
Update STANDARDS section, these are now in XSI BASE.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 08:51:52

src/regress/usr.bin/mandoc/roff/ti

Update of /cvs/src/regress/usr.bin/mandoc/roff/ti
In directory cvs.openbsd.org:/tmp/cvs-serv13114/ti

Log Message:
Directory /cvs/src/regress/usr.bin/mandoc/roff/ti added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/08 08:53:27

Modified files:
	lib/libc/gen   : glob.c 

Log message:
Fix exponential CPU use with repeated '*' operators by changing '*'
handling to be interative instead of recursive.
Fix by Yves Orton, ported to OpenBSD glob.c by Ray Lai.  OK tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 09:33:43

Modified files:
	share/man/man7 : roff.7 
	usr.bin/mandoc : mdoc_man.c roff.c roff.h roff_html.c 
	                 roff_term.c roff_validate.c term.h term_ascii.c 
	                 term_ps.c 
	regress/usr.bin/mandoc/roff: Makefile 
Added files:
	regress/usr.bin/mandoc/roff/ti: Makefile basic-man.in 
	                                basic-man.out_ascii 
	                                basic-mdoc.in 
	                                basic-mdoc.out_ascii 

Log message:
Basic implementation of the roff(7) .ti (temporary indent) request.
Needed by about four dozen ports (thanks to naddy@ for the research).


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/08 09:40:05

Modified files:
	x11/ede/lib    : Makefile 
Added files:
	x11/ede/lib/patches: patch-edelib_ts_scheme-private_h 

Log message:
add missing non-inline declarations for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 09:44:56

Modified files:
	databases/gdbm : Makefile 

Log message:
mandoc now supports .ta and .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/08 09:47:49

Modified files:
	sys/kern       : uipc_mbuf.c 

Log message:
add a compile time assertion MSIZE == sizeof(struct mbuf)
ok kettenis mpi tom


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 10:14:32

Modified files:
	x11/qt5/qtbase/patches: patch-configure 
Added files:
	x11/qt5/qtbase/patches: patch-mkspecs_openbsd-clang_qmake_conf 
	                        patch-mkspecs_openbsd-clang_qplatformdefs_h 

Log message:
add glue to detect clang, and basic configuration


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/08 10:14:47

Modified files:
	sys/netinet6   : icmp6.c 

Log message:
Fix a possible NULL pointer deference on icmp6 echo reply caught by
clang.

with tweak from and ok bluhm@


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/08 10:15:34

Modified files:
	.              : errata60.html errata61.html 

Log message:
release libssl errata.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 10:17:22

Added files:
	astro/stellarium/patches: 
	                          patch-plugins_TelescopeControl_src_servers_Socket_hpp 

Log message:
missing include on OpenBSD, fd_set not defined


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 10:36:17

Modified files:
	devel/autogen  : Makefile 

Log message:
mandoc(1) now supports .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 10:57:08

Modified files:
	devel/glib2    : Makefile distinfo 
	devel/glib2/patches: patch-gio_kqueue_gkqueuefilemonitor_c 
	                     patch-gio_kqueue_kqueue-helper_c 
	devel/glib2/pkg: PLIST 

Log message:
Update to glib2-2.52.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 11:01:18

Modified files:
	productivity   : Makefile 
Removed files:
	productivity/tryton: DESCR-module Makefile Makefile.inc 
	productivity/tryton/account: Makefile distinfo 
	productivity/tryton/account/pkg: PLIST 
	productivity/tryton/account_asset: Makefile distinfo 
	productivity/tryton/account_asset/pkg: PLIST 
	productivity/tryton/account_be: Makefile distinfo 
	productivity/tryton/account_be/pkg: PLIST 
	productivity/tryton/account_credit_limit: Makefile distinfo 
	productivity/tryton/account_credit_limit/pkg: PLIST 
	productivity/tryton/account_de_skr03: Makefile distinfo 
	productivity/tryton/account_de_skr03/pkg: PLIST 
	productivity/tryton/account_dunning: Makefile distinfo 
	productivity/tryton/account_dunning/pkg: PLIST 
	productivity/tryton/account_dunning_letter: Makefile distinfo 
	productivity/tryton/account_dunning_letter/pkg: PLIST 
	productivity/tryton/account_fr: Makefile distinfo 
	productivity/tryton/account_fr/pkg: PLIST 
	productivity/tryton/account_invoice: Makefile distinfo 
	productivity/tryton/account_invoice/pkg: PLIST 
	productivity/tryton/account_invoice_history: Makefile distinfo 
	productivity/tryton/account_invoice_history/pkg: PLIST 
	productivity/tryton/account_invoice_line_standalone: Makefile 
	                                                     distinfo 
	productivity/tryton/account_invoice_line_standalone/pkg: PLIST 
	productivity/tryton/account_invoice_stock: Makefile distinfo 
	productivity/tryton/account_invoice_stock/pkg: PLIST 
	productivity/tryton/account_payment: Makefile distinfo 
	productivity/tryton/account_payment/pkg: PLIST 
	productivity/tryton/account_payment_sepa: Makefile distinfo 
	productivity/tryton/account_payment_sepa/pkg: PLIST 
	productivity/tryton/account_product: Makefile distinfo 
	productivity/tryton/account_product/pkg: PLIST 
	productivity/tryton/account_statement: Makefile distinfo 
	productivity/tryton/account_statement/pkg: PLIST 
	productivity/tryton/account_stock_anglo_saxon: Makefile distinfo 
	productivity/tryton/account_stock_anglo_saxon/pkg: PLIST 
	productivity/tryton/account_stock_continental: Makefile distinfo 
	productivity/tryton/account_stock_continental/pkg: PLIST 
	productivity/tryton/analytic_account: Makefile distinfo 
	productivity/tryton/analytic_account/pkg: PLIST 
	productivity/tryton/analytic_invoice: Makefile distinfo 
	productivity/tryton/analytic_invoice/pkg: PLIST 
	productivity/tryton/analytic_purchase: Makefile distinfo 
	productivity/tryton/analytic_purchase/pkg: PLIST 
	productivity/tryton/analytic_sale: Makefile distinfo 
	productivity/tryton/analytic_sale/pkg: PLIST 
	productivity/tryton/bank: Makefile distinfo 
	productivity/tryton/bank/pkg: PLIST 
	productivity/tryton/calendar: Makefile distinfo 
	productivity/tryton/calendar/pkg: PLIST 
	productivity/tryton/calendar_classification: Makefile distinfo 
	productivity/tryton/calendar_classification/pkg: PLIST 
	productivity/tryton/calendar_scheduling: Makefile distinfo 
	productivity/tryton/calendar_scheduling/pkg: PLIST 
	productivity/tryton/calendar_todo: Makefile distinfo 
	productivity/tryton/calendar_todo/pkg: PLIST 
	productivity/tryton/carrier: Makefile distinfo 
	productivity/tryton/carrier/pkg: PLIST 
	productivity/tryton/carrier_percentage: Makefile distinfo 
	productivity/tryton/carrier_percentage/pkg: PLIST 
	productivity/tryton/carrier_weight: Makefile distinfo 
	productivity/tryton/carrier_weight/pkg: PLIST 
	productivity/tryton/company: Makefile distinfo 
	productivity/tryton/company/pkg: PLIST 
	productivity/tryton/company_work_time: Makefile distinfo 
	productivity/tryton/company_work_time/pkg: PLIST 
	productivity/tryton/country: Makefile distinfo 
	productivity/tryton/country/pkg: PLIST 
	productivity/tryton/currency: Makefile distinfo 
	productivity/tryton/currency/pkg: PLIST 
	productivity/tryton/dashboard: Makefile distinfo 
	productivity/tryton/dashboard/pkg: PLIST 
	productivity/tryton/google_maps: Makefile distinfo 
	productivity/tryton/google_maps/pkg: PLIST 
	productivity/tryton/ldap_authentication: Makefile distinfo 
	productivity/tryton/ldap_authentication/pkg: PLIST 
	productivity/tryton/ldap_connection: Makefile distinfo 
	productivity/tryton/ldap_connection/pkg: PLIST 
	productivity/tryton/party: Makefile distinfo 
	productivity/tryton/party/pkg: PLIST 
	productivity/tryton/party_relationship: Makefile distinfo 
	productivity/tryton/party_relationship/pkg: PLIST 
	productivity/tryton/party_siret: Makefile distinfo 
	productivity/tryton/party_siret/pkg: PLIST 
	productivity/tryton/party_vcarddav: Makefile distinfo 
	productivity/tryton/party_vcarddav/pkg: PLIST 
	productivity/tryton/product: Makefile distinfo 
	productivity/tryton/product/pkg: PLIST 
	productivity/tryton/product_attribute: Makefile distinfo 
	productivity/tryton/product_attribute/pkg: PLIST 
	productivity/tryton/product_cost_fifo: Makefile distinfo 
	productivity/tryton/product_cost_fifo/pkg: PLIST 
	productivity/tryton/product_cost_history: Makefile distinfo 
	productivity/tryton/product_cost_history/pkg: PLIST 
	productivity/tryton/product_measurements: Makefile distinfo 
	productivity/tryton/product_measurements/pkg: PLIST 
	productivity/tryton/product_price_list: Makefile distinfo 
	productivity/tryton/product_price_list/pkg: PLIST 
	productivity/tryton/production: Makefile distinfo 
	productivity/tryton/production/pkg: PLIST 
	productivity/tryton/project: Makefile distinfo 
	productivity/tryton/project/pkg: PLIST 
	productivity/tryton/project_invoice: Makefile distinfo 
	productivity/tryton/project_invoice/pkg: PLIST 
	productivity/tryton/project_plan: Makefile distinfo 
	productivity/tryton/project_plan/pkg: PLIST 
	productivity/tryton/project_revenue: Makefile distinfo 
	productivity/tryton/project_revenue/pkg: PLIST 
	productivity/tryton/proteus: Makefile distinfo 
	productivity/tryton/proteus/pkg: DESCR PLIST 
	productivity/tryton/purchase: Makefile distinfo 
	productivity/tryton/purchase/pkg: PLIST 
	productivity/tryton/purchase_invoice_line_standalone: Makefile 
	                                                      distinfo 
	productivity/tryton/purchase_invoice_line_standalone/pkg: PLIST 
	productivity/tryton/purchase_shipment_cost: Makefile distinfo 
	productivity/tryton/purchase_shipment_cost/pkg: PLIST 
	productivity/tryton/sale: Makefile distinfo 
	productivity/tryton/sale/pkg: PLIST 
	productivity/tryton/sale_credit_limit: Makefile distinfo 
	productivity/tryton/sale_credit_limit/pkg: PLIST 
	productivity/tryton/sale_invoice_grouping: Makefile distinfo 
	productivity/tryton/sale_invoice_grouping/pkg: PLIST 
	productivity/tryton/sale_opportunity: Makefile distinfo 
	productivity/tryton/sale_opportunity/pkg: PLIST 
	productivity/tryton/sale_price_list: Makefile distinfo 
	productivity/tryton/sale_price_list/pkg: PLIST 
	productivity/tryton/sale_shipment_cost: Makefile distinfo 
	productivity/tryton/sale_shipment_cost/pkg: PLIST 
	productivity/tryton/sale_shipment_grouping: Makefile distinfo 
	productivity/tryton/sale_shipment_grouping/pkg: PLIST 
	productivity/tryton/sale_supply: Makefile distinfo 
	productivity/tryton/sale_supply/pkg: PLIST 
	productivity/tryton/sale_supply_drop_shipment: Makefile distinfo 
	productivity/tryton/sale_supply_drop_shipment/pkg: PLIST 
	productivity/tryton/stock: Makefile distinfo 
	productivity/tryton/stock/pkg: PLIST 
	productivity/tryton/stock_forecast: Makefile distinfo 
	productivity/tryton/stock_forecast/pkg: PLIST 
	productivity/tryton/stock_inventory_location: Makefile distinfo 
	productivity/tryton/stock_inventory_location/pkg: PLIST 
	productivity/tryton/stock_location_sequence: Makefile distinfo 
	productivity/tryton/stock_location_sequence/pkg: PLIST 
	productivity/tryton/stock_lot: Makefile distinfo 
	productivity/tryton/stock_lot/pkg: PLIST 
	productivity/tryton/stock_package: Makefile distinfo 
	productivity/tryton/stock_package/pkg: PLIST 
	productivity/tryton/stock_product_location: Makefile distinfo 
	productivity/tryton/stock_product_location/pkg: PLIST 
	productivity/tryton/stock_split: Makefile distinfo 
	productivity/tryton/stock_split/pkg: PLIST 
	productivity/tryton/stock_supply: Makefile distinfo 
	productivity/tryton/stock_supply/pkg: PLIST 
	productivity/tryton/stock_supply_day: Makefile distinfo 
	productivity/tryton/stock_supply_day/pkg: PLIST 
	productivity/tryton/stock_supply_forecast: Makefile distinfo 
	productivity/tryton/stock_supply_forecast/pkg: PLIST 
	productivity/tryton/stock_supply_production: Makefile distinfo 
	productivity/tryton/stock_supply_production/pkg: PLIST 
	productivity/tryton/timesheet: Makefile distinfo 
	productivity/tryton/timesheet/pkg: PLIST 
	productivity/tryton/timesheet_cost: Makefile distinfo 
	productivity/tryton/timesheet_cost/pkg: PLIST 
	productivity/tryton/tryton: Makefile distinfo 
	productivity/tryton/tryton/pkg: DESCR PLIST 
	productivity/tryton/trytond: Makefile distinfo 
	productivity/tryton/trytond/patches: patch-etc_trytond_conf 
	productivity/tryton/trytond/pkg: DESCR PLIST README trytond.rc 

Log message:
Delete tryton; the version we have in ports is not really maintained. I started
to work on an diff to update everything to the latest release just to realise
that there wasn't a point in doing this it's essentially a matter of
ftp+tar xzf. Not worth maintaining 100+ packages.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 11:01:41

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
Register tryton and trytond removal.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 11:17:50

Modified files:
	x11/gnome/desktop: Makefile distinfo 

Log message:
Update to gnome-desktop-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 11:19:21

Modified files:
	meta/gnome     : Makefile 

Log message:
Welcome GNOME 3.24.2!


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 11:25:41

Modified files:
	math/yorick    : Makefile 

Log message:
mandoc(1) now supports .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 11:41:49

Modified files:
	misc/viz       : Makefile 

Log message:
mandoc(1) now supports .ta and .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/08 11:52:46

Modified files:
	devel/jdk/1.8  : Makefile 

Log message:
no longer hangs. make sure your ld.so is uptodate!!!


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 12:01:02

Modified files:
	databases/evolution-data-server: Makefile distinfo 
Removed files:
	databases/evolution-data-server/patches: patch-CMakeLists_txt 
	                                         patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Update to evolution-data-server-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 12:01:16

Modified files:
	mail/evolution : Makefile distinfo 
Removed files:
	mail/evolution/patches: 
	                        patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Update to evolution-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 12:01:29

Modified files:
	mail/evolution-ews: Makefile distinfo 
Removed files:
	mail/evolution-ews/patches: 
	                            patch-cmake_modules_SetupBuildFlags_cmake 

Log message:
Update to evolution-ews-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 12:10:25

Modified files:
	net/arpwatch   : Makefile 
	net/libnet/1.0 : Makefile 
	net/packit     : Makefile 
	net/sing       : Makefile 
	net/tcpreplay  : Makefile 
	net/tcpshow    : Makefile 
	net/tcpslice   : Makefile 

Log message:
mandoc(1) now supports .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	src
Changes by:	mestre@cvs.openbsd.org	2017/05/08 12:19:02

Modified files:
	sys/dev/ic     : rtwn.c 

Log message:
8192C is the only MIMO chip supported by this driver, all others are 1T1R.
This diff corrects dmesg to properly show that all others are 1T1R, since right
now it only applies to 8188C and all others incorrectly display 0T0R.

hint & OK stsp@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/08 12:46:03

Modified files:
	devel/libsoup  : Makefile distinfo 
	devel/libsoup/pkg: PLIST 

Log message:
Update to libsoup-2.58.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 12:46:38

Modified files:
	news/tin       : Makefile 
	x11/dclock     : Makefile 

Log message:
mandoc(1) now supports .ta and .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 12:49:59

Modified files:
	print/bibview  : Makefile 
	print/l2a      : Makefile 
	security/libident: Makefile 
	x11/xprompt    : Makefile 

Log message:
mandoc(1) now supports .ti, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/08 12:54:01

Modified files:
	x11/gnome/gjs  : Makefile distinfo 

Log message:
update to gjs-1.48.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/08 13:17:22

Modified files:
	sysutils/beats/filebeat: Makefile distinfo 
	sysutils/beats/filebeat/pkg: PLIST 
	sysutils/beats/heartbeat: Makefile distinfo 
	sysutils/beats/heartbeat/pkg: PLIST 
	sysutils/beats/metricbeat: Makefile distinfo 
	sysutils/beats/metricbeat/pkg: PLIST 
	sysutils/beats/packetbeat: Makefile distinfo 
	sysutils/beats/packetbeat/pkg: PLIST 
Removed files:
	sysutils/beats/filebeat/patches: 
	                                 patch-libbeat_outputs_console_console_go 

Log message:
update to beats-5.4.0

https://www.elastic.co/guide/en/beats/libbeat/5.4/release-notes-5.4.0.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/08 13:20:58

Modified files:
	textproc/elasticsearch: Makefile distinfo 
	textproc/elasticsearch/pkg: PLIST 

Log message:
update to elasticsearch-5.4.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/08 13:41:11

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to p5-SVG-2.75


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/08 13:42:24

Modified files:
	net/pork       : Makefile 
Added files:
	net/pork/patches: patch-src_pork_h patch-src_pork_queue_c 

Log message:
The author did not understand the semantics of "inline" at all.
Define it away.  Fixes the build with clang.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/08 14:04:06

Modified files:
	.              : ftp.html httpslist 
	build          : mirrors.dat 
	openbgpd       : ftp.html 
	openntpd       : portable.html 
	openssh        : ftp.html portable.html 

Log message:
https for openbsd.c3sl.ufpr.br


CVSROOT:	/cvs
Module name:	src
Changes by:	patrick@cvs.openbsd.org	2017/05/08 14:13:10

Modified files:
	sys/arch/i386/stand/libsa: pxe_net.c 

Log message:
Guard debug printf with NETIF_DEBUG ifdef like the other debug prints.

ok tom@


CVSROOT:	/cvs
Module name:	src
Changes by:	patrick@cvs.openbsd.org	2017/05/08 14:13:46

Modified files:
	sys/lib/libsa  : nfs.c 

Log message:
Guard debug printf with NFS_DEBUG ifdef like the other debug prints.

ok tom@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/05/08 14:13:47

Modified files:
	games/blobwars : Makefile distinfo 
	games/blobwars/patches: patch-makefile patch-src_init_cpp 
	                        patch-src_main_cpp patch-src_map_cpp 
	games/blobwars/pkg: PLIST 
Added files:
	games/blobwars/patches: patch-Makefile 

Log message:
Update to blobwars-2.00.

ok rsadowski@


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/08 14:15:34

Modified files:
	usr.sbin/ocspcheck: ocspcheck.c 

Log message:
Print size_t's correctly.
Fix from Jonas 'Sortie' Termansen <sortie@maxsi.org>


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/05/08 14:16:24

Removed files:
	games/blobwars/patches: patch-makefile 

Log message:
Grr. rm patches/patch-makefile.


CVSROOT:	/cvs
Module name:	src
Changes by:	patrick@cvs.openbsd.org	2017/05/08 14:24:03

Modified files:
	sys/net        : pf_table.c 

Log message:
Replace the global variables pfr_{sin,sin6} with stack local variables
so that we can run these parts of pf in parallel.  Also replace a
single usage of pfr_mask with a stack local variable.

ok mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 14:33:40

Modified files:
	usr.bin/mandoc : man.c roff.c 

Log message:
Line-breaking roff(7) requests also break man(7) next-line scope.
Considering that real roff implements next-line scope using input
line traps, that isn't all that surprising.
Issue found in the games/xbattle port.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 14:37:06

Modified files:
	games/xbattle  : Makefile 

Log message:
Only minor whitespace differences between groff and mandoc caused
by invalid man(7) syntax, so drop USE_GROFF.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/08 14:45:23

Modified files:
	sysutils/beats : Makefile.inc 

Log message:
add plumbing for installing modules; not actually used yet


CVSROOT:	/cvs
Module name:	src
Changes by:	bru@cvs.openbsd.org	2017/05/08 14:55:29

Modified files:
	sys/dev/pckbc  : pms.c 
	sys/dev/usb    : ubcmtp.c 
	sys/dev/wscons : wsconsio.h wsmouse.c wsmouseinput.h wstpad.c 

Log message:
improved coordinate filters

ok mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/05/08 14:58:40

Modified files:
	gnu/gcc/gcc    : opts.c opts.h toplev.c 

Log message:
gcc 4.9 makes unknown -Wno-* vanish.

Reimplement that from scratch in our ancient gcc, because it's really
useful for porting newer code and dealing with compiler variations.
(slightly tweaked to reset location to unknown location after the okays)

okay kettenis@ jasper@

found out https://gcc.gnu.org/bugzilla/show_bug.cgi?id=28322
after the patch, which explains a similar reasoning better, and leads
to another patch for older GCC, possibly GPLv3.


CVSROOT:	/cvs
Module name:	src
Changes by:	beck@cvs.openbsd.org	2017/05/08 15:12:36

Modified files:
	usr.bin/openssl: ca.c 

Log message:
simplify startdate/enddate validation
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/08 15:13:26

Modified files:
	sys/netinet6   : mld6.c 

Log message:
Fix a compilation error on arm64 that was caught by clang.

Found by kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/08 15:17:09

Modified files:
	sys/arch/amd64/amd64: db_trace.c 

Log message:
After a break point at the beginning of a function, printing its
arguments faulted in ddb.  Accessing the register arguments was off
by one and in wrong order.
OK dlg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 15:35:35

Modified files:
	net/ap-utils   : Makefile 

Log message:
These manuals are written in such a messy style that they actually
look a bit better with mandoc than with groff (but no tool will
make them look nice).  Drop USE_GROFF.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/08 15:40:10

Modified files:
	net/pchar      : Makefile 
Added files:
	net/pchar/patches: patch-PctestIpv4File_cc patch-PctestIpv4_h 
	                   patch-PctestIpv6File_cc patch-PctestIpv6_h 
	                   patch-Pctest_h patch-ResultTable_cc 
	                   patch-TestRecord_cc patch-configure 
	                   patch-main_cc 

Log message:
fix a number of warnings and errors for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 16:03:53

Modified files:
	textproc/lgrind: Makefile 

Log message:
no relevant difference in formatting, drop USE_GROFF


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/08 16:23:35

Modified files:
	x11/xscreensaver: Makefile 

Log message:
No relevant formatting differences, mandoc even looks better in a
number of respects, so drop USE_GROFF.


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/08 16:57:38

Modified files:
	usr.bin/ssh    : digest-libc.c digest-openssl.c digest.h mac.c 

Log message:
remove hmac-ripemd160; ok dtucker


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/08 19:26:34

Modified files:
	build          : mirrors.dat 

Log message:
re-add UH line mistakenly removed in the previous commit.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/05/08 22:11:18

Modified files:
	sysutils/u-boot: Makefile distinfo 
	sysutils/u-boot/pkg: PFRAG.aarch64 PFRAG.arm 
Added files:
	sysutils/u-boot/patches: patch-lib_bch_c 
Removed files:
	sysutils/u-boot/patches: patch-tools_Makefile 

Log message:
update to U-Boot 2017.05

Tested on CuBox-i4Pro, BeagleBone Black, PandaBoard ES and
Raspberry Pi 3 Model B.


CVSROOT:	/cvs
Module name:	ports
Changes by:	patrick@cvs.openbsd.org	2017/05/08 23:58:36

Modified files:
	devel/arm-none-eabi/gcc-linaro/patches: patch-gcc_configure 

Log message:
Fixup and remove duplicate addition of a patch.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 00:07:07

Modified files:
	cad/xtrkcad    : Makefile distinfo 
	cad/xtrkcad/patches: patch-app_bin_CMakeLists_txt 
	cad/xtrkcad/pkg: PLIST 

Log message:
Simple update to 4.3.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 00:09:42

Modified files:
	devel/py-voluptuous: Makefile distinfo 

Log message:
simple update to 0.10.5, fixing some unicode translations


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 00:12:09

Modified files:
	www/py-urllib3 : Makefile distinfo 
	www/py-urllib3/pkg: PLIST 

Log message:
Update to 1.21.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 00:18:13

Modified files:
	cad/xtrkcad    : Makefile 
Added files:
	cad/xtrkcad/patches: patch-app_lib_CMakeLists_txt 

Log message:
Add patch file missed in last commit


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 00:21:30

Modified files:
	cad/xtrkcad    : Makefile 

Log message:
Fixup Makefile, Need more coffee


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:11:56

Modified files:
	devel/xdg-utils: Makefile distinfo 
	devel/xdg-utils/patches: patch-scripts_xdg-email_in 
	                         patch-scripts_xdg-mime_in 
	                         patch-scripts_xdg-open_in 
	                         patch-scripts_xdg-screensaver_in 
	                         patch-scripts_xdg-utils-common_in 

Log message:
Update to xdg-utils-1.1.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:18:13

Modified files:
	devel/appstream-glib: Makefile distinfo 
	devel/appstream-glib/pkg: PLIST 

Log message:
Update to appstream-glib-0.6.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:29:42

Modified files:
	x11/gnome/maps : Makefile distinfo 

Log message:
Update to gnome-maps-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:33:33

Modified files:
	mail/cyrus-imapd: Makefile distinfo 
	mail/cyrus-imapd/patches: patch-configure 
Added files:
	mail/cyrus-imapd/patches: patch-imap_mbexamine_c 
Removed files:
	mail/cyrus-imapd/patches: patch-imap_mailbox_c 
	                          patch-imap_sync_client_c 

Log message:
Update to cyrus-imapd-2.5.11.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:36:52

Modified files:
	x11/gnome/at-spi2-core: Makefile distinfo 

Log message:
Update to at-spi2-core-2.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:37:02

Modified files:
	x11/gnome/at-spi2-atk: Makefile distinfo 

Log message:
Update to at-spi2-atk-2.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 01:46:05

Modified files:
	databases/p5-DBIx-SearchBuilder: Makefile distinfo 

Log message:
Update to p5-DBIx-SearchBuilder-1.67.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:47:49

Modified files:
	x11/gnome/user-docs: Makefile distinfo 
	x11/gnome/user-docs/pkg: PLIST 

Log message:
Update to gnome-user-docs-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 01:49:35

Modified files:
	x11/gnome/music: Makefile distinfo 

Log message:
Update to gnome-music-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:00:58

Modified files:
	devel/p5-DateTime-Format-Pg: Makefile distinfo 

Log message:
Update to p5-DateTime-Format-Pg-0.16013.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:07:01

Modified files:
	devel/p5-DateTime-Set: Makefile distinfo 

Log message:
Update to p5-DateTime-Set-0.3900.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:12:45

Modified files:
	devel/p5-File-HomeDir: Makefile distinfo 

Log message:
Update to p5-File-HomeDir-1.002.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:16:32

Modified files:
	devel/p5-File-pushd: Makefile distinfo 

Log message:
Update to p5-File-pushd-1.014.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:22:00

Modified files:
	devel/p5-IPC-Run: Makefile distinfo 

Log message:
Update to p5-IPC-Run-0.95.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:29:07

Modified files:
	devel/p5-Log-Dispatch-FileRotate: Makefile distinfo 

Log message:
Update to p5-Log-Dispatch-FileRotate-1.25.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 02:35:56

Modified files:
	x11/gnome/builder: Makefile distinfo 
	x11/gnome/builder/pkg: PLIST 

Log message:
Update to gnome-builder-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 02:41:24

Modified files:
	devel/p5-MooseX-AttributeHelpers: Makefile distinfo 

Log message:
Update to p5-MooseX-AttributeHelpers-0.25.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/09 03:19:03

Modified files:
	devel/p5-Path-Class: Makefile distinfo 

Log message:
Update to p5-Path-Class-0.37.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/09 03:31:07

Modified files:
	sys/net        : if.c 

Log message:
pfctlinput(PRC_IFDOWN, ...) has no effect on OpenBSD so remove it.

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/09 03:32:21

Modified files:
	sys/netinet6   : ip6_output.c nd6.c 

Log message:
Kill commented out code referencing pfctlinput2() and a wrong comment
about pfctlinput(PRC_HOSTDEAD).

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/09 03:36:04

Modified files:
	sys/uvm        : uvm_meter.c 

Log message:
Stop considering some sleeping threads are running.

PZERO used to be a special value in the first BSD releases but since
the introduction of tsleep(9) there's no way to tell if a thread is
going to sleep for a "short" period of time.

This remove the only (ab)use of ``p_priority'' outside the scheuler
logic, which will help moving avway from a priority-based scheduler.

ok visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/09 03:37:25

Modified files:
	sys/kern       : uipc_domain.c 

Log message:
Convert a splsoftnet()/splx() dance to NET_ASSERT_LOCKED().

pfctlinput() is only called in the input path with the NET_LOCK() held.

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/09 05:00:48

Modified files:
	usr.bin/tmux   : cmd-rotate-window.c 

Log message:
Set current pane in rotate-window.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/09 05:01:06

Modified files:
	sys/netinet    : tcp_subr.c 

Log message:
Convert diagnostic panic to compile time assert in tcp6_ctlinput().
No binary change.
OK mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	feinerer@cvs.openbsd.org	2017/05/09 05:08:22

Modified files:
	multimedia/libv4l: Makefile distinfo 

Log message:
Update to libv4l 1.12.4

No functional change as the update only contains changes in libdvbv5 which we
currently do not build on OpenBSD.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/09 05:09:38

Modified files:
	sys/ddb        : db_ctf.c 

Log message:
Use C99 types.


CVSROOT:	/cvs
Module name:	ports
Changes by:	juanfra@cvs.openbsd.org	2017/05/09 05:59:38

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
Add aarch64 to ALL_ARCHS. OK espie@.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 06:23:04

Modified files:
	usr.sbin/syspatch: syspatch.8 

Log message:
Document that patches are cumulative and as such it is not possible to install
only a subset of them.

with input from jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/09 07:01:42

Modified files:
	games/micropolis: Makefile 
	games/micropolis/patches: patch-Micropolis patch-src_sim_g_ani_c 
	                          patch-src_sim_g_bigmap_c 
	                          patch-src_sim_g_map_c 
	                          patch-src_sim_g_setup_c 
	                          patch-src_sim_headers_sim_h 
	                          patch-src_sim_makefile 
	                          patch-src_sim_s_alloc_c 
	                          patch-src_sim_s_disast_c 
	                          patch-src_sim_s_eval_c 
	                          patch-src_sim_s_fileio_c 
	                          patch-src_sim_s_gen_c 
	                          patch-src_sim_s_init_c 
	                          patch-src_sim_s_msg_c 
	                          patch-src_sim_s_power_c 
	                          patch-src_sim_s_scan_c 
	                          patch-src_sim_s_sim_c 
	                          patch-src_sim_s_traf_c 
	                          patch-src_sim_s_zone_c 
	                          patch-src_sim_sim_c 
	                          patch-src_sim_w_budget_c 
	                          patch-src_sim_w_con_c 
	                          patch-src_sim_w_date_c 
	                          patch-src_sim_w_editor_c 
	                          patch-src_sim_w_eval_c 
	                          patch-src_sim_w_graph_c 
	                          patch-src_sim_w_keys_c 
	                          patch-src_sim_w_map_c 
	                          patch-src_sim_w_resrc_c 
	                          patch-src_sim_w_sound_c 
	                          patch-src_sim_w_sprite_c 
	                          patch-src_sim_w_stubs_c 
	                          patch-src_sim_w_tk_c 
	                          patch-src_sim_w_tool_c 
	                          patch-src_sim_w_update_c 
	                          patch-src_sim_w_util_c 
	                          patch-src_sim_w_x_c 
	                          patch-src_tcl_makefile 
	                          patch-src_tcl_tclcmdmz_c 
	                          patch-src_tcl_tclenv_c 
	                          patch-src_tcl_tclglob_c 
	                          patch-src_tcl_tclparse_c 
	                          patch-src_tcl_tclunxaz_c 
	                          patch-src_tcl_tclutil_c 
	                          patch-src_tclx_config_linux 
	                          patch-src_tclx_config_mk 
	                          patch-src_tclx_src_tclxcclk_c 
	                          patch-src_tclx_src_tclxclck_c 
	                          patch-src_tclx_src_tclxfcmd_c 
	                          patch-src_tclx_src_tclxfsca_c 
	                          patch-src_tclx_src_tclxgdat_y 
	                          patch-src_tclx_src_tclxint_h 
	                          patch-src_tclx_src_tclxlib_c 
	                          patch-src_tclx_src_tclxproc_c 
	                          patch-src_tclx_src_tclxsig_c 
	                          patch-src_tclx_src_tclxstr_c 
	                          patch-src_tclx_src_tclxunix_c 
	                          patch-src_tclx_tkucbsrc_tkevent_sed 
	                          patch-src_tclx_ucbsrc_makefile 
	                          patch-src_tclx_ucbsrc_tclbasic_sed 
	                          patch-src_tclx_ucbsrc_tclexpr_sed 
	                          patch-src_tk_makefile 
	                          patch-src_tk_tkbitmap_c 
	                          patch-src_tk_tkbutton_c 
	                          patch-src_tk_tkcmds_c 
	                          patch-src_tk_tkconfig_c 
	                          patch-src_tk_tkcursor_c 
	                          patch-src_tk_tkerror_c 
	                          patch-src_tk_tkevent_c 
	                          patch-src_tk_tkfont_c 
	                          patch-src_tk_tkoption_c 
	                          patch-src_tk_tkpack_c 
	                          patch-src_tk_tkpixmap_c 
	                          patch-src_tk_tkrawtcp_c 
	                          patch-src_tk_tkselect_c 
	                          patch-src_tk_tksend_c 
	                          patch-src_tk_tkshare_c 
	                          patch-src_tk_tkwindow_c 
	                          patch-src_tk_tkwm_c 

Log message:
use modern idioms for subst, pass X11BASE on the command line.
regen all patches for newer headers.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/09 07:04:36

Modified files:
	usr.bin/tmux   : server-client.c tmux.h tty.c 

Log message:
If the current screen was complex enough, it was possible to make redraw
itself hit the "terminal can't keep up" check. To avoid this, record how
much data we send during redraw (we know we will be starting with 0) and
skip the check until it has been flushed. GitHub issue 912.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/09 07:33:50

Modified files:
	sys/netinet    : in_proto.c 
	sys/netinet6   : in6_proto.c 

Log message:
Remove rip_output() and rip6_output() from inetsw and inet6sw.  The
rip_output() function is never called via the pr_output pointer.
rip_usrreq(PRU_SEND) calls rip_output() directly.  raw_usrreq() is
never called from inetsw.  Situation in inet and inet6 is analog.
OK claudio@ mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	tsg@cvs.openbsd.org	2017/05/09 07:37:08

Modified files:
	infrastructure/lib/OpenBSD/PortGen/Port: CPAN.pm 

Log message:
Set CONFIGURE_STYLE = modbuild tiny for p5 ports using Module::Build::Tiny.
While at it, fix indentation.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 07:38:55

Modified files:
	devel/ruby-puppet_forge: Makefile distinfo 

Log message:
simple update to 2.2.4, loosen dependency to ruby-minitar


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/05/09 07:40:18

Modified files:
	app/cwm        : calmwm.h conf.c kbfunc.c mousefunc.c xevents.c 

Log message:
Alter callbacks to take a struct instead of a growing number of arguments;
greatly simplifies upcoming work.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 07:44:03

Modified files:
	devel/ruby-gettext-setup: Makefile distinfo 
	devel/ruby-gettext-setup/pkg: PLIST 

Log message:
Update to 0.24


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 07:45:59

Modified files:
	sysutils/ruby-r10k: Makefile distinfo 

Log message:
Bugfix update to 2.5.4, tighten dependency to ruby-minitar, as it
is in the gemspec


CVSROOT:	/cvs
Module name:	src
Changes by:	mestre@cvs.openbsd.org	2017/05/09 07:52:45

Modified files:
	lib/libkeynote : signature.c 

Log message:
Prevent memory leak on sbuf by freeing it unconditionally and ensure
finalbuf is also free'd if kn_encode_base64 somehow fails

hint from tb@, OK millert@ and tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/09 08:09:37

Modified files:
	usr.bin/mandoc : man_html.c man_term.c mdoc_html.c mdoc_term.c 

Log message:
Trailing \c suppresses the output line break even if
the next line is a text line starting with whitespace.
Quirk found in the sysutils/rancid port.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/09 08:18:28

Modified files:
	infrastructure/lib/DPB: Vars.pm 

Log message:
if I want to enforce rules on WRKDIST, I'd better respect them first


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/09 08:51:11

Modified files:
	graphics/pstoedit: Makefile 
	net/netpipes   : Makefile 
	x11/x11vnc     : Makefile 

Log message:
unimportant whitespace differences only, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/09 09:11:33

Modified files:
	sys/arch/octeon/conf: ld.script 
	sys/arch/octeon/octeon: locore.S 

Log message:
Mix bits from the built-in RNG with the randomdata section at boot time.
This should improve considerably the quality of early entropy and
stack protector guard data on octeon.

Suggested by and OK deraadt@
OK kettenis@, jasper@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/09 09:20:55

Modified files:
	sys/arch/loongson/dev: htb.c 

Log message:
Fix range check.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/09 09:29:10

Modified files:
	sys/arch/loongson/loongson: generic3a_machdep.c 

Log message:
Whitelist SMBus IO addresses to let the driver, piixpm(4), work again.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 09:42:10

Modified files:
	x11/gnome/getting-started-docs: Makefile distinfo 

Log message:
Update to gnome-getting-started-docs-3.24.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/09 11:08:34

Modified files:
	www/kibana     : Makefile distinfo 
	www/kibana/pkg : PLIST 

Log message:
update to kibana-5.4.0

from Pavel Korovin (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/09 11:19:30

Modified files:
	sysutils/consul: Makefile 

Log message:
set version.Version to ensure the newer version check doesn't fire errorneously

ok aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/09 11:25:50

Modified files:
	x11/gnome/settings-daemon: Makefile distinfo 
	x11/gnome/settings-daemon/patches: patch-configure_ac 

Log message:
Update to gnome-settings-daemon-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/09 11:31:14

Modified files:
	www/webkitgtk4 : Makefile 
	www/webkitgtk4/patches: patch-Source_cmake_OptionsCommon_cmake 

Log message:
replace fragile hack with more sturdy cmake magic. okay aja@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/09 11:56:55

Modified files:
	usr.bin/tmux   : cmd-send-keys.c 

Log message:
If the target pane for send-keys in in a mode with a key table (that is,
copy mode), then look the key up in the table and fire any command
instead of delivering the key to the pane directly where it will be
ignored. This makes C-b C-b (send-prefix) work in copy mode again.


CVSROOT:	/cvs
Module name:	www
Changes by:	brynet@cvs.openbsd.org	2017/05/09 12:13:00

Modified files:
	.              : want.html 

Log message:
Remove my request, thanks generously to Bill Allaire


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	okan@cvs.openbsd.org	2017/05/09 12:43:40

Modified files:
	app/cwm        : xevents.c 

Log message:
drop obsolete comment


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/09 14:09:48

Modified files:
	graphics/xanim : Makefile 
Added files:
	graphics/xanim/patches: patch-xa_g72x_c patch-xa_input_c 
	                        patch-xa_x11_c 

Log message:
fix mostly passing of bogus arguments to unused parameters; for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 14:49:15

Modified files:
	www/sope       : Makefile distinfo 

Log message:
simple update to 2.3.20


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 14:50:06

Modified files:
	www/sogo       : Makefile distinfo 
	www/sogo/patches: patch-UI_Scheduler_UIxCalListingActions_m 
	www/sogo/pkg   : PLIST 

Log message:
simple update to 2.3.20, mostly bux fixes, few new features/enhancements


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 14:58:53

Modified files:
	sysutils/ruby-puppet-syntax: Makefile distinfo 
	sysutils/ruby-puppet-syntax/pkg: PLIST 

Log message:
Simple update to 2.4.0


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/09 15:06:12

Modified files:
	faq            : current.html 

Log message:
users running amd64 -current from late april or earlier need to build a
compiler before attempting to build a kernel due to -msave-args.

prompted by naddy


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 15:06:43

Modified files:
	sysutils/mcollective: Makefile distinfo 

Log message:
Minor update to 2.10.3


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/09 15:09:27

Modified files:
	gnu/llvm/tools/clang/lib/Basic: Targets.cpp 
	gnu/llvm/tools/clang/lib/Driver: Tools.cpp 
	lib/libcompiler_rt: Makefile 

Log message:
Enable TLS support but default to the emulatated TLS model.  Enable the
runtime support code libcompiler_rt for this.  This code uses functions that
live in libpthread, so code that uses TLS support will need to be linked
with -lpthread.  This should allow more ports to build with base clang.

ok espie@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/09 15:11:18

Modified files:
	faq            : current.html 

Log message:
fix id attribute. thanks, naddy


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/09 15:11:45

Modified files:
	sys/arch/arm64/conf: GENERIC RAMDISK 

Log message:
Enable dwge(4).  If the network hardware is initialized by U-Boot, the
Gigabit Ethernet port on the FireFly-RK3399 actually works!


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/09 15:13:24

Modified files:
	sysutils/mcollective-plugins/puppet-agent: Makefile distinfo 

Log message:
simple update to 1.13.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	gsoares@cvs.openbsd.org	2017/05/09 16:22:36

Modified files:
	plan9/plan9port: Makefile distinfo 
	plan9/plan9port/patches: patch-bin_9c 

Log message:
update to latest github commit


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/09 18:45:55

Modified files:
	faq            : current.html 

Log message:
shorten the text a little and fix a validator warning


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:06:25

Modified files:
	devel/tcllib   : Makefile 

Log message:
New home for DISTFILES.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:06:38

Modified files:
	devel/tklib    : Makefile 

Log message:
New home for DISTFILES.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:08:52

Modified files:
	net/tclcurl    : Makefile 
	net/tclcurl/pkg: PLIST 
Added files:
	net/tclcurl/patches: patch-configure 

Log message:
Stop treating loadable lib as linkable lib.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:10:50

Modified files:
	databases/pgtcl: Makefile 
	databases/pgtcl/patches: patch-configure 
	databases/pgtcl/pkg: PLIST 

Log message:
Take maintainership. ok old maintainer, espie@

Stop treating loadable lib as linkable lib.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:20:34

Modified files:
	lang/tcl/8.6   : Makefile distinfo 
	lang/tcl/8.6/patches: patch-unix_Makefile_in 
	                      patch-unix_configure 
	lang/tcl/8.6/pkg: PLIST 

Log message:
Update to 8.6.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:21:05

Modified files:
	x11/tk/8.6     : Makefile distinfo 
	x11/tk/8.6/patches: patch-library_tk_tcl patch-unix_Makefile_in 
	x11/tk/8.6/pkg : PLIST 

Log message:
Update to 8.6.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:21:52

Modified files:
	devel/tclthread: Makefile distinfo 
	devel/tclthread/patches: patch-configure 
	devel/tclthread/pkg: PLIST 

Log message:
Update to 2.8.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:22:33

Modified files:
	databases/tdbc : Makefile distinfo 
	databases/tdbc/patches: patch-Makefile_in patch-pkgIndex_tcl_in 
	databases/tdbc/pkg: PLIST 
Added files:
	databases/tdbc/patches: patch-configure 
Removed files:
	databases/tdbc/patches: patch-configure_in 
	                        patch-tclconfig_tcl_m4 

Log message:
Update to 1.0.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/09 19:23:05

Modified files:
	databases/tdbc-sqlite3: Makefile distinfo 
Removed files:
	databases/tdbc-sqlite3/patches: patch-Makefile_in 

Log message:
Update to 1.0.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/09 20:20:22

Modified files:
	graphics/djview4: Makefile 
	graphics/djvulibre: Makefile 
	graphics/gmt   : Makefile 
	graphics/tgif  : Makefile 
	mail/asmail    : Makefile 

Log message:
unimportant formatting differences only, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 01:10:13

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.47.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 01:10:30

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.84.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 01:36:25

Modified files:
	x11/gnome/todo : Makefile distinfo 

Log message:
Update to gnome-todo-3.24.1.


CVSROOT:	/cvs
Module name:	www
Changes by:	benoit@cvs.openbsd.org	2017/05/10 01:51:26

Modified files:
	.              : want.html 

Log message:
I need a laptop for ports development.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 02:05:04

Modified files:
	devel/git      : Makefile distinfo 
	devel/git/patches: patch-Makefile 
	                   patch-t_t9200-git-cvsexportcommit_sh 
	                   patch-t_test-lib_sh 
	devel/git/pkg  : PLIST-main 

Log message:
Update to git-2.13.0.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	dcoppa@cvs.openbsd.org	2017/05/10 02:27:50

Modified files:
	lib/freetype/src/psaux: psobjs.c t1decode.c 

Log message:
Fixes for CVE-2017-8105 and CVE-2017-8287

out-of-bounds write caused by a heap-based buffer overflow related
to the t1_decoder_parse_charstrings function in psaux/t1decode.c

out-of-bounds write caused by a heap-based buffer overflow related
to the t1_builder_close_contour function in psaux/psobjs.c

From upstream via Arch Linux
OK matthieu@


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	dcoppa@cvs.openbsd.org	2017/05/10 02:30:56

Modified files:
	lib/freetype/src/psaux: Tag: OPENBSD_6_1 psobjs.c t1decode.c 

Log message:
[MFC] Fixes for CVE-2017-8105 and CVE-2017-8287

out-of-bounds write caused by a heap-based buffer overflow related
to the t1_decoder_parse_charstrings function in psaux/t1decode.c

out-of-bounds write caused by a heap-based buffer overflow related
to the t1_builder_close_contour function in psaux/psobjs.c

From upstream via Arch Linux
OK matthieu@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/10 02:37:15

Modified files:
	usr.bin/vmstat : vmstat.8 vmstat.c 

Log message:
There's no difference between short and long sleepers, so just print
their number.

While here print the amount of memory in M instead of K to make the output
fit it 80 columns.

Reminded by tb@, ok visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/05/10 03:09:45

Modified files:
	usr.bin/fstat  : fstat.1 

Log message:
Explain about 0x0 PCB addresses in fstat(1) output. Suggestions/ok bluhm@ jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/10 03:48:04

Modified files:
	sys/dev/hid    : hidkbd.c 

Log message:
Make this compile with HIDKBD_DEBUG defined.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 04:18:15

Modified files:
	x11/gnome/gdm  : Makefile distinfo 
	x11/gnome/gdm/patches: patch-daemon_gdm-manager_c 
	                       patch-daemon_gdm-session_c 

Log message:
Update to gdm-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/10 04:46:05

Modified files:
	databases/ruby-hiera3: Makefile distinfo 
	databases/ruby-hiera3/pkg: PLIST 

Log message:
Simple update to 3.3.1


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/10 04:46:59

Modified files:
	usr.bin/tmux   : cmd-send-keys.c key-bindings.c server-client.c 
	                 tmux.h 

Log message:
Insert copy mode bindings at the right place in the command queue.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 04:57:54

Modified files:
	www/webkitgtk4 : Makefile distinfo 
	www/webkitgtk4/patches: 
	                        patch-Source_JavaScriptCore_heap_MachineStackMarker_cpp 
	                        patch-Source_cmake_OptionsCommon_cmake 

Log message:
Update to webkitgtk4-2.16.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/10 04:58:36

Modified files:
	telephony/asterisk-sounds: asterisk-sounds.port.mk 

Log message:
set BUILD_DEPENDS on telephony/asterisk, there's no point packaging these
(fairly large) sound files on arch where asterisk doesn't work.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 05:25:53

Modified files:
	devel/p5-File-DesktopEntry: Makefile distinfo 

Log message:
Update to p5-File-DesktopEntry-0.22.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/10 05:30:25

Log message:
    Import p5-LaTeXML for generating HTML/XML output from TeX files.
    
    %-------------------------------------------------------------------------------
    In brief, latexml is a program, written in Perl, that attempts to faithfully
    mimic TeX’s behavior, but produces XML instead of dvi. The document model of
    the target XML makes explicit the model implied by LaTeX. The processing and
    model are both extensible; you can define the mapping between TeX constructs
    and the XML fragments to be created. A postprocessor, latexmlpost converts this
    XML into other formats such as HTML or XHTML, with options to convert the math
    into MathML (currently only presentation) or images.
    %-------------------------------------------------------------------------------
    
    OK benoit@, "reads ok" edd@
    
    Status:
    
    Vendor Tag:	pirofti
    Release Tags:	pirofti_20170510
    
    N ports/textproc/p5-LaTeXML/Makefile
    N ports/textproc/p5-LaTeXML/distinfo
    N ports/textproc/p5-LaTeXML/pkg/DESCR
    N ports/textproc/p5-LaTeXML/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 05:31:28

Modified files:
	devel/p5-File-RsyncP: Makefile distinfo 

Log message:
Update to p5-File-RsyncP-0.74.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/10 05:31:46

Modified files:
	textproc       : Makefile 

Log message:
Link LaTeXML


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 05:37:22

Modified files:
	x11/gtk+3      : Makefile distinfo 

Log message:
Update to gtk+3-3.22.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 05:51:14

Modified files:
	devel/p5-Locale-Maketext-Lexicon: Makefile distinfo 
	devel/p5-Locale-Maketext-Lexicon/pkg: PLIST 

Log message:
Update to p5-Locale-Maketext-Lexicon-1.00.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 06:10:05

Modified files:
	devel/p5-Log-Dispatch-FileRotate: Makefile distinfo 

Log message:
Update to p5-Log-Dispatch-FileRotate-1.26.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/10 06:19:27

Added files:
	devel/cmocka/patches: patch-ConfigureChecks_cmake 

Log message:
actually exert tls in the check, so that the absence of -pthread makes it
fail.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 06:22:50

Modified files:
	devel/p5-PAR   : Makefile distinfo 

Log message:
Update to p5-PAR-1.015.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/10 06:32:48

Modified files:
	www/dokuwiki   : Makefile distinfo 
	www/dokuwiki/pkg: PLIST 

Log message:
Update to 2017-02-19b


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 06:33:14

Modified files:
	devel/p5-Parse-Method-Signatures: Makefile distinfo 

Log message:
Update to p5-Parse-Method-Signatures-1.003019.


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/10 06:36:35

Modified files:
	sys/arch/amd64/amd64: identcpu.c 

Log message:
The setting of the cpu feature flags for PCLMUL and AES-NI was guarded with
!SMALL_KERNEL and CRYPTO. Move it out of !SMALL_KERNEL to make use of these
features on RAMDISK_CD. Fixes a performance regression in the installer
introduced with the new aes implementation. In particular, it halves the
time needed to extract baseXX.tgz and compXX.tgz on my T420.

tweaks & ok mikeb


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 06:37:37

Modified files:
	x11/gnome/control-center: Makefile distinfo 

Log message:
Update to gnome-control-center-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/10 06:47:56

Modified files:
	mail/imapsync  : Makefile distinfo 

Log message:
Update to 1.727


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 06:48:01

Modified files:
	devel/p5-PerlIO-eol: Makefile distinfo 

Log message:
Update to p5-PerlIO-eol-0.16.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 06:52:41

Modified files:
	devel/p5-Test-File-ShareDir: Makefile distinfo 

Log message:
Update to p5-Test-File-ShareDir-1.001002.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 06:57:24

Modified files:
	devel/p5-Test-NoTabs: Makefile distinfo 

Log message:
Update to p5-Test-NoTabs-2.00.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/10 07:05:42

Modified files:
	usr.bin/tmux   : cmd-set-option.c cmd-show-options.c tmux.1 

Log message:
Expand formats in option names and add -F flag to do so in option values as well.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 07:29:27

Modified files:
	lang/guile2    : Makefile distinfo 
	lang/guile2/pkg: PLIST 
Removed files:
	lang/guile2/patches: patch-libguile_filesys_c 

Log message:
Update to guile2-2.2.2.
Remove BROKEN, we'll see if it still hangs in dpb(1).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 07:29:51

Modified files:
	x11/gnome/aisleriot: Makefile distinfo 
	x11/gnome/aisleriot/pkg: PLIST 

Log message:
Update to aisleriot-3.22.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/10 08:26:19

Modified files:
	graphics/tkpng : Makefile 
	graphics/tkpng/patches: patch-configure 
	graphics/tkpng/pkg: PLIST 

Log message:
Stop treating loadable lib as linkable lib.

ok sebastia@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/10 08:27:01

Modified files:
	x11/tkdnd      : Makefile 
	x11/tkdnd/patches: patch-unix_configure 
	x11/tkdnd/pkg  : PLIST 

Log message:
Stop treating loadable lib as linkable lib.

ok sebastia@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/10 08:27:47

Modified files:
	x11/tkhtml     : Makefile 
	x11/tkhtml/patches: patch-configure 
	x11/tkhtml/pkg : PLIST 

Log message:
Stop treating loadable lib as linkable lib.

ok sebastia@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/10 08:28:12

Modified files:
	x11/tktray     : Makefile 
	x11/tktray/patches: patch-configure 
	x11/tktray/pkg : PLIST 

Log message:
Stop treating loadable lib as linkable lib.

ok sebastia@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/10 08:28:43

Modified files:
	x11/tktreectrl : Makefile 
	x11/tktreectrl/patches: patch-configure 
	x11/tktreectrl/pkg: PLIST 

Log message:
Stop treating loadable lib as linkable lib.

ok sebastia@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/10 08:51:50

Modified files:
	x11/gnome/photos: Makefile distinfo 

Log message:
Update to gnome-photos-3.24.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/10 09:21:02

Modified files:
	sys/arch/loongson/dev: htb.c htbvar.h 
	sys/arch/loongson/include: autoconf.h 
	sys/arch/loongson/loongson: generic3a_machdep.c 

Log message:
Add a PCI attach hook mechanism for htb(4), similar to the one
in bonito(4). Use the hook for setting up the PIC.

Discussed with miod@ long ago


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/10 09:47:34

Modified files:
	sys/dev/usb    : usbdi.c 

Log message:
Revert r1.61 and partially 1.60.  The resulting logic is currently a
noop and prevent us from fixing real use-after-free.

Since xfer->status is reset by *_device_intr_done(), checking for
USBD_IOERROR cannot be true.

Problem reported by tb@ because ubcmtp(4) triggers some I/O errors
when multiple fingers are used.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/10 10:04:21

Modified files:
	sys/arch/loongson/loongson: generic3a_machdep.c 
	sys/arch/mips64/include: loongson3.h 

Log message:
Hook up HPET as a timecounter.


CVSROOT:	/cvs
Module name:	ports
Changes by:	millert@cvs.openbsd.org	2017/05/10 10:07:54

Modified files:
	security/sudo  : Makefile distinfo 

Log message:
update to sudo 1.8.20


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/10 10:47:03

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
We can use ECH to clear sections of lines, so use it for internal panes
(that don't touch an edge). Move all the tty clear code into two common
functions rather than having the same bunch of checks everywhere.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/10 10:48:36

Modified files:
	usr.bin/tmux   : cmd-refresh-client.c resize.c tmux.h 

Log message:
Prevent control clients from affecting the session size until they have
specified a size with refresh-client -C. Prompted by a different change
with the same purpose from George Nachman.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/10 11:35:40

Modified files:
	sys/dev/usb    : usbdi.c 

Log message:
It is unsafe to dereference ``xfer'' after calling the callback as it
might free it.

Prevent a use-after-free in various aynchronous cases.  Found while
looking at another user-after-free pointed out by ehrhardt@.

Committing now to find if other drivers rely on this use-after-free.

tb@ confirmed ubcmtp(4) is now fixed.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/10 12:40:13

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Move to the right cursor position before using spaces to clear.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 13:15:53

Modified files:
	devel/p5-Set-Object: Makefile distinfo 
	devel/p5-Set-Object/pkg: PLIST 

Log message:
Update to p5-Set-Object-1.35.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/10 13:21:04

Modified files:
	www/epiphany   : Makefile distinfo 

Log message:
update to epiphany-3.24.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 13:40:09

Modified files:
	devel/p5-Test-MockObject: Makefile distinfo 
	devel/p5-Test-MockObject/pkg: PLIST 

Log message:
Update to p5-Test-MockObject-1.20161202.


CVSROOT:	/cvs
Module name:	src
Changes by:	bru@cvs.openbsd.org	2017/05/10 13:47:17

Modified files:
	sys/dev/wscons : wstpad.c 

Log message:
Adapt the filter parameters to the X/Y ratio.

ok mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 14:11:16

Modified files:
	misc/p5-I18N-Charset: Makefile distinfo 

Log message:
Update to p5-I18N-Charset-1.417.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/10 14:18:32

Modified files:
	misc/p5-Lingua-Romana-Perligata: Makefile distinfo 

Log message:
Update to p5-Lingua-Romana-Perligata-0.601.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/10 15:41:27

Modified files:
	sys/sys        : mbuf.h 

Log message:
Declare struct m_hdr as __aligned(8).  This forces the compiler to pad out to
the next 8-byte boundary.  This avoids introducing additional padding
between struct m_hdr and union M_dat in struct mbuf when we add a 64-bit
timestamp in struct pkthdr, which would lead to a miscalculation of MLEN and
panics on 32-bit architectures.  Note that using __aligned(sizeof(int64_t))
here would make the compiler crash!

Put back the packet timestamp now that it is (hopefully) safe to do so.

ok bluhm@, mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/10 15:48:29

Modified files:
	include        : stdlib.h 

Log message:
Add bounded attribute to freezero().  OK tom@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/10 15:56:53

Modified files:
	usr.bin/nc     : nc.1 netcat.c 

Log message:
Implement nc -W recvlimit to terminate netcat after receiving a
number of packets.  This allows to send a UDP request, receive a
reply and check the result on the command line.
input jmc@; OK millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/10 15:58:55

Modified files:
	sys/arch/arm64/arm64: bus_dma.c pmap.c 
	sys/arch/arm64/include: pmap.h 

Log message:
Remove pmep_pa_is_mem().  Instead create write-back cachable mappings by
default an require callers of pmap_enter() and require pmap_kenter_pa()
to explicitly request uncached mappings by passing the PMAP_NOCACHE flag
in the low bits of the physical address like we do on other architectures.

ok drahn@, patrick@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/10 16:06:33

Modified files:
	x11/dmenu      : Makefile distinfo 
	x11/dmenu/patches: patch-Makefile patch-config_def_h 
	                   patch-config_mk 

Log message:
update to 4.7 from Hiltjo Posthuma


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/10 16:21:39

Modified files:
	regress/sys/netinet/ipsec: Makefile README 

Log message:
Run tcpdump(8) on the enc0 device while the test is sending IPsec
packets.  Then check whether decrypted packets have been processed
by bpf(4) as expected.


CVSROOT:	/cvs
Module name:	www
Changes by:	danj@cvs.openbsd.org	2017/05/10 17:17:59

Modified files:
	.              : want.html 

Log message:
I got a desktop, many thanks to the OpenBSD Foundation!


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/10 17:34:25

Modified files:
	games/xchomp   : Makefile 
	games/xchomp/patches: patch-demo_c patch-main_c patch-props_c 
Added files:
	games/xchomp/patches: patch-contact_c patch-drivers_c 
	                      patch-maze_c patch-resources_c 
	                      patch-status_c patch-xchomp_h 

Log message:
fix build with clang. clean-up prototypes, it's not that large.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/10 17:51:19

Modified files:
	archivers/libtar: Makefile 

Log message:
tls without threads -> no tls


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/10 18:21:50

Modified files:
	security/libssh/patches: patch-tests_unittests_torture_misc_c 
Added files:
	security/libssh/patches: patch-ConfigureChecks_cmake 

Log message:
exact same fix as cmocka


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/10 18:29:50

Modified files:
	security/gpgme : Makefile 

Log message:
no tls without pthread


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/10 18:35:09

Modified files:
	mail/libetpan  : Makefile distinfo 

Log message:
Update to libetpan-1.8

From the ChangeLog: "fixed crash (CVE-2017-8825)"


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/10 18:41:14

Modified files:
	devel/pcre++   : Makefile 
	net/maradns    : Makefile 

Log message:
unimportant whitespace differences only, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/10 18:42:05

Modified files:
	sys/uvm        : uvm_init.c uvm_km.c uvm_km.h 

Log message:
reorder uvm init to avoid use before initialisation.

the particular use before init was in uvm_init step 6, which calls
kmeminit to set up malloc(9), which calls uvm_km_zalloc, which calls
pmap_enter, which calls pool_get, which tries to allocate a page
using km_alloc, which isnt initalised until step 9 in uvm_init.

uvm_km_page_init calls kthread_create though, which uses malloc
internally, so it cant be reordered before malloc init.

to cope with this, uvm_km_page_init is split up. it sets up the
subsystem, and is called before kmeminit. the thread init is moved
to uvm_km_page_lateinit, which is called after kmeminit in uvm_init.


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/10 19:26:37

Modified files:
	meta/tor-browser: Makefile 
	www/tor-browser: Makefile.inc 
	www/tor-browser/browser: Makefile distinfo 
	www/tor-browser/browser/files: extension-overrides.js 
	www/tor-browser/https-everywhere: Makefile distinfo 
	www/tor-browser/noscript: Makefile distinfo 
	www/tor-browser/tor-launcher: Makefile 
	www/tor-browser/torbutton: Makefile 

Log message:
Update to tor-browser 6.5.2, from MAINTAINER Sean Levy

Prodded by landry@, looks good to edd@


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/10 19:37:24

Modified files:
	sys/arch/amd64/stand/efiboot: efidev.c 

Log message:
Casting int is required for passing uint64 value to "%u" since we don't
assume the size of int.  The problem was spotted by Michele Curti.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/10 20:26:39

Modified files:
	lib/libcrypto/evp: e_chacha20poly1305.c 

Log message:
Fix a problem introduced in freezero() conversion and use
sizeof(struct) not sizeof(pointer).

otto@ points out that on OpenBSD currently freezero() would have still
zeroed the entire allocation, but this is not documented behaviour and
may change in future.

ok tom@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/11 00:18:03

Modified files:
	net/owncloudclient: Makefile distinfo 
	net/owncloudclient/patches: patch-src_gui_application_cpp 
	                            patch-src_libsync_utility_cpp 

Log message:
update to owncloudclient-2.3.2


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/11 00:55:47

Modified files:
	sys/uvm        : uvm_km.c 

Log message:
unbreak PMAP_DIRECT archs.

found by jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/11 01:24:42

Modified files:
	usr.bin/tmux   : cmd-resize-pane.c 

Log message:
Change how we resolve which pane is dragging when there are multiple
options - choose the largest pane, which is more likely to be the one the
user wants to resize. Prompted by a report from Thomas Sattler.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/11 01:31:20

Modified files:
	usr.sbin/vmd   : virtio.c 

Log message:
typo, spotted by dhill.

ok reyk@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/11 01:34:54

Modified files:
	usr.bin/tmux   : environ.c tmux.h 

Log message:
Make environ_log prefix take a format.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 01:41:47

Modified files:
	x11/gtk+3      : Makefile distinfo 

Log message:
Update to gtk+3-3.22.14.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/11 02:00:41

Modified files:
	sys/arch/i386/i386: vmm.c 
	sys/arch/amd64/amd64: vmm.c 

Log message:
panic doesn't need \n.

Suggested by Michael W. Bombardieri, thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 02:13:44

Modified files:
	x11/gnome/initial-setup: Makefile distinfo 
	x11/gnome/initial-setup/patches: 
	                                 patch-gnome-initial-setup_Makefile_in 
	                                 patch-gnome-initial-setup_pages_Makefile_in 
	                                 patch-gnome-initial-setup_pages_account_Makefile_in 
	                                 patch-gnome-initial-setup_pages_password_Makefile_in 
	x11/gnome/initial-setup/pkg: PLIST 

Log message:
Update to gnome-initial-setup-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 02:17:02

Modified files:
	security/libhttpseverywhere: Makefile distinfo 

Log message:
Update to libhttpseverywhere-0.4.3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 03:25:27

Modified files:
	sysutils/salt  : Makefile distinfo 
	sysutils/salt/pkg: PLIST 

Log message:
Update to salt-2016.11.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	feinerer@cvs.openbsd.org	2017/05/11 04:23:41

Modified files:
	multimedia/libv4l: Makefile distinfo 

Log message:
Update to libv4l 1.12.5

(Again) no functional change as the update only contains changes in libdvbv5
which we currently do not build on OpenBSD.


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	dcoppa@cvs.openbsd.org	2017/05/11 04:34:54

Modified files:
	lib/freetype/src/psaux: Tag: OPENBSD_6_0 psobjs.c t1decode.c 

Log message:
[MFC] Fixes for CVE-2017-8105 and CVE-2017-8287

out-of-bounds write caused by a heap-based buffer overflow related
to the t1_decoder_parse_charstrings function in psaux/t1decode.c

out-of-bounds write caused by a heap-based buffer overflow related
to the t1_builder_close_contour function in psaux/psobjs.c

From upstream via Arch Linux
OK matthieu@

diff for OPENBSD_6_0 by tj@, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/11 04:50:22

Modified files:
	sys/net        : fq_codel.c 

Log message:
Increment drop counter on the enqueue failure


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 05:16:16

Modified files:
	x11/gnome/yelp : Makefile 
	x11/gnome/devhelp: Makefile 

Log message:
on clang arch, they won't have access to estdc++


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/11 05:22:30

Modified files:
	sys/netinet    : Tag: OPENBSD_6_1 igmp.c ip_icmp.c 

Log message:
If m is not a continuous mbuf cluster, m_pullup() in pr_input may
change the pointer.  Then *mp keeps the invalid pointer and it might
be used.  Fix the potential use after free in igmp_input_if() and
icmp_input_if().  As the input buffers normally deal with mbuf
clusters, the use after free should not happen.
OK mikeb@ mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/11 05:36:20

Modified files:
	sys/netinet    : ip_input.c 
	sys/netinet6   : ip6_input.c 

Log message:
Fix white spaces and wrap long line.  No binary change.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/11 05:38:50

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Need to redraw out to cellsize (total cells used in a line) rather than
cellused (only non-space cells) because there may be cells with a
nondefault background.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/11 05:39:30

Modified files:
	usr.bin/tmux   : screen-write.c 

Log message:
Clear to start of screen needs to use background colour.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/11 05:42:45

Modified files:
	regress/sys/netinet/ipsec: Makefile 

Log message:
Use the new netcat -W recvlimit feature to speed up the test.


CVSROOT:	/cvs
Module name:	src
Changes by:	tom@cvs.openbsd.org	2017/05/11 05:52:18

Modified files:
	include        : stdlib.h 

Log message:
arc4random_buf should be bounded buffer, not bounded string

ok millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/11 06:14:43

Modified files:
	sys/netinet    : ipsec_input.c 

Log message:
IPv6 IPsec transport mode did not work if pf is enabled.  The
decrypted packets in the input path were not checked with pf.  So
with stateful filtering on enc0, direction aware protocols like
ping or TCP did not pass.  Add an explicit pf_test() in
ipsec_common_input_cb() for IPv6 transport mode to fix this.
OK mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/11 06:18:37

Modified files:
	regress/sys/netinet/ipsec: Makefile 

Log message:
Enable IPv6 IPsec transport mode tests for ping and TCP over ESP
and IPComp.  The kernel has been fixed.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/11 06:22:26

Modified files:
	sys/net        : fq_codel.c fq_codel.h 

Log message:
Add pf queue configuration glue for FQ-CoDel


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 07:26:04

Modified files:
	devel/p5-Class-Tiny: Makefile distinfo 

Log message:
Update to p5-Class-Tiny-1.006.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 07:38:33

Modified files:
	devel/p5-Devel-PartialDump: Makefile distinfo 

Log message:
Update to p5-Devel-PartialDump-0.18.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/11 07:44:15

Modified files:
	databases/postgresql: Makefile 
Added files:
	databases/postgresql/patches: patch-src_pl_plperl_GNUmakefile 

Log message:
Fix bug with create extension plperl
( Util.c: loadable library and perl binaries are mismatched )
Spotted and fix by Markus Hennecke, Thanks !


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 07:45:54

Modified files:
	devel/p5-Perl6-Junction: Makefile distinfo 

Log message:
Update to p5-Perl6-Junction-1.60000.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 07:56:55

Modified files:
	x11/gnome/documents: Makefile distinfo 
	x11/gnome/documents/pkg: PLIST 

Log message:
Update to gnome-documents-3.24.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 08:01:57

Modified files:
	editors/joe    : Makefile distinfo 

Log message:
Update to joe-4.4.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/11 08:03:19

Modified files:
	sys/net        : rtable.c 

Log message:
No need to go through a remove/insert cycle when there's a single route
entry on the multipath list.

Fix a NULL dereference triggered by a CPU doing a lookup when another one
is updating the priorities of some routes.  By not doing a remove/insert
we ensure that ``an_rtlist'' is never empty and do not need a conditional
in the fast path.

Problem reported by and ok markus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 08:10:21

Modified files:
	lang/guile2/pkg: PLIST 

Log message:
Fix packaging; reported by naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 08:18:56

Modified files:
	games/wtf      : Makefile distinfo 

Log message:
Update to wtf-20170510.


CVSROOT:	/cvs
Module name:	ports
Changes by:	robert@cvs.openbsd.org	2017/05/11 08:34:53

Modified files:
	www/chromium   : Makefile distinfo 

Log message:
update to 58.0.3029.110


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 08:42:17

Modified files:
	x11/gnome/sushi: Makefile 

Log message:
unhardcode libestdc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 08:51:15

Modified files:
	mail/p5-Email-Valid: Makefile distinfo 

Log message:
Update to p5-Email-Valid-1.202.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 08:53:04

Added files:
	security/libnipper/patches: patch-device_common_misc_cpp 
	                            patch-report_report-text_cpp 

Log message:
trivial fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 09:03:42

Modified files:
	net/p5-Net-Dict: Makefile distinfo 

Log message:
Update to p5-Net-Dict-2.21.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 09:26:11

Modified files:
	sysutils/p5-Capture-Tiny: Makefile distinfo 

Log message:
Update to p5-Capture-Tiny-0.46.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/11 09:30:37

Modified files:
	devel/nspr     : Makefile 

Log message:
add aarch64 to ONLY_FOR_ARCHS, missed commit when I fixed the patches


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/11 09:42:10

Modified files:
	sys/arch/mips64/mips64: cpu.c 

Log message:
Set up IPI handling on the primary CPU before booting secondary CPUs.
This ensures the IPI handler is in place before the first IPI is sent.

Drop the comment about xheart because it is somewhat misleading.

Discussed with miod@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 09:42:28

Modified files:
	textproc/p5-Text-PDF: Makefile distinfo 
	textproc/p5-Text-PDF/pkg: PLIST 

Log message:
Update to p5-Text-PDF-0.31.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/11 09:44:43

Modified files:
	textproc/zathura/core: Makefile 
	textproc/zathura/plugins: Makefile.inc 

Log message:
MODGCC4_ARCHS * -> ${GCC3_ARCHS} ${GCC4_ARCHS}


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/11 09:46:33

Modified files:
	textproc/p5-XML-Simple: Makefile distinfo 

Log message:
Update to p5-XML-Simple-2.24.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/11 09:47:45

Modified files:
	sys/arch/sgi/include: bus.h 
	sys/arch/sgi/localbus: imc.c macebus.c 
	sys/arch/sgi/pci: macepcibridge.c 
	sys/arch/sgi/sgi: bus_dma.c 
	sys/arch/sgi/xbow: xbridge.c 

Log message:
The device_to_pa routine really isn't needed. We always have physical
addresses. While there, pave the way for BUS_DMA_64BIT (not working
yet).

Diff from miod@; OK dlg@


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/11 10:28:16

Modified files:
	sys/net        : fq_codel.c 

Log message:
Remove a leftover from the ifq_mfreeml conversion


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 10:28:58

Modified files:
	net/mutella    : Makefile 
Added files:
	net/mutella/patches: patch-mutella_common_h 
	                     patch-mutella_uiremote_cpp 

Log message:
trivial clang  fixes


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/11 10:29:55

Modified files:
	www/squid      : Makefile 
Added files:
	www/squid/patches: 
	                   patch-helpers_basic_auth_LDAP_basic_ldap_auth_8 
	                   patch-helpers_basic_auth_RADIUS_basic_radius_auth_8 
	                   patch-helpers_external_acl_file_userip_ext_file_userip_acl_8 
	                   patch-tools_squidclient_squidclient_1 

Log message:
Unimportant whitespace differences only, drop USE_GROFF.

While here, fix a number of quite serious escaping errors in
four manual pages that caused loss of important information.
I will also send those upstream.

OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 10:33:43

ports/math/aamath/patches

Update of /cvs/ports/math/aamath/patches
In directory cvs.openbsd.org:/tmp/cvs-serv48142/patches

Log Message:
Directory /cvs/ports/math/aamath/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 10:34:03

Added files:
	math/aamath/patches: patch-expr_cc patch-expr_h 

Log message:
trivial fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 10:40:58

Added files:
	math/mcl/patches: patch-src_impala_matrix_c 

Log message:
restrict is a reserved keyword now


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/11 11:22:22

Modified files:
	x11/gnome/gucharmap: Makefile distinfo 

Log message:
update to gucharmap-9.0.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/11 11:23:44

Modified files:
	x11/gnome/calendar: Makefile distinfo 
	x11/gnome/calendar/pkg: PLIST 

Log message:
update to gnome-calendar-3.24.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/11 12:26:48

Modified files:
	devel/py-uncompyle6: Makefile distinfo 
	devel/py-uncompyle6/pkg: PLIST 

Log message:
Update to py-uncompyle6 2.9.11


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/11 12:45:11

Modified files:
	devel/py-lazy-object-proxy: Makefile distinfo 

Log message:
Update to py-lazy-object-proxy 1.3.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/11 12:56:52

Modified files:
	devel/py-test-cov: Makefile distinfo 

Log message:
Update to py-test-cov 2.5.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/11 13:10:51

Modified files:
	www/py-requests: Makefile distinfo 
	www/py-requests/pkg: PLIST 

Log message:
Update to py-requests 2.14.2


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/11 13:13:17

Modified files:
	usr.bin/tic    : dump_entry.c 

Log message:
Fix the index check in the FNKEY macro.  This is only used when
restricting the output to a version usable on AIX or HP-UX.
OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 13:24:01

Modified files:
	games/crimson/patches: patch-Makefile_in 
Added files:
	games/crimson/patches: patch-src_cf_path_cpp 

Log message:
fix crimson build. from freebsd


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/11 13:25:53

Modified files:
	devel/py-hypothesis: Makefile distinfo 
	devel/py-hypothesis/pkg: PLIST 

Log message:
Update to py-hypothesis 3.8.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 13:41:33

Added files:
	editors/subtitleeditor/patches: 
	                                patch-plugins_subtitleformats_sami_sami_cc 
	                                patch-src_document_cc 
	                                patch-src_document_h 
	                                patch-src_vp_gstplayer_cc 

Log message:
fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 13:44:00

Added files:
	x11/gaia/patches: patch-programs_gaia_GPSSourceNMEA_cc 
	                  patch-programs_gaia_Hud_cc 

Log message:
missing protos, fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 13:52:15

Modified files:
	games/starlanes: Makefile 
Added files:
	games/starlanes/patches: patch-starlanes_c 

Log message:
remove old build earlier.
fixes for clang, mostly namespace collision, and a portability bug


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/11 14:17:17

Modified files:
	bin/ksh        : README 

Log message:
a little tidy up; from raf czlonka


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 14:20:16

Added files:
	sysutils/cdrtools/patches: patch-include_schily_sha2_h 

Log message:
fix for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 14:27:07

Modified files:
	x11/gnome/initial-setup: Makefile 
	x11/gnome/libgepub: Makefile 
	x11/gnome/online-accounts: Makefile 

Log message:
unhardcode libestdc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 14:29:32

Modified files:
	productivity/glabels: Makefile 

Log message:
unhardcode libestdc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 14:50:55

Modified files:
	audio/wmtune   : Makefile 
	converters/pflogx: Makefile 
	databases/architect: Makefile 
	devel/ctftools : Makefile 
	devel/gmc4cc   : Makefile 
	devel/libbfio  : Makefile 
	devel/luaprofiler: Makefile 
	devel/p5-Expect: Makefile 
	education/gamgi: Makefile 
	fonts/spranq-ecofont-ttf: Makefile 
	games/egoboo   : Makefile 
	games/hypatia  : Makefile 
	games/love     : Makefile 
	lang/clojure   : Makefile 
	mail/vrfy      : Makefile 
	misc/p5-Finance-Bank-DE-DTA-Create: Makefile 
	net/openfire   : Makefile 
	net/sipsak     : Makefile 
	print/apsfilter: Makefile 
	productivity/when: Makefile 
	security/chntpw: Makefile 
	sysutils/cl-launch: Makefile 
	sysutils/setquota: Makefile 
	sysutils/wmcb  : Makefile 
	www/php-markdown: Makefile 
	www/piwik      : Makefile 
	www/ratproxy   : Makefile 

Log message:
kill most of the / at the end of WRK* variables


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 14:54:31

Modified files:
	x11/gtk+3      : Makefile distinfo 

Log message:
Update to gtk+3-3.22.15.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/11 15:10:22

Modified files:
	sysutils/terraform: Makefile distinfo 

Log message:
Update to terraform-0.9.5.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 15:19:42

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
meh. need a LIBECXX for ports that depend loosely on estdc++ on !clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 15:22:31

Modified files:
	productivity/glabels: Makefile 
	x11/gnome/initial-setup: Makefile 
	x11/gnome/libgepub: Makefile 
	x11/gnome/online-accounts: Makefile 

Log message:
fix fix... replace estdc++ with LIBECXX
found by aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/11 15:23:49

Modified files:
	x11/gnome/sushi: Makefile 
	x11/gnome/yelp : Makefile 
	x11/gnome/devhelp: Makefile 

Log message:
more estdc++ mixup, should cover them all


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/11 18:09:17

Modified files:
	regress/sys/netinet/ipsec: Makefile README 
Added files:
	regress/sys/netinet/ipsec: pf.conf 

Log message:
Run all IPsec tests with a pf rule that logs everything on the enc0
interface.  Use tcpdump to write the pflog0 output into a file.
Then grep can verify that all encrypted packets have been processed
by pf.


CVSROOT:	/cvs
Module name:	src
Changes by:	ratchov@cvs.openbsd.org	2017/05/11 22:53:07

Modified files:
	regress/lib/libsndio/cap: cap.c 

Log message:
Fix typos and spacing. From Andre Smagin <as at smagin.com>. Thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/12 00:01:40

Modified files:
	databases/puppetdb4: Makefile distinfo 

Log message:
Update to 4.4.0, mostly some performance tweaks


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 00:22:15

Modified files:
	devel/p5-B-Hooks-OP-Check: Makefile distinfo 

Log message:
Update to p5-B-Hooks-OP-Check-0.21.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 00:44:04

Modified files:
	devel/p5-Class-Multimethods: Makefile distinfo 
	devel/p5-Class-Multimethods/pkg: PLIST 

Log message:
Update to p5-Class-Multimethods-1.701.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/12 01:12:10

Modified files:
	net/libproxy   : Makefile distinfo 
	net/libproxy/patches: patch-libproxy_CMakeLists_txt 

Log message:
Update to libproxy-0.4.15.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 01:15:48

Modified files:
	devel/p5-Devel-Cover: Makefile distinfo 

Log message:
Update to p5-Devel-Cover-1.25.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/12 01:19:20

Modified files:
	www/webkitgtk4 : Tag: OPENBSD_6_1 Makefile distinfo 
	www/webkitgtk4/patches: Tag: OPENBSD_6_1 
	                        patch-Source_JavaScriptCore_heap_MachineStackMarker_cpp 
	                        patch-Source_cmake_OptionsCommon_cmake 

Log message:
MFC:
Reliability update to webkitgtk4-2.16.2. Keeping this port up-to-date with
the latest upstream release will help catching up with security updates.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/12 01:26:15

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.48.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/12 01:26:25

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.85.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 01:26:49

Modified files:
	devel/p5-File-ChangeNotify: Makefile distinfo 

Log message:
Update to p5-File-ChangeNotify-0.27.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/12 01:41:00

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/pkg: PLIST 
Added files:
	sysutils/google-cloud-sdk/patches: 
	                                   patch-bin_docker-credential-gcloud 

Log message:
Update to google-cloud-sdk-155.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 01:58:48

Modified files:
	www/py-webob   : Makefile distinfo 
	www/py-webob/pkg: PLIST 

Log message:
Update to py-webob 1.7.2, add py3 flavor.

From Nils Reusse <n dot reusse at hxgn dot net>


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 01:59:56

Modified files:
	www            : Makefile 

Log message:
+py-webob,python3


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/05/12 02:13:42

Modified files:
	security/burpsuite: Makefile distinfo 

Log message:
update burpsuite to 1.7.22.
release notes: http://releases.portswigger.net/2017/04/1722.html


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 02:21:23

Log message:
    Import to py-cheroot 5.5.0.
    From Nils Reusse <n dot reusse at hxgn dot net>
    
    DESCR:
    
    Cheroot is the high-performance, pure-Python HTTP server used by CherryPy.
    
    Status:
    
    Vendor Tag:	shadchin
    Release Tags:	shadchin_20170512
    
    N ports/www/py-cheroot/Makefile
    N ports/www/py-cheroot/distinfo
    N ports/www/py-cheroot/pkg/PLIST
    N ports/www/py-cheroot/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 02:23:35

Modified files:
	devel/p5-IO-Pager: Makefile distinfo 

Log message:
Update to p5-IO-Pager-0.38.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 02:31:27

Modified files:
	devel/p5-Sub-Uplevel: Makefile distinfo 

Log message:
Update to p5-Sub-Uplevel-0.2800.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/12 02:46:28

Modified files:
	sys/arch/i386/i386: locore.s 
	sys/arch/i386/include: atomic.h 

Log message:
Make atomic.h ready to be included in userland.

- prefix the LOCK macro with an underscore
- keep setbits/clearbits and virtio barriers inside _KERNEL
- Get rid of unused futex_atomic_ucas_int32().

ok dlg@, kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/12 02:47:03

Modified files:
	sys/arch/amd64/include: atomic.h 

Log message:
Make atomic.h ready to be included in userland.

- prefix the LOCK macro with an underscore
- keep setbits/clearbits and virtio barriers inside _KERNEL

ok dlg@, kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/12 02:47:48

Modified files:
	sys/arch/powerpc/include: atomic.h 

Log message:
Make atomic.h ready to be included in userland.

- keep setbits/clearbits inside _KERNEL

ok dlg@, kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/12 02:48:31

Modified files:
	sys/arch/arm64/include: atomic.h 

Log message:
Make atomic.h ready to be included in userland.

- keep setbits/clearbits and virtio barriers inside _KERNEL

ok dlg@, kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 02:53:03

Modified files:
	www            : Makefile 

Log message:
+py-cheroot
+py-cheroot,python3


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/12 02:53:46

Modified files:
	sys/arch/arm/include: atomic.h 

Log message:
Make atomic.h ready to be included in userland.

- keep setbits/clearbits and virtio barriers inside _KERNEL
- prefix def_atomic_xxx macros with underscores


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/12 03:16:55

Modified files:
	sys/dev/hid    : hidkbd.c 
	sys/dev/wscons : wskbd.c wskbdvar.h 
	sys/dev/usb    : ukbd.c 

Log message:
Introduce a new keyboard console hook to enter ddb(4) and make ukbd(4)
use it.

Instead of defering every input of a USB console keyboard to a timeout
via a queue of one element, only differ entering ddb(4) once a matching
control sequenece has been typed.

This prevent loosing inputs when a USB console keyboard is "too fast".

Fix a problem reported by matthieu@, Adam McDougall and Hrvoje Popovski.

ok stsp@, dlg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 03:23:43

Modified files:
	textproc/py-chardet: Makefile distinfo 
	textproc/py-chardet/pkg: PLIST 

Log message:
Update to py-chardet 3.0.2 and take maintainership.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 03:32:52

Modified files:
	shells/py-qtconsole: Makefile distinfo 
	shells/py-qtconsole/pkg: PLIST 

Log message:
Update to py-qtconsole 4.3.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/12 03:39:17

Modified files:
	devel/py-test-cov: Makefile distinfo 

Log message:
Update to py-test-cov 2.5.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/12 03:56:34

Modified files:
	editors/neovim : Makefile 
Added files:
	editors/neovim/patches: 
	                        patch-runtime_autoload_health_provider_vim 
	                        patch-runtime_autoload_health_vim 

Log message:
Neovim: Fix various bits in ':CheckHealth', including detection of Python.

Issue found by tb@ when the ${LOCALBASE}/bin/python symlink is not existing.
Upstream fixed a couple of other bugs in the same PR. Thanks all.

OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/12 04:08:33

Log message:
    Import devel/py-uv.
    
    ---8<---
    pyuv is a Python module which provides an interface to libuv. libuv is a high
    performance asynchronous networking and platform abstraction library.
    --->8---
    
    OK tb@, shadchin@. Thanks.
    
    Status:
    
    Vendor Tag:	edd
    Release Tags:	edd_20170512
    
    N ports/devel/py-uv/Makefile
    N ports/devel/py-uv/distinfo
    N ports/devel/py-uv/patches/patch-setup_libuv_py
    N ports/devel/py-uv/pkg/DESCR
    N ports/devel/py-uv/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/12 04:09:20

Modified files:
	devel          : Makefile 

Log message:
Link devel/py-uv.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/12 04:14:09

Log message:
    Import editors/py-neovim.
    
    ---8<---
    Implements support for python plugins in Nvim. Also works as a library for
    connecting to and scripting Nvim processes through its msgpack-rpc API.
    --->8---
    
    OK tb@. Thanks!
    
    Status:
    
    Vendor Tag:	edd
    Release Tags:	edd_20170512
    
    N ports/editors/py-neovim/Makefile
    N ports/editors/py-neovim/distinfo
    N ports/editors/py-neovim/pkg/DESCR
    N ports/editors/py-neovim/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/12 04:15:21

Modified files:
	editors        : Makefile 

Log message:
Link editors/py-neovim.


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/12 04:17:27

Modified files:
	devel          : Makefile 

Log message:
Don't forget to link the python3 FLAVOR of devel/py-uv.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 04:45:38

Modified files:
	usr.bin/tmux   : format.c tmux.h window-copy.c window.c 

Log message:
Store copy mode search string in pane so search-again command works even
if you exit and reenter copy mode (it doesn't remember the position,
just the search string), suggested by espie@.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 04:49:04

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Can use DECFRA to clear area when not using default background.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 04:50:12

Modified files:
	usr.bin/tmux   : input.c screen-write.c tmux.h tty.c 

Log message:
ECH needs to use background colour.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 05:13:43

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Can use INDN to clear regions with default background colour if margins
are supported.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/12 05:15:51

Modified files:
	build          : mirrors.dat 

Log message:
https for mirror.dalenys.com; from Julien Dhaille


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/12 05:16:09

Modified files:
	.              : ftp.html httpslist 
	openbgpd       : ftp.html 
	openssh        : ftp.html portable.html 
	openntpd       : portable.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 05:19:24

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Regions can't be smaller than 2 so don't try to clear them by scrolling if so.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 07:00:56

Modified files:
	usr.bin/tmux   : grid-view.c grid.c input.c screen-write.c 
	                 server-fn.c tmux.h tty.c window-copy.c 

Log message:
Scrolling needs to use background colour.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 07:27:57

Modified files:
	usr.bin/tmux   : format.c 

Log message:
Only redraw single client, and tweak some logging.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 07:29:05

Modified files:
	usr.bin/tmux   : screen-write.c 

Log message:
Need to clear tty context before using it.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/12 07:40:29

Modified files:
	sys/net        : if_switch.c switchofp.c 

Log message:
Make a kernel with switch(4) but without INET6 compile again.
Sprinkle some #ifdef INET6 and do not use in6addr_any from the
netinet6 code.
test and OK rzalamena@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/12 08:04:09

Modified files:
	sys/netinet    : ip_input.c ip_var.h 
	sys/netinet6   : ip6_input.c 

Log message:
Use the IPsec policy check from ipv4_input() also when forwarding
in ip6_input().  While there avoid an ugly #ifdef in ipv4_input().
OK mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 08:11:54

Modified files:
	games/lostpixels: Makefile 

Log message:
lose the / at end of WRKDIST


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 08:13:54

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Cannot rely on cursor position after DL and IL (some terminals move to
column 0, some do not).


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/12 08:19:50

Modified files:
	telephony/asterisk-sounds: asterisk-sounds.port.mk 

Log message:
Oops, remove BUILD_DEPENDS which causes a loop because asterisk RUN_DEPENDS
on some of the sound files. Reported by dhill.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 08:23:22

Modified files:
	mail/p5-MIME-Charset: Makefile distinfo 

Log message:
Update to p5-MIME-Charset-1.012.2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 08:30:32

ports/x11/libqaccessibilityclient/patches

Update of /cvs/ports/x11/libqaccessibilityclient/patches
In directory cvs.openbsd.org:/tmp/cvs-serv85613/patches

Log Message:
Directory /cvs/ports/x11/libqaccessibilityclient/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 08:30:57

Added files:
	x11/libqaccessibilityclient/patches: 
	                                     patch-src_qaccessibilityclient_accessibleobject_h 

Log message:
clang doesn't like forward declares and namespace errors


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/12 08:31:23

Modified files:
	sys/netinet    : ipsec_input.c 

Log message:
Instead of printing a debug message at the end of processing, panic
early if the IPsec security protocol is unknown.  ipsec_common_input()
and ipsec_common_input_cb() can only be called with the IP protocols
ESP, AH, or IPComp.  Everything else is a programming mistake.
OK claudio@


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/05/12 08:33:39

Modified files:
	x11/smplayer   : Makefile distinfo 
	x11/smplayer/patches: patch-src_preferences_cpp 

Log message:
Update SMPlayer to 17.5.0

Test by Josh and benoit@

OK benoit@


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/05/12 08:34:53

Modified files:
	x11/smtube     : Makefile distinfo 
	x11/smtube/pkg : PLIST 

Log message:
Update for SMTube to 17.5.0

Test by Josh, Thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/12 08:37:52

Modified files:
	bin/ksh        : emacs.c 

Log message:
Improve UTF-8 handling on lines that are wider than the terminal,
in two respects:

1. During output in x_e_putc(), when counting display columns,
skip UTF-8 continuation bytes.  Fixes backward movements that
cause horizontal scrolling.

2. After deleting characters, recalculate the last byte that fits
on the line.

Patch from <Anton dot Lindqvist at gmail dot com> on tech@.
OK millert@ tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 08:38:18

Modified files:
	math/foma      : Makefile distinfo 
	math/foma/patches: patch-Makefile 

Log message:
Update to foma-0.9.17.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 08:52:26

Modified files:
	net/queryperf  : Makefile distinfo 

Log message:
Update to queryperf-9.11.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 08:56:56

Modified files:
	usr.bin/tmux   : screen-write.c 

Log message:
Need to store bg for ECH.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/12 09:04:07

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Make sure we have a valid URL in /etc/installurl to prevent ending up stuck in
ftp(1) interactive mode.

reported by and OK sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/12 09:11:02

Modified files:
	sbin/ifconfig  : ifconfig.8 

Log message:
Make the markup of negative parameters consistently use .Cm;
those are command modifiers, not flags.  Inconsistency noticed
and patch sent in by Anton dot Lindqvist at gmail dot com.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 09:11:18

Modified files:
	devel/msp430/libc: Makefile 
	devel/ti-msp430gcc: Makefile 
	graphics/asymptote: Makefile 
	java/tanukiwrapper: Makefile 
	mail/zarafa/zarafa: Makefile 
	security/libssh: Makefile 

Log message:
zap remaining trailing / at end of WRK*


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 09:15:25

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
forbid any of the WRK* variables to end with a /
discussed with sthen@
various things are cleaner that way


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 09:18:13

Modified files:
	usr.bin/tmux   : grid.c 

Log message:
When expanding a line in order to clear it, we need to use the default
background colour - there may be portions that we do not want to clear
with the new background colour.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 09:29:50

Modified files:
	security/distorm3: Makefile distinfo 

Log message:
Update to distorm3-3.3.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 09:34:42

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
sanitize DIST_SUBDIR as well, which is actually already clean thru
the ports tree


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 09:49:18

Added files:
	textproc/jq/patches: patch-configure 

Log message:
fix configure test to actually emit TLS code.
If the variable is static, clang optimizes it all away!


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 10:02:04

Added files:
	multimedia/ogmrip/patches: patch-libogmrip_ogmrip-encoding_h 

Log message:
somewhat non trivial patch for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 10:05:06

Modified files:
	x11/qt5/qtbase/patches: patch-mkspecs_openbsd-clang_qmake_conf 

Log message:
qmake does really weird things with includes. We have to register
/usr/include/c++/v1  in order for net/transmission and others to build


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 10:36:01

Modified files:
	infrastructure/mk: bsd.port.mk modules.port.mk 

Log message:
crude mechanism to choose gcc4 or base clang automatically
ports clang turns out to be more complicated... we'll see what we do with
it later


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 10:56:59

Modified files:
	infrastructure/mk: modules.port.mk 

Log message:
fix logic for !clang


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/12 11:35:34

Modified files:
	usr.bin/mandoc : Makefile 

Log message:
Fix the man.cgi target after the recent file additions;
this didn't break the build because it's not built by default.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/12 11:56:39

Modified files:
	usr.bin/mandoc : html.c mdoc_html.c 

Log message:
Make the tag column in .Bl -tag lists wider:
1. I forgot about the 2n padding between tag and body.
2. The factor 1.1 was too small for bold fold, make it *1.15 + 1n.
Ugliness spotted by tb@.


CVSROOT:	/cvs
Module name:	src
Changes by:	mestre@cvs.openbsd.org	2017/05/12 12:03:00

Modified files:
	usr.sbin/user  : user.c 

Log message:
Replace memset(3) with explicit_bzero(3) on user(8) on sensitive data
(passwords) as soon as they are not needed on memory anymore.

OK millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 12:18:09

Modified files:
	infrastructure/mk: bsd.port.mk 
	databases/sqlports: Makefile 
	databases/sqlports/files: Info.pm TreeWalker.pm 
	databases/sqlports/pkg: DESCR-compact DESCR-main 

Log message:
support WANT_CXX and LIBECXX in sqlports


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 12:19:42

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
forgot to commit CXX11 list


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 12:23:59

Modified files:
	x11/qt5/qtbase/pkg: PLIST-main 

Log message:
add the clang files


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/12 12:33:13

Modified files:
	.              : cvsync.html 
	build/mirrors  : cvsync.html.head 

Log message:
four repos are available, not six.

reported by multiplexd at gmx.com


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/12 13:15:22

Modified files:
	sys/net        : fq_codel.c fq_codel.h 

Log message:
Export delay statistics instead of bucket information


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 13:21:42

Modified files:
	security/p5-File-Scan-ClamAV: Makefile distinfo 

Log message:
Update to p5-File-Scan-ClamAV-1.95.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/12 13:25:19

Modified files:
	sys/arch/amd64/amd64: copy.S 

Log message:
Make copyin(9) and copyout(9) atomic for naturally aligned 32-bit words.

ok mpi@, visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 13:49:54

Modified files:
	textproc/p5-HTML-Summary: Makefile distinfo 
	textproc/p5-HTML-Summary/pkg: PLIST 

Log message:
Update to p5-HTML-Summary-0.022.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 14:00:43

Modified files:
	textproc/p5-Text-vCard: Makefile distinfo 

Log message:
Update to p5-Text-vCard-3.09.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 14:11:58

Modified files:
	textproc/p5-XML-RSS: Makefile distinfo 

Log message:
Update to p5-XML-RSS-1.59.


CVSROOT:	/cvs
Module name:	src
Changes by:	gilles@cvs.openbsd.org	2017/05/12 14:15:52

Modified files:
	usr.sbin/smtpd : smtpd.c 

Log message:
queue is not owned by _smtpd but _smtpq so a bug in lookup process does not
allow read/write of envelopes and messages, unfortunately the purge_task()
function which is in charge of garbage collecting left-overs from aborted
transactions is still executed as _smtpd preventing it from working.

issue reported by Philippe Meunier, fix from Edgar Pettijohn


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 14:19:48

Modified files:
	textproc/p5-XML-XPath: Makefile distinfo 
	textproc/p5-XML-XPath/pkg: PLIST 

Log message:
Update to p5-XML-XPath-1.40.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/12 14:27:25

Modified files:
	math/sc        : Makefile 
	math/sc/patches: patch-Makefile patch-abbrev_c patch-help_c 
	                 patch-lex_c patch-psc_c patch-sc_c patch-sc_doc 
	                 patch-sc_h patch-torev patch-vi_c 
	                 patch-xmalloc_c 
Added files:
	math/sc/patches: patch-cmds_c patch-color_c patch-frame_c 
	                 patch-gram_y patch-interp_c patch-pipe_c 
	                 patch-range_c patch-screen_c patch-sort_c 
	                 patch-vmtbl_c 

Log message:
Fix missing return values, missing prototypes, missing includes; for clang.
Also fix numerous harmless warnings since they drown out the important ones.
Fix code bugs revealed in the process.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/12 14:34:29

Modified files:
	sys/netinet    : tcp_usrreq.c 

Log message:
Use the common switch(af) construct for address family specific
code in tcp_usrreq(PRU_CONNECT).  Do not access sockaddr_in before
checking the address family.  Return EAFNOSUPPORT error in the
default case.
OK mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/12 14:49:20

Modified files:
	share/man/man7 : ports.7 

Log message:
No more CD-ROM releases, and advertise HTTP for
package download rather than FTP.  Based on a patch
from <timo dot myyra at wickedbsd dot net>, tweaked by me.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/12 14:54:50

Modified files:
	www/p5-WWW-Search: Makefile distinfo 

Log message:
Update to p5-WWW-Search-2.517.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 15:25:00

Modified files:
	games/xbattle/patches: patch-command_c patch-draw_c patch-edit_c 
	                       patch-error_c patch-extern_h patch-init_c 
	                       patch-main_c patch-replay_c patch-shape_c 
	                       patch-utils_c patch-window_c 
Added files:
	games/xbattle/patches: patch-load_c patch-parse_c 
	                       patch-shape_diamond_c patch-shape_hex_c 
	                       patch-shape_octagon_c 
	                       patch-shape_square_c 
	                       patch-shape_triangle_c patch-update_c 

Log message:
give prototypes/forward declarations until clang stops warnings.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 15:26:32

Modified files:
	editors/emacs21: Makefile 
	editors/emacs21/patches: patch-src_s_openbsd_h 

Log message:
clang can't link with gcc, so add the missing define in the clang case.
and it can't optimize malloc too much, or the undump magic fails.
(thanks to kettenis@ for the second part)


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/12 15:41:47

Modified files:
	security/tcltls: Makefile 
	security/tcltls/patches: patch-configure 
	security/tcltls/pkg: PLIST 

Log message:
Stop treating loadable lib as linkable lib.

ok sebastia@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/12 15:44:33

Modified files:
	lang/tcl/8.5   : Makefile distinfo 
	lang/tcl/8.5/patches: patch-unix_Makefile_in 
	lang/tcl/8.5/pkg: PLIST 

Log message:
Update to 8.5.19.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/12 15:44:44

Modified files:
	x11/tk/8.5     : Makefile distinfo 
	x11/tk/8.5/pkg : PLIST 

Log message:
Update to 8.5.19.


CVSROOT:	/cvs
Module name:	src
Changes by:	jcs@cvs.openbsd.org	2017/05/12 16:16:54

Modified files:
	sys/dev/ic     : nvme.c 

Log message:
subtract one sector from the disk size before passing it back to the
scsi layer, which will add one sector back

fixes incorrect disk size reporting which was causing fdisk to
create a protective MBR of one too many sectors, which caused our
EFI bootloader to fail to recognize it as a GPT disk

ok dlg


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 16:42:46

Modified files:
	usr.bin/tmux   : format.c 

Log message:
Reset updated flag when restarting job so new output is detected,
reported by Gregory Pakosz in GitHub issue 922.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 16:43:15

Modified files:
	usr.bin/tmux   : format.c 

Log message:
Remove an unused variable.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/12 16:43:21

Modified files:
	sys/net        : if_bridge.c 

Log message:
Unify duplicate code from address family switch in bridge_ipsec().
Remove an if condition that cannot happen.
OK mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/12 17:05:58

Modified files:
	sys/netinet    : ip_input.c ip_var.h ipsec_input.c 

Log message:
IPsec packets were passed through ip_input() a second time after
they have been decrypted.  That means that all the IP header fields
were checked twice.  Also fragment reassembly was tried twice.
At pf incoming packets in tunnel mode appeared twice on the enc0
interface, once as IP-in-IP and once as the inner packet.  In the
outgoing path pf only sees the inner packet.  Asymmetry is bad for
stateful filtering.
IPv6 shows that IPsec works without that.  After decrypting immediately
continue with local delivery.  In tunnel mode the IP-in-IP protocol
functions pass the inner header to ip6_input().  In transport mode
only pf_test() has to be called for the enc0 device.
Introduce ip_local() to avoid needless processing and cleaner pf
behavior in IPv4 IPsec.
OK mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 17:06:43

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Can scroll away full lines to clear them too.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 17:09:25

Modified files:
	graphics/luvcview/patches: patch-v4l2uvc_h 

Log message:
get rid of trivial nested function as clang does not support them


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/12 17:10:19

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Compare >= for columns not >.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 17:10:26

Added files:
	graphics/luvcview/patches: patch-v4l2uvc_c 

Log message:
get rid of trivial nested function, as clang does not support this extension


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 17:47:57

Modified files:
	security/botan2/patches: patch-configure_py 

Log message:
buggy configure, add support for -L, as clang will not link with /usr/local
by default.

(patch sent to upstream)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 18:15:38

Modified files:
	multimedia/streamdvd: Makefile 
	multimedia/streamdvd/patches: patch-Makefile 
Added files:
	multimedia/streamdvd/patches: patch-mplex_lpcmstrm_in_cpp 
	                              patch-mplex_mplex_cpp 

Log message:
make it build with clang, give it a proper makefile, separate C from C++,
add the required extern C, and fix one strrchr...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/12 19:52:38

Modified files:
	telephony/libzrtp: Makefile 
	telephony/libzrtp/patches: patch-third_party_bnlib_Makefile_in 

Log message:
tweak makefile so that we can substitute -lcompiler_rt for -lgcc
fixes build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/05/13 01:11:29

Modified files:
	lib/libc/stdlib: malloc.c posix_memalign.3 

Log message:
- fix bug wrt posix_memalign(3) of blocks between half a page and a page
- document posix_memalign() does not play nice with reacallocarray(3) and
freezero(3)


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/13 01:30:50

Modified files:
	usr.bin/tmux   : grid.c tty.c 

Log message:
Some other unused variables.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 01:40:44

Modified files:
	audio/p5-Audio-Musepack: Makefile distinfo 
	audio/p5-Audio-Musepack/pkg: PLIST 

Log message:
Update to p5-Audio-Musepack-1.0.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/13 01:41:59

Modified files:
	usr.bin/tmux   : tty.c 

Log message:
Scroll the right number of lines off the region when clearing.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 01:45:07

Modified files:
	net/iperf/patches: patch-configure_ac 

Log message:
fix build with clang, just remove nonsensical configure fragment


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 01:52:16

Modified files:
	devel/p5-Context-Preserve: Makefile distinfo 

Log message:
Update to p5-Context-Preserve-0.02.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 01:57:58

Added files:
	mail/mimetic/patches: patch-mimetic_os_mmfile_cxx 

Log message:
trivial patch for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 01:57:59

Modified files:
	devel/p5-IPC-Run: Makefile distinfo 

Log message:
Update to p5-IPC-Run-0.96.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 02:20:33

ports/games/qgo/patches

Update of /cvs/ports/games/qgo/patches
In directory cvs.openbsd.org:/tmp/cvs-serv79203/patches

Log Message:
Directory /cvs/ports/games/qgo/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 02:21:07

Added files:
	games/qgo/patches: patch-src_matrix_cpp patch-src_tree_cpp 

Log message:
iostream.h is dead, deal with it


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 02:37:23

Modified files:
	devel/p5-MooseX-Traits: Makefile distinfo 
	devel/p5-MooseX-Traits/pkg: PLIST 

Log message:
Update to p5-MooseX-Traits-0.13.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/13 02:44:52

Modified files:
	graphics/libgexiv2: Makefile distinfo 
	graphics/libgexiv2/pkg: PLIST 

Log message:
Update to libgexiv2-0.10.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/13 02:51:57

Modified files:
	devel/py-backports-functools-lru-cache: Makefile distinfo 
	devel/py-backports-functools-lru-cache/pkg: PLIST 

Log message:
Update to py-backports-functools-lru-cache 1.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 02:53:15

Modified files:
	devel/p5-Path-Tiny: Makefile distinfo 

Log message:
Update to p5-Path-Tiny-0.104.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 02:53:52

Added files:
	www/mongrel2/patches: patch-src_mem_align_h 

Log message:
avoid conflict with clang's header version.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/13 02:54:53

Modified files:
	security/gnutls: Makefile distinfo 

Log message:
Update to gnutls-3.5.12.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 03:11:40

Modified files:
	devel/p5-Sys-SigAction: Makefile distinfo 
	devel/p5-Sys-SigAction/pkg: PLIST 

Log message:
Update to p5-Sys-SigAction-0.23.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/13 03:43:45

Modified files:
	devel/leatherman: Makefile distinfo 
	devel/leatherman/pkg: PLIST 

Log message:
- update to leatherman-0.12.1

ok sebastia@ (new maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 03:49:51

Modified files:
	x11/kde4       : kde4.port.mk 
	x11/qt5        : qt5.port.mk 
	devel/atk2mm   : Makefile 
	devel/bullet   : Makefile 
	devel/glib2mm  : Makefile 
	devel/libsigc++-2: Makefile 
	devel/pangomm  : Makefile 
	devel/spidermonkey38: Makefile 
	games/dhewm3   : Makefile 
	graphics/cairomm: Makefile 
	graphics/cfdg  : Makefile 
	graphics/tesseract/tesseract: Makefile 
	mail/mimetic   : Makefile 
	math/ginac     : Makefile 
	multimedia/sfml: Makefile 
	net/bro        : Makefile 
	net/znc        : Makefile 
	print/cups-filters: Makefile 
	security/botan2: Makefile 
	textproc/enchant: Makefile 
	textproc/libxml++: Makefile 
	textproc/libxml++3: Makefile 
	textproc/pdfgrep: Makefile 
	textproc/podofo: Makefile 
	x11/gtk2mm     : Makefile 
	x11/gtk3mm     : Makefile 

Log message:
first batch of WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 03:54:24

Modified files:
	graphics/libgexiv2: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 03:54:48

Modified files:
	security/gnutls: Makefile 

Log message:
use lang/clang if amd64 and system compiler is not clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 03:56:03

Modified files:
	infrastructure/lib/DPB: Distfile.pm 

Log message:
normalize just in case


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/13 04:16:05

Modified files:
	www/lynx       : Makefile distinfo 

Log message:
Update lynx to 2.8.9pl14.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 04:33:14

Modified files:
	audio/moc      : Makefile 
	multimedia/gstreamer1/plugins-good: Makefile 
	x11/wxSVG      : Makefile 
	multimedia/libvpx: Makefile 

Log message:
vpx builds just fine with base clang instead of ports clang, unhardcode
libestdc++ accordingly.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/13 05:06:01

Modified files:
	x11/qt5/qtbase : Makefile 

Log message:
missing bump after addition of the clang files; ok espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/13 05:21:32

Modified files:
	sysutils/consul: Makefile 
	sysutils/consul/files: config.json.in 

Log message:
Drop the deprecated bootstrap option (bootstrap_expect is preferred
nowadays) and run in client mode by default.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/13 05:30:54

Modified files:
	x11/gnome/documents: Makefile 

Log message:
Missing BDEP and RDEP on devel/libgdata (for introspection).

breakage reported by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/13 06:25:55

Modified files:
	sys/dev/fdt    : rkpinctrl.c 

Log message:
Handle drive strength.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 06:34:01

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
ouch, WANT_CXX should trigger modules.port.mk
didn't run into that because my test cases had other modules


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/13 06:53:22

Modified files:
	x11/gnome/documents: Makefile 

Log message:
And another one spotted by naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/13 07:18:25

Modified files:
	www/racktables : Makefile distinfo 
	www/racktables/pkg: PLIST 

Log message:
update to RackTables-0.20.13


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 07:19:42

Modified files:
	net/queryperf  : Makefile 

Log message:
Update licence spotted by sthen@, thanks !


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/13 07:25:41

Modified files:
	security/py-passlib: Makefile 

Log message:
add py-bcrypt as an RDEP as it's quite a common backend to use on OpenBSD

as discussed with and OK sthen@ (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 08:01:44

Modified files:
	textproc/p5-PPIx-Regexp: Makefile distinfo 

Log message:
Update to p5-PPIx-Regexp-0.051.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 08:11:59

Modified files:
	textproc/tinyxml2: Makefile distinfo 

Log message:
Update to tinyxml2-4.0.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/13 08:38:28

Modified files:
	usr.sbin/pkg_add: pkg_add.1 

Log message:
No more CD releases, and advertise HTTP rather than FTP for packages.
Patch from <Timo dot Myyra at wickedbsd dot net>.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/13 08:42:44

Modified files:
	www/p5-XML-Atom: Makefile distinfo 
	www/p5-XML-Atom/pkg: PLIST 

Log message:
Update to p5-XML-Atom-0.42.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 09:40:27

Modified files:
	productivity/workrave: Makefile 

Log message:
WANT_CXX. Adjust XOPEN_SOURCE to let libc++ work


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 09:44:09

Modified files:
	devel/vte3     : Makefile 
	graphics/nomacs: Makefile 
	multimedia/gstreamer1/mm: Makefile 
	graphics/pdf2djvu: Makefile 
	x11/dbusmenu-qt: Makefile 
	x11/gnome/libgnomecanvasmm: Makefile 
	x11/gnome/system-monitor: Makefile 
	x11/gtkglextmm : Makefile 
	x11/gtksourceviewmm3: Makefile 
	x11/libqaccessibilityclient: Makefile 

Log message:
more WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 09:47:06

Modified files:
	www/webkitgtk4 : Makefile 
Added files:
	www/webkitgtk4/patches: 
	                        patch-Source_WebCore_PAL_pal_CMakeLists_txt 

Log message:
clang does not look into /usr/local by default, so let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 09:47:52

Modified files:
	www/epiphany   : Makefile 

Log message:
same LIBECXX as used by webkitgtk4


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/13 09:50:07

Modified files:
	.              : want.html 

Log message:
my old soekris is on its last leg, now having frequent lock-ups.
could really use a modern replacement.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/13 10:14:41

Modified files:
	regress/sys/crypto/enc: Makefile 

Log message:
Pick aes.c instead of rijndael.c


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 11:40:26

Modified files:
	audio/cantata  : Makefile 
	audio/pavucontrol: Makefile 
	editors/subtitleeditor: Makefile 
	geo/qgis       : Makefile 
	net/owncloudclient: Makefile 
	net/transmission: Makefile 
	print/poppler  : Makefile 
	net/telepathy/folks: Makefile 
	sysutils/gsmartcontrol: Makefile 
	textproc/gtranslator: Makefile 
	www/webkit     : Makefile 
	x11/fsv        : Makefile 

Log message:
more WANT_CXX / LIBECXX


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/13 11:41:57

Modified files:
	sys/netinet    : tcp_usrreq.c 

Log message:
Do not check for mapped addresses in tcp_usrreq(PRU_CONNECT),
this is done in in6_pcbconnect().
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/13 11:42:55

Modified files:
	sys/netinet6   : in6_pcb.c 

Log message:
Do not check for locally bound mapped addresses in in6_pcbconnect(),
this is done during bind(2) in in6_pcbaddrisavail().
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/13 11:44:00

Modified files:
	sys/netinet6   : raw_ip6.c 

Log message:
Check for mapped addesses in rip6_output() like it is done in
udp6_output().  Move the EAFNOSUPPORT error from rip6_usrreq() to
rip6_output() like it is done for UDP.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/13 11:44:38

Modified files:
	sys/netinet6   : udp6_output.c 

Log message:
Return EADDRNOTAVAIL if UDP sendto(2) is used with a mapped address.
OK mpi@


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/13 11:45:20

Modified files:
	.              : errata60.html errata61.html 

Log message:
release freetype errata.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 11:52:28

Modified files:
	graphics/shotwell: Makefile 

Log message:
use LIBECXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 11:53:28

Modified files:
	multimedia/x265: Makefile 

Log message:
builds fine with base clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 11:55:01

Modified files:
	x11/gnome/builder: Makefile 
	x11/gnome/gjs  : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 11:55:40

Modified files:
	x11/gnome/mutter: Makefile 

Log message:
remove more warnings because clang is just better


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 11:56:55

Modified files:
	games/ufoai/base: Makefile 
	games/ufoai/base/patches: patch-build_flags_mk 
Added files:
	games/ufoai/base/patches: 
	                          patch-src_client_battlescape_cl_particle_cpp 
	                          patch-src_client_renderer_r_state_cpp 
	                          patch-src_shared_shared_cpp 
	                          patch-src_shared_sharedptr_h 
	                          patch-src_shared_ufotypes_h 
	                          patch-src_shared_vector_h 
	                          patch-src_tools_memory_cpp 
	                          patch-src_tools_radiant_libs_string_WildcardMatcher_h 
	                          patch-src_tools_radiant_radiant_ui_colourscheme_ColourSchemeManager_h 
	                          patch-src_tools_radiant_radiant_ui_colourscheme_ColourScheme_h 

Log message:
fix configury for clang, fix code for building under more stringent C++11


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/13 12:06:35

Modified files:
	.              : errata60.html errata61.html 

Log message:
fix date.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 12:26:03

Modified files:
	textproc/calibre: Makefile 
	textproc/calibre/patches: patch-setup_build_py 

Log message:
make sure to have correct access to /usr/local, fixes build with clang
also use .beforesubst so regenerating patches is less of a pain


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 12:38:25

Modified files:
	net/minbif/patches: patch-src_server_poll_inetd_cpp 
Added files:
	net/minbif/patches: patch-src_im_request_cpp 
	                    patch-src_irc_dcc_cpp 
	                    patch-src_sockwrap_sockwrap_cpp 

Log message:
missing unistd


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 12:45:38

Added files:
	math/veusz/patches: patch-veusz_helpers_src_qtloops_isnan_h 

Log message:
fix build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 13:07:05

Added files:
	devel/arm-elf/gdb/patches: patch-sim_arm_armsupp_c 

Log message:
return a value, taken from git


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 13:15:41

ports/devel/kf5/kfilemetadata/patches

Update of /cvs/ports/devel/kf5/kfilemetadata/patches
In directory cvs.openbsd.org:/tmp/cvs-serv9395/patches

Log Message:
Directory /cvs/ports/devel/kf5/kfilemetadata/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 13:17:44

Added files:
	devel/kf5/kfilemetadata/patches: patch-src_xattr_p_h 

Log message:
missing include


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 13:28:24

Modified files:
	devel/msp430/binutils: Makefile 

Log message:
Werror considered harmful


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 13:40:22

Modified files:
	infrastructure/bin: update-patches 

Log message:
bogus fuzz for two lines cases


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/13 13:54:28

Modified files:
	x11/sct        : Makefile distinfo 
	x11/sct/pkg    : PLIST 

Log message:
update to 0.4

ok rsadowski


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 14:11:24

Modified files:
	emulators/simh : Makefile 

Log message:
clang just does not do lto in our configuration


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 14:28:37

Modified files:
	emulators/stella: Makefile 
Added files:
	emulators/stella/patches: patch-Makefile 

Log message:
don't try to compile C files with c++, clang really doesn't like that.
Fix the flags so that png is found again.
Unconfuse LDFLAGS and CXXFLAGS>


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 14:59:05

Modified files:
	emulators/vbam : Makefile 
Added files:
	emulators/vbam/patches: patch-fex_fex_blargg_common_h 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 15:56:14

Modified files:
	games/dustrac/patches: patch-CMakeLists_txt 

Log message:
simple fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/13 16:00:23

Modified files:
	games/extremetuxracer: Makefile 
Added files:
	games/extremetuxracer/patches: patch-src_quadtree_cpp 

Log message:
clang: pointer comparison
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	stsp@cvs.openbsd.org	2017/05/13 16:27:20

Modified files:
	net/olsrd      : Makefile distinfo 
	net/olsrd/patches: patch-make_Makefile_obsd 
	                   patch-src_cfgparser_local_mk 
	                   patch-src_plugin_loader_c 
	net/olsrd/pkg  : PLIST-main 
Added files:
	net/olsrd/patches: patch-src_bsd_kernel_routes_c 
	                   patch-src_bsd_net_c patch-src_olsr_random_h 
	                   patch-src_unix_ifnet_c 
	net/olsrd/pkg  : olsrd.rc 
Removed files:
	net/olsrd/pkg  : DESCR-plugins MESSAGE-main PLIST-plugins 

Log message:
Update our very much outdated net/olsrd port to current release 0.9.0.3.
Add patches for rdomain support and a few bug fixes.
Roll the -plugins subpackage into -main, and add an rc.d script.

Lightly tested in Berlin's Freifunk OLSR mesh over ral(4) in IBSS mode.

martin@ has rescinded maintainership which I am taking over.
ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jsg@cvs.openbsd.org	2017/05/14 00:40:35

Modified files:
	devel/sdl2     : Makefile 
Added files:
	devel/sdl2/patches: patch-include_SDL_endian_h 

Log message:
Use endian.h to determine endianess instead of an incomplete list of
arch ifdefs which didn't cover powerpc.

From Donovan Watteau.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/14 03:01:31

Modified files:
	devel/tcllib   : Makefile distinfo 
	devel/tcllib/patches: patch-installer_tcl 
	                      patch-support_installation_actions_tcl 
	                      patch-support_installation_modules_tcl 
	devel/tcllib/pkg: PLIST 

Log message:
Update to 1.18pl0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/14 03:02:01

Modified files:
	devel/tklib    : Makefile distinfo 
	devel/tklib/patches: patch-support_installation_modules_tcl 
	devel/tklib/pkg: PLIST 

Log message:
Update to 0.6pl3.


CVSROOT:	/cvs
Module name:	ports
Changes by:	gsoares@cvs.openbsd.org	2017/05/14 05:27:52

Modified files:
	devel/cppcheck : Makefile distinfo 
	devel/cppcheck/pkg: PLIST 

Log message:
update to cppcheck-1.79


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/14 05:36:20

Modified files:
	devel/py-certifi: Makefile distinfo 

Log message:
Bump to 2017.4.17

OK shadchin@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/14 05:37:18

Modified files:
	sysutils/py-elasticsearch-curator: Makefile distinfo 

Log message:
Small update to 5.0.2, now requires just updated py-certifi


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/14 05:38:48

Modified files:
	sysutils/py-elasticsearch-curator: Makefile 

Log message:
Require right version of py-certifi, bump REVISION


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/14 06:01:52

Modified files:
	share/man/man5 : printcap.5 

Log message:
Default lpd spool directory is /var/spool/output/lpd.

reported by martin at martinbrandenburg dot com
ok tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/14 06:02:03

Modified files:
	games/galois   : Makefile 
Added files:
	games/galois/patches: patch-src_grid_h 

Log message:
most esoteric fix ever for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/14 06:17:47

Modified files:
	sys/dev/pv     : vioscsi.c 

Log message:
Align vioscsi's bus_dma* dancing with vioblk. Eliminates
creating/destroying maps on each i/o.

ok sf@, "makes sense" dlg@ as part of larger diff.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 06:26:59

Modified files:
	usr.bin/mandoc : html.c 

Log message:
Tweak previous: tb@ noticed that some browser/font combinations
have so amazingly wide bold fonts (for the same nominal font size)
that adding 15% to the column width still isn't sufficient to make
text reliably fit, so go for 20%.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/14 06:43:55

Modified files:
	infrastructure/lib/DPB: Heuristics.pm 

Log message:
when requeuing, all infos are not defined for all paths.
this is just a heuristics, so it doesn't matter, but the least
we can do is not crash


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 07:20:02

Modified files:
	regress/usr.bin/mdoclint: mdoclint mdoclint.1 

Log message:
remove the -s option, it is fully covered by mandoc -Tlint;
OK jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 07:59:53

Modified files:
	usr.bin/mandoc : mdoc_validate.c 

Log message:
warn about punctuation between .Xr and .Rs in SEE ALSO;
inspired by mdoclint


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/14 08:04:00

ports/net/tcl-snmptools/patches

Update of /cvs/ports/net/tcl-snmptools/patches
In directory cvs.openbsd.org:/tmp/cvs-serv88118/patches

Log Message:
Directory /cvs/ports/net/tcl-snmptools/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/14 08:06:38

Modified files:
	net/tcl-snmptools: Makefile 
	net/tcl-snmptools/pkg: PLIST 
Added files:
	net/tcl-snmptools/patches: patch-configure 

Log message:
Stop treating loadable lib as linkable lib.
Better install dir. Slight Makefile tidy. Separated build.

ok matthieu@ (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/14 08:20:46

Modified files:
	www/py-beautifulsoup4: Makefile distinfo 

Log message:
Update to py-beautifulsoup4 4.6.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 08:30:03

Modified files:
	devel/openmpi  : Makefile 

Log message:
unimportant blank line differences only, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 09:46:10

Modified files:
	archivers/luazlib/patches: patch-test_lua 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 10:36:55

Modified files:
	net/prosody    : Makefile distinfo 
	net/prosody/patches: patch-certs_Makefile patch-prosody 
	                     patch-tests_test_lua 

Log message:
Update to prosody-0.9.12

From Henrik Friedrichsen (maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 10:37:07

Modified files:
	editors/se     : Makefile 

Log message:
identical output, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 10:37:52

Modified files:
	x11/ogle       : Makefile 

Log message:
unimportant whitespace differences only, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 10:39:02

Added files:
	net/prosody/patches: patch-tests_run_tests_sh 
Removed files:
	net/prosody/patches: patch-prosody 

Log message:
Missed in previous


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 10:43:33

Modified files:
	net/openvpn    : Makefile distinfo 
	net/openvpn/patches: patch-configure 

Log message:
Security update to openvpn-2.4.2

OK gonzalo@ jca@ (maitainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 11:41:27

Modified files:
	archivers/lha  : Makefile 

Log message:
groff is actually unused, drop USE_GROFF, no package change, no bump:
man/mann/lha.n is commented out in the PLIST
man/ja_JP.EUC/man1/lha.1 is installed unformatted even with USE_GROFF


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 11:45:21

Modified files:
	print/py-relatorio: Makefile distinfo 
	print/py-relatorio/pkg: PLIST 

Log message:
Update to py-relatorio-0.6.4

From semarie


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 11:45:52

Modified files:
	graphics/pycha : Makefile distinfo 
	graphics/pycha/pkg: PLIST 

Log message:
Update to pycha-0.7.0

From semarie


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/14 11:49:27

Modified files:
	devel/uthash   : Makefile distinfo 
	devel/uthash/patches: patch-tests_Makefile 

Log message:
Update devel/uthash to 2.0.2, and take maintainership.

Also remove the unneeded PORTHOME directive.


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/14 12:37:08

Modified files:
	sysutils/duplicity: Makefile distinfo 
Removed files:
	sysutils/duplicity/patches: 
	                            patch-testing_functional_test_restart_py 

Log message:
Update to duplicity-0.7.12


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/14 12:51:22

Modified files:
	net/librsync   : Makefile 
Added files:
	net/librsync/patches: patch-src_search_c 

Log message:
Fix a crash that can affect duplicity.

Problem reported by danj@, already fixed upstream.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/14 13:46:38

Modified files:
	databases/p5-DBIx-Class-Cursor-Cached: Makefile distinfo 

Log message:
Update to p5-DBIx-Class-Cursor-Cached-1.001004.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 13:49:29

Modified files:
	japanese/Wnn   : Makefile 
	japanese/kakasi: Makefile 

Log message:
groff is not used at all, so delete USE_GROFF;
no package change, no bump;
OK espie@ (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 13:53:58

Modified files:
	japanese/canna : Makefile 

Log message:
This port runs groff (along with jnroff) during the "build" target,
not during the "package" target, so "BUILD_DEPENDS += textproc/groff"
makes more sense than "USE_GROFF = Yes".
No package change, no bump.
OK espie@ (MAINTAINER)


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/14 13:54:42

Modified files:
	devel/p5-IO-Pager: Makefile distinfo 
	devel/p5-IO-Pager/pkg: PLIST 

Log message:
Update to p5-IO-Pager-0.39.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 14:02:00

Modified files:
	regress/usr.bin/mdoclint: mdoclint mdoclint.1 

Log message:
delete the -a option, it's now fully covered by mandoc -Tlint;
OK jmc@ wiz@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/14 14:06:50

Modified files:
	devel/p5-Term-Shell: Makefile distinfo 
	devel/p5-Term-Shell/pkg: PLIST 

Log message:
Update to p5-Term-Shell-0.09.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/14 14:36:21

Modified files:
	sysutils/facter: Makefile distinfo 
	sysutils/facter/patches: patch-lib_CMakeLists_txt 
Added files:
	sysutils/facter/patches: patch-lib_src_facts_posix_cache_cc 

Log message:
Update to 3.6.4

Since 3.5, facts can be configured to be cached in facter.conf,
cached facts are stored in ${LOCALSTATEDIR}/puppetlabs/facter/cached_facts/

Feedback jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/14 15:16:52

ports/textproc/tinyxml2/patches

Update of /cvs/ports/textproc/tinyxml2/patches
In directory cvs.openbsd.org:/tmp/cvs-serv5470/patches

Log Message:
Directory /cvs/ports/textproc/tinyxml2/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/14 15:18:05

Modified files:
	textproc/tinyxml2: Makefile 
Added files:
	textproc/tinyxml2/patches: patch-xmltest_cpp 

Log message:
unbreak on 32-bit


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/14 15:24:13

Modified files:
	sysutils/mcollective: Makefile distinfo 

Log message:
simple update to 2.10.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/14 15:24:59

Modified files:
	infrastructure/bin: register-plist 

Log message:
allow register-plist to display a diff even without write access to
the plist directory.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/14 17:12:55

Modified files:
	korean/hanterm-xf: Makefile 

Log message:
Translate the manual page from EUC-KR to UTF-8 using iconv(1) at build
time and install the unformatted version to be processed by mandoc(1)
at run time rather than misformatting it with USE_GROFF.
OK Jung Lee (MAINTAINER) and naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	stu@cvs.openbsd.org	2017/05/14 22:05:55

Modified files:
	textproc/pdf4tcl: Makefile distinfo 
	textproc/pdf4tcl/pkg: DESCR 

Log message:
Update to 0.9.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/15 01:54:44

Modified files:
	usr.bin/tmux   : tmux.1 tmux.h tty.c 

Log message:
The Konsole SU bug means it can't clear the entire scroll region (it
ignores if >= size, not if > as I first thought). So we can't
effectively fix it in code - remove the workarounds which just cause
bugs on other terminals.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 03:17:33

Modified files:
	sys/arch/mips64/include: atomic.h 

Log message:
Make atomic.h ready to be included in userland.

- keep setbits/clearbits inside _KERNEL

ok visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/15 04:02:02

Modified files:
	geo/mapserver  : Makefile distinfo 
	geo/mapserver/patches: patch-CMakeLists_txt 
Removed files:
	geo/mapserver/patches: patch-cmake_FindPHP5_cmake patch-mapwms_c 

Log message:
Bugfix update to mapserver 7.0.5.

See
http://mapserver.org/development/changelog/changelog-7-0.html#changelog-7-0-5


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/15 04:27:29

Modified files:
	x11/kde4/cantor: Makefile 

Log message:
Prior to the last commit to ../kde4.port.mk (r1.35) the fortran-related
WANTLIBs of gcc4.port.mk weren't getting used for some reason. Bump REVISION
because WANTLIB has now changed (specifically, quadmath is now listed on
i386/amd64 whereas it wasn't before).


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/15 04:40:47

Modified files:
	usr.sbin/httpd : server_http.c 

Log message:
Avoid a crash servicing requests when a server is configured with
"block return 401".  Problem reported by Jurjen Oskam.
ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 04:52:08

Modified files:
	sys/dev/usb    : ehci.c ohci.c uhci.c usbdi.c usbdi.h 
	sys/dev/usb/dwc2: dwc2.c 

Log message:
Replace remaining SPLUSBCHECK by a splsoftassert(IPL_SOFTUSB).

USB is the last real user of IPL_SOFTNET.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 05:05:51

Modified files:
	sys/dev/usb    : usbdi.h 

Log message:
Use splraise() rather than splsoftnet() which is going away.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/15 05:23:25

Modified files:
	sbin/pfctl     : parse.y pfctl.c pfctl_parser.c pfctl_queue.c 
	sys/conf       : files 
	sys/net        : pf_ioctl.c pfvar.h 

Log message:
Hook up FQ-CoDel to the tree and enable configuration in the pfctl(8)

OK sthen, visa


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/15 05:24:37

Modified files:
	share/man/man5 : pf.conf.5 

Log message:
Document the new flow queue specification

With input and OK sthen


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/15 05:59:30

Modified files:
	sys/net        : fq_codel.c 

Log message:
clang warns on unused static const variables.  Remove one such unused
variable so the kernel will build on arm64 again.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 06:26:01

Modified files:
	sys/kern       : uipc_socket.c uipc_socket2.c 
	sys/net        : if.c if_pflow.c pf.c pf_ioctl.c pf_norm.c 
	                 pfvar.h 
	sys/sys        : systm.h 
	sys/uvm        : uvm_vnode.c 

Log message:
Enable the NET_LOCK(), take 3.

Recursions are still marked as XXXSMP.

ok deraadt@, bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/15 06:50:48

Modified files:
	x11/kde4/cantor: Makefile 

Log message:
explicitly list gcc4 MODULES in x11/kde4/cantor, this needs fortran so always
needs the gcc4 module - it won't come in via WANT_CXX on arches where clang
is the primary compiler in base. ok espie


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 06:57:42

Modified files:
	sys/net        : if_bridge.c 

Log message:
bridge_ioctl() doesn't need to call splnet().

All interface ioctl()s are executed with the NET_LOCK() held, which
protects all soft states of the network stack.  IPL_NET is only needed
in drivers dealing with hardware and by extension the wireless stack.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 07:00:10

Modified files:
	sys/kern       : uipc_socket.c 

Log message:
so_splicelen needs to be protected by the socket lock.  We are now
safe since we're always holding the KERNEL_LOCK() but we want to move
away from that.

Suggested by and ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/15 07:10:33

Modified files:
	regress/sys/net/pf_forward: Makefile 

Log message:
Use netcat options -n, -W, -w to simplify test.  Wrap long lines.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 07:36:05

Modified files:
	regress/usr.bin/mdoclint: mdoclint 

Log message:
Delete the obsolete 9-argument-check for .Sh.
Delete the section ordering check covered by mandoc.
Some simplifications and forgotten -a cleanup.
OK jmc@ wiz@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 08:03:53

Modified files:
	sys/net        : if_mpw.c 

Log message:
if_input() doesn't need splnet().

ok rzalamena@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/15 08:09:13

Modified files:
	sys/net        : if_gre.c 

Log message:
Protect the gloal list of gre(4) interfaces by the NET_LOCK().

ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/15 08:18:42

Modified files:
	net            : Makefile 
Removed files:
	net/sharity-light: Makefile distinfo 
	net/sharity-light/files: Makefile.unshlight unshlight.c 
	net/sharity-light/patches: patch-README patch-nfs-version 
	                           patch-rumba_c 
	net/sharity-light/pkg: DESCR PLIST 

Log message:
Remove the old SMB1->NFS translator sharity-light. No support for encrypted
passwords (required by default since NT4 SP3 and dangerous to disable) so
very limited server support. SMB1 needs to die anyway. And even when it
worked, it never really worked particularly well.  ok ajacoutot@ jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/15 08:30:56

Modified files:
	net/openvpn    : Makefile 
Added files:
	net/openvpn/patches: patch-include_openvpn-plugin_h_in 

Log message:
openvpn-plugin.h now makes use of size_t, so include stddef.h

Unbreaks openvpn-auth-ldap.  Reported by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/15 08:33:20

Modified files:
	sys/net        : if_gre.c 

Log message:
Remove unused variable mobileip_softc_list.
OK mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/15 08:37:41

Modified files:
	textproc/calibre: Makefile distinfo 
	textproc/calibre/patches: patch-src_calibre_gui2___init___py 
	textproc/calibre/pkg: PLIST 

Log message:
update to calibre-2.85.1


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/15 08:57:29

Modified files:
	usr.bin/tmux   : layout-set.c 

Log message:
Notify layout changed when choosing predefined layouts, from Joshua Brot.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/15 09:10:27

Modified files:
	sysutils/rcm   : Makefile distinfo 

Log message:
Update to rcm-1.3.1

Same patch from maintainer Mike Burns mike+openbsd <at> mike-burns.com with
addition NO_TEST from me. Thanks!

ok sthen@, "looks okay" @landry


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 09:14:11

Modified files:
	usr.sbin/pkg_add/OpenBSD: PackingElement.pm 

Log message:
Properly register manual pages in non-English language directories.
Before this, pkg_add(1) neglected running makewhatis(8) in directories
like /usr/local/man/ru/.
OK espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/15 09:15:44

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
quirk for sharity-light, reminded by aja@


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/15 10:24:44

Modified files:
	sbin/pfctl     : pfctl_queue.c 

Log message:
Put the closing parenthesis in the right spot and fix std-dev calculation


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/15 10:39:58

Modified files:
	audio/wavpack  : Makefile 
Added files:
	audio/wavpack/patches: patch-cli_Makefile_am 

Log message:
Disable wavpack's internal MD5 implementation in favour of the one in libc,
the internal one has problems with strict alignment architectures. Reported by
Graham Stevens, help from juanfra@, ok tim@ (maintainer).


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/15 10:44:04

Modified files:
	usr.bin/tmux   : tmux.h tty-acs.c tty-term.c tty.c 

Log message:
Check the terminfo(5) U8 capability and disable using UTF-8 for ACS if
it is present and zero. This is useful for users with terminals or fonts
that do not correctly support UTF-8 line drawing characters. GitHub
issue 927, reported by Hiroaki Yamazoe and Akinori Hattori.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/15 10:55:53

Modified files:
	distrib/miniroot: install.sub 

Log message:
- Move the dmesg listener code into it's own start_dmesg_listener() function.
- Add -f option to rm in unlock() to be able to use it in the new function.

OK halex@, krw@, tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/15 10:56:42

Modified files:
	sbin/pfctl     : pfctl_parser.c 

Log message:
Fixup printing of queue bandwidth specifications

Reported by Carl Mascott, thanks!  OK sthen


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/15 11:02:48

Modified files:
	distrib/miniroot: install.sub 

Log message:
- move NIFS into the block of global variables
- sort global variable block alphabetically


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/15 11:12:25

Modified files:
	distrib/miniroot: install.sub 

Log message:
- export EDITOR and COLUMNS on assignment
- move EDITOR into the block of global variables and export
- break long line in COLUMNS assignment


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/15 11:16:31

Modified files:
	share/man/man5 : pf.conf.5 

Log message:
tweak previous; ok mikeb


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 11:24:48

Modified files:
	regress/usr.bin/mdoclint: mdoclint mdoclint.1 

Log message:
Delete the -H option.
What it did was nothing but bad advice nowadays.
OK jmc@ wiz@


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/15 12:05:34

Modified files:
	lib/libc/stdlib: malloc.3 

Log message:
Typo: freezeo -> freezero

From "fenderq" on freenode via tj@


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 12:26:21

ports/textproc/sim/patches

Update of /cvs/ports/textproc/sim/patches
In directory cvs.openbsd.org:/tmp/cvs-serv88608/patches

Log Message:
Directory /cvs/ports/textproc/sim/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 12:34:20

Modified files:
	textproc/sim   : Makefile 
Added files:
	textproc/sim/patches: patch-sim_1 

Log message:
Fix a small number of syntax errors in the manual page that mangled
the text so much (with both groff and mandoc) that it bacame hard
to understand.  After that, formatting is identical, so drop
USE_GROFF.

While here, update HOMEPAGE and MASTER_SITES, even though our version
of this software is so outdated that it is no longer available even
on the new site.  The old site doesn't exist any longer, at all.


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 12:37:29

Modified files:
	textproc/sim   : Makefile 

Log message:
Gah, i forgot the bump, sorry!


CVSROOT:	/cvs
Module name:	ports
Changes by:	schwarze@cvs.openbsd.org	2017/05/15 12:41:30

Modified files:
	emulators/xcopilot: Makefile 

Log message:
identical formatting, drop USE_GROFF and bump


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/15 12:44:13

Modified files:
	devel/py-country: Makefile distinfo 

Log message:
Update to py-country 17.5.14


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/15 12:51:38

Modified files:
	net/transmission: Makefile 

Log message:
unbreak


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/15 13:02:16

Modified files:
	sys/dev/pv     : vioscsi.c 

Log message:
vioscsi: Fix allocation of segments

Port the logic to calculate the number of segments in virtqueue and
dmamaps from vioblk.

This fixes the virtqueue indirect descriptors being two entries too
small the dmamaps being much larger than necessary.

If the device does not support the required number of segments, refuse
to use it.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/15 13:12:00

Modified files:
	faq            : current.html 

Log message:
due to an off-by-one in the driver, users of nvme(4) with GPT need to do a
backup, re-initialize the GPT and do a fresh install instead of upgrading
to avoid losing data.

with help from jcs


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/15 13:54:22

Modified files:
	graphics/gd    : Makefile distinfo 
Removed files:
	graphics/gd/patches: patch-src_gd_crop_c patch-src_gd_gd2_c 
	                     patch-src_gd_gif_out_c patch-src_webpimg_c 

Log message:
update to gd-2.2.4

SECURITY fix for:
CVE-2016-9317,CVE-2016-6912,CVE-2016-10166,CVE-2016-10167,
CVE-2016-5767,CVE-2016-10168,CVE-2015-8874,CVE-2016-9933

Initial diff from me, diff to replace multimedia/libvpx with
graphics/libwebp from Brad Smith

ok sthen@, "looks okay" @landry


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/15 13:56:03

Modified files:
	cad/pcb        : Makefile 
	converters/libpst: Makefile 
	devel/cvsgraph : Makefile 
	graphics/libgphoto2: Makefile 
	graphics/mscgen: Makefile 
	graphics/p5-GD : Makefile 
	math/gnuplot   : Makefile 
	math/graphviz  : Makefile 
	net/amule      : Makefile 
	net/mldonkey   : Makefile 
	net/rtg        : Makefile 
	print/texlive/base: Makefile 
	sysutils/modlogan: Makefile 

Log message:
Bump REVISION and adjust WANTLIB after gd update

ok sthen@, "looks okay" @landry


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/15 14:09:11

Modified files:
	regress/sys/netinet/ipsec: Makefile 

Log message:
Try to work around a race in the daily test run.  Before killing
tcpdump, sleep a while to collect all data.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/15 14:53:33

Modified files:
	www/ruby-capybara-webkit: Makefile 

Log message:
fix nonsense, you can't run-depend on qt5


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/15 17:04:52

Modified files:
	sys/dev/fdt    : rkclock.c rkclock_clocks.h 

Log message:
Add some SD/MMC controller-related clocks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/15 17:44:41

Modified files:
	net/openvpn    : Tag: OPENBSD_6_1 Makefile distinfo 
	net/openvpn/patches: Tag: OPENBSD_6_1 patch-configure 
	                     patch-src_openvpn_tun_c 
Added files:
	net/openvpn/patches: Tag: OPENBSD_6_1 
	                     patch-include_openvpn-plugin_h_in 

Log message:
MFC SECURITY update to openvpn-2.4.2

Several security fixes after audits by Quarkslabs and Cryptography
Engineering.  At least:

CVE-2017-7478 Don't assert out on receiving too-large control packets
CVE-2017-7479 Drop packets instead of assert out if packet id rolls over

More details:

https://community.openvpn.net/openvpn/wiki/QuarkslabAndCryptographyEngineerAudits
https://community.openvpn.net/openvpn/wiki/ChangesInOpenvpn24

While here, backport a strict alignement fix from stsp@.
ok danj@ pirofti@.  Also add a missing #include to openvpn-plugin.h, to
unbreak net/openvpn-auth-ldap build.


CVSROOT:	/cvs
Module name:	src
Changes by:	jcs@cvs.openbsd.org	2017/05/15 20:22:51

Modified files:
	sys/dev/rasops : rasops.c 

Log message:
when allocating a new screen, only copy the current buffer contents
to it for visible screens (i.e., the console).  initialize other
virtual screens with just blank character cells.

ok mpi


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/15 20:53:28

Modified files:
	sys/arch/amd64/stand/efiboot: efiboot.c 

Log message:
Compare device pathes properly to find the booted disk.
Work with and test by Michele Curti.


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/15 20:56:23

Modified files:
	sys/arch/amd64/stand/efiboot: efidev.c 

Log message:
Tweak previous, s/int/unsigned/, since the format character is %u.


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/15 22:55:27

Modified files:
	usr.bin/openssl: openssl.1 

Log message:
typo: ket -> key.

from "fenderq" on freenode via tj


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/15 23:44:44

Modified files:
	www/youtube-dl : Makefile distinfo 
	www/youtube-dl/pkg: PLIST 

Log message:
update youtube-dl to 2017.05.14

ok pirofti@ (maintainer), jca@


CVSROOT:	/cvs
Module name:	src
Changes by:	ratchov@cvs.openbsd.org	2017/05/15 23:48:07

Modified files:
	sys/dev        : audio.c 

Log message:
Remove references to /dev/soundN, which was removed last year.
From Jan Stary <hans at stare.cz>, thanks.


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/15 23:52:52

Modified files:
	lib/libtls     : tls_ocsp.c 

Log message:
Plug a memory leak. The main_cert needs to be X509_free()ed since
SSL_get_peer_certificate() increases the ref count whereas extra_certs
do not because SSL_get_peer_cert_chain() won't increase ref counts.
OK beck@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 01:26:51

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.49.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 01:27:03

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.86.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 01:43:48

Modified files:
	x11/gnome/builder: Makefile 
Added files:
	x11/gnome/builder/patches: 
	                           patch-plugins_todo_todo_plugin___init___py 

Log message:
Needs GNU grep(1).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 02:00:54

Modified files:
	print/cups-filters: Makefile distinfo 

Log message:
Update to cups-filters-1.14.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/16 02:11:27

Modified files:
	net/libmaxminddb: Makefile distinfo 

Log message:
Update libmaxminddb to 1.2.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/16 02:28:08

Modified files:
	devel/p5-Devel-StackTrace-AsHTML: Makefile distinfo 

Log message:
Update to p5-Devel-StackTrace-AsHTML-0.15.

ok Abel Abraham Camarillo Ojeda (maintainer)


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/16 02:28:29

Modified files:
	sys/netinet    : ip_mroute.c 

Log message:
Call rtfree() after each use of routes and make sure the route is valid
when finding one. Since rtfree() is being called and rt_llinfo being
removed, add checks everywhere to make sure we are using a route that is
not being removed.

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/16 02:32:17

Modified files:
	sys/netinet    : ip_mroute.c 

Log message:
Let malloc() block when the caller of the add route function is
setsockopt(), otherwise use non-blocking malloc() for network stack
calls.

ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 02:45:32

Modified files:
	net/samba      : Makefile 
	net/samba/pkg  : PLIST-tevent 

Log message:
/usr/local/include/samba-4.0/ was not registered in any subpackage; make
-tevent own it since all include/samba-4.0 consumers depend on it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/16 02:45:54

Modified files:
	games/wtf      : Makefile distinfo 

Log message:
Update to wtf-20170512.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 02:47:22

Modified files:
	net/munin      : Makefile 
	net/munin/pkg  : PLIST-main PLIST-server 

Log message:
/usr/local/libexec/munin/ should be owned by -main, not -server so that it
is properly removed at pkg_delete time.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 02:48:57

Modified files:
	net/munin      : Makefile 
	net/munin/pkg  : PLIST-main PLIST-server 

Log message:
Same for share/examples/munin/ which I missed in previous.


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/16 02:50:18

Modified files:
	sys/netinet6   : ip6_mroute.c ip6_mroute.h 

Log message:
Make the IPv6 multicast routing code use the OpenBSD routing table
instead of implementing its own. This makes the IPv6 multicast routing
code look more like the IPv4 version.

ok bluhm@, mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/16 05:02:44

Modified files:
	net/unifi      : Makefile distinfo 
	net/unifi/pkg  : PLIST 

Log message:
update to unifi 5.4.16, req by Brad


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/16 05:35:36

Modified files:
	sys/net        : if_pflog.c 

Log message:
Kill unused global list and protect global array by the NET_LOCK().

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/16 05:36:17

Modified files:
	sys/net        : if_pflog.h 

Log message:
Remove list member now that the global list is gone.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/16 06:24:04

Modified files:
	sys/net        : bfd.c bridgestp.c if.c if_bridge.c if_pfsync.c 
	                 if_ppp.c if_pppoe.c pf.c pf_if.c pfkey.c 
	                 pfkeyv2.c route.c 
	sys/netinet    : igmp.c in.c ip_input.c ip_ipsp.c ip_mroute.c 
	                 ipsec_input.c ipsec_output.c tcp_timer.c 
	                 tcp_usrreq.c 
	sys/netinet6   : frag6.c in6.c in6_ifattach.c ip6_mroute.c 
	                 mld6.c nd6.c nd6_nbr.c nd6_rtr.c 

Log message:
Replace remaining splsoftassert(IPL_SOFTNET) by NET_ASSERT_LOCKED().

ok visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/16 06:57:26

Modified files:
	usr.bin/tmux   : grid.c server-client.c 

Log message:
Line length and spaces to tabs.


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/16 07:05:07

Modified files:
	sys/netinet    : ip_mroute.c 

Log message:
Make return values more meaningful by using errno instead of -1 or 1.

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/16 07:09:21

Modified files:
	sys/netinet    : ip_mroute.c 

Log message:
Sync three changes that were caught by IPv6 multicast routing review:

* use a variable to allow disabling debugs on run-time
* fix a potential memory leak on copyout() failure
* don't just blindly use the first address provided by ifalist

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/16 07:30:48

Modified files:
	sys/sys        : mutex.h 

Log message:
use _mtx_init instead of __mtx_init inside mtx_init on !WITNESS kernels

_mtx_init uses __MUTEX_IPL to wrap the ipl argument to __mtx_init.
without this, mutexes were initted below the mp floor, which allowed
deadlocks with the kernel lock to occur.

reported by hrvoje popovski and pinpointed by mikeb@
tweaks from phessler@
ok mpi@ visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/16 07:38:36

Modified files:
	infrastructure/mk: arch-defines.mk 

Log message:
put the >=17 there, doesn't change anything in the generated packages


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/16 08:57:28

Modified files:
	math/py-bottleneck: Makefile distinfo 
	math/py-bottleneck/patches: patch-setup_py 

Log message:
Update to py-bottleneck 1.2.1


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/16 09:57:03

Modified files:
	sys/sys        : mbuf.h 

Log message:
Using __aligned(8) to tag 'struct m_hdr' triggers warnings on landisk:

/usr/src/sys/dev/ic/re.c:1602: warning: ignoring alignment for stack allocated 'mh'

So instead add explicit padding on ILP32 systems.

ok deraadt@, mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/16 10:09:49

Modified files:
	print/ghostscript/gnu: Tag: OPENBSD_6_1 Makefile 
Added files:
	print/ghostscript/gnu/patches: Tag: OPENBSD_6_1 
	                               patch-psi_zfrsd_c 
	                               patch-psi_zmisc3_c 

Log message:
Backport CVE-2017-8291 fix from blumh@.

OK ajacoutot@


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/16 10:48:23

ports/devel/p5-Log-Any/patches

Update of /cvs/ports/devel/p5-Log-Any/patches
In directory cvs.openbsd.org:/tmp/cvs-serv61028/patches

Log Message:
Directory /cvs/ports/devel/p5-Log-Any/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/16 10:49:41

Modified files:
	devel/p5-Log-Any: Makefile distinfo 
	devel/p5-Log-Any/pkg: PLIST 
Added files:
	devel/p5-Log-Any/patches: patch-lib_Log_Any_Adapter_Base_pm 
	                          patch-lib_Log_Any_Adapter_Test_pm 
	                          patch-lib_Log_Any_Manager_pm 
	                          patch-lib_Log_Any_Proxy_Test_pm 

Log message:
update to 1.049 and fix man pages


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/16 10:53:37

Log message:
    Import p5-Sub-Quote, a package that provides performant ways
    to generate subroutines from strings.
    
    ok jasper@
    
    Status:
    
    Vendor Tag:	giovanni
    Release Tags:	giovanni_20170516
    
    N ports/devel/p5-Sub-Quote/Makefile
    N ports/devel/p5-Sub-Quote/distinfo
    N ports/devel/p5-Sub-Quote/pkg/PLIST
    N ports/devel/p5-Sub-Quote/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/16 10:54:05

Modified files:
	usr.bin/ssh    : PROTOCOL.certkeys 

Log message:
mention that Ed25519 keys are valid as CA keys; spotted by
Jakub Jelen


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/16 10:55:02

Modified files:
	devel          : Makefile 

Log message:
+p5-Sub-Quote


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/16 10:56:15

Modified files:
	usr.bin/ssh    : kexgexc.c 

Log message:
remove duplicate check; spotted by Jakub Jelen


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/16 10:57:45

Modified files:
	devel/p5-Moo   : Makefile distinfo 
	devel/p5-Moo/pkg: PLIST 

Log message:
Update to 2.003002, now it needs devel/p5-Sub-Quote (previously integrated in Moo)

maintainer timeout
ok jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/16 11:01:35

Modified files:
	devel/p5-Search-Elasticsearch: Makefile distinfo 
	devel/p5-Search-Elasticsearch/pkg: PLIST 

Log message:
update to 5.02
ok jasper@ on a very similar diff


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/16 11:13:52

Modified files:
	productivity/radicale: Makefile distinfo 
	productivity/radicale/pkg: PLIST 

Log message:
Security update to radicale-1.1.2 addressing CVE-2017-8342:

"Radicale before 1.1.2 and 2.x before 2.0.0rc2 is prone to timing oracles and
simple brute-force attacks when using the htpasswd authentication method."

MAINTAINER timed-out
ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/16 11:15:40

Modified files:
	productivity/radicale: Makefile 
	productivity/radicale/patches: patch-config 
	productivity/radicale/pkg: PLIST README 
Added files:
	productivity/radicale/patches: patch-logging 

Log message:
various tweaks:
- install the 'rights' file and update README accordingly
- tune down default logging from DEBUG to INFO

MAINTAINER timed-out
ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/16 11:16:38

Modified files:
	lang/elixir    : Makefile distinfo 

Log message:
update to elixir-1.4.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 11:35:37

Log message:
    Import awless-0.0.23.
    
    awless is a fast, powerful and easy-to-use command line interface (CLI) to
    manage Amazon Web Services. It will help you to:
    <...>
    
    ok robert@
    
    Status:
    
    Vendor Tag:	ajacoutot
    Release Tags:	ajacoutot_20170516
    
    N ports/sysutils/awless/distinfo
    N ports/sysutils/awless/Makefile
    N ports/sysutils/awless/pkg/DESCR
    N ports/sysutils/awless/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/16 11:36:25

Modified files:
	sysutils       : Makefile 

Log message:
+awless


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 11:55:05

Modified files:
	mail/mozilla-thunderbird: Makefile distinfo 
	mail/thunderbird-i18n: Makefile.inc distinfo 

Log message:
Bugfix update to thunderbird 52.1.1.

See https://www.mozilla.org/en-US/thunderbird/52.1.1/releasenotes/


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/16 13:05:36

Modified files:
	usr.bin/mandoc : main.c mandoc.1 mandoc.h read.c 

Log message:
Introduce a new mandoc(1) message level, -W style, below -W warning.
Switch -W all from meaning -W warning to meaning -W style.
The meaning of -T lint does *not* change, it still implies -W warning.
No messages on the new level yet, but they will come.

Usually, i do not lightly make the user interface larger.
But this has been planned for years, and EXIT STATUS 1
was reserved for it all the time.  The message system
is now stable enough to finally implement it.

jmc@ regarding the concept: "really good idea"


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:24:06

ports/devel/py-twisted/pkg

Update of /cvs/ports/devel/py-twisted/pkg
In directory cvs.openbsd.org:/tmp/cvs-serv9887/pkg

Log Message:
Directory /cvs/ports/devel/py-twisted/pkg added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:27:29

Modified files:
	devel/py-twisted: Makefile 
Added files:
	devel/py-twisted/pkg: DESCR PLIST 
Removed files:
	devel/py-twisted: Makefile.inc 
	devel/py-twisted/conch: Makefile 
	devel/py-twisted/conch/pkg: DESCR PLIST 
	devel/py-twisted/core: Makefile 
	devel/py-twisted/core/files: twisted-regen-dropin.cache 
	devel/py-twisted/core/pkg: DESCR PLIST 
	devel/py-twisted/lore: Makefile 
	devel/py-twisted/lore/pkg: DESCR PLIST 
	devel/py-twisted/mail: Makefile 
	devel/py-twisted/mail/pkg: DESCR PLIST 
	devel/py-twisted/names: Makefile 
	devel/py-twisted/names/pkg: DESCR PLIST 
	devel/py-twisted/news: Makefile 
	devel/py-twisted/news/pkg: DESCR PLIST 
	devel/py-twisted/pair: Makefile 
	devel/py-twisted/pair/pkg: DESCR PLIST 
	devel/py-twisted/runner: Makefile 
	devel/py-twisted/runner/pkg: DESCR PLIST 
	devel/py-twisted/web: Makefile 
	devel/py-twisted/web/pkg: DESCR PLIST 
	devel/py-twisted/web2: Makefile 
	devel/py-twisted/web2/pkg: DESCR PLIST 
	devel/py-twisted/words: Makefile 
	devel/py-twisted/words/pkg: DESCR PLIST 

Log message:
Belated update to Twisted 17.1.0.

All the hard work by Pavel Korovin (thanks!), who takes maintainership
from eric@.  The different sub-parts of twisted were all merged in the
same project, ports using it will be adapted shortly.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:28:27

Added files:
	devel/py-twisted: distinfo 
Removed files:
	devel/py-twisted/core/patches: patch-twisted_internet_process_py 
	                               patch-twisted_python_test_test_release_py 
	                               patch-twisted_trial_test_test_loader_py 
	devel/py-twisted/web2/patches: 
	                               patch-lib_twisted_web2_test_test_static_py 
	                               patch-twisted_web2_test_test_stream_py 

Log message:
CVS hits you. you die.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:30:17

Modified files:
	www/py-nevow   : Makefile distinfo 
	www/py-nevow/patches: patch-setup_py 
	www/py-nevow/pkg: PLIST 

Log message:
Update to py-nevow 0.14.2 to work with newer twisted.
From Pavel Korovin again.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:31:34

Modified files:
	databases/py-carbon: Makefile 
	net/avahi      : Makefile 
	net/telepathy/telepathy-gabble: Makefile 
	net/telepathy/telepathy-haze: Makefile 
	net/telepathy/telepathy-idle: Makefile 
	net/telepathy/telepathy-logger: Makefile 
	x11/kde4/kajongg: Makefile 

Log message:
Fix pkgpaths pointing to devel/py-twisted, and bump REVISIONs.
From Pavel Korovin.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:33:09

Modified files:
	devel/py-buildslave: Makefile 

Log message:
Fix pkgpath for twisted, buildslave works fine with the newer version,
tested on my production instance.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:34:50

Modified files:
	devel/py-buildbot: Makefile 
Added files:
	devel/py-buildbot/patches: patch-buildbot_status_web_baseweb_py 

Log message:
Fix RDEP for twisted update, and add a oneliner patch to fix runtime,
also tested on my buildbot instance.

Many thanks to Pavel Korovin for polishing this twisted updated, finally
paving the way to update buildbot to the 0.9 branch.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/16 13:35:25

Modified files:
	usr.bin/mandoc : mandoc.1 

Log message:
missing space between macro arg and punctuation;


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:36:54

Modified files:
	games          : Makefile 
	devel          : Makefile 
	databases      : Makefile 
	news           : Makefile 

Log message:
Unlink hellanzb, castle-combat, londonlaw, py-axiom and py-epsilon


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:38:38

Removed files:
	devel/py-epsilon: Makefile distinfo 
	devel/py-epsilon/pkg: DESCR PLIST 

Log message:
Remove py-epsilon, it was only used by a previous version of py-nevow,
and the divmod umbrella it was under died a while ago. Even if it's been
more or less de-facto adopted by the twisted project, no point in
keeping it in tree for now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:39:56

Removed files:
	databases/py-axiom: Makefile distinfo 
	databases/py-axiom/pkg: DESCR PLIST 

Log message:
Remove py-axiom, it was only used by a previous version of py-nevow,
and the divmod umbrella it was under died a while ago. Even if it's been
more or less de-facto adopted by the twisted project, no point in
keeping it in tree for now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:44:04

Removed files:
	news/hellanzb  : Makefile distinfo 
	news/hellanzb/pkg: DESCR PLIST MESSAGE 
	news/hellanzb/patches: patch-Hellanzb_Core_py 
	                       patch-Hellanzb_HellaReactor_py 
	                       patch-Hellanzb_HellaXMLRPC_HtPasswdAuth_py 
	                       patch-Hellanzb_HellaXMLRPC_xmlrpc_py 
	                       patch-setup_py 

Log message:
Remove hellanzb, development dead upstream since 7+ years, probably
doesnt work with newer twisted, and there are other alternatives to
download NZB 'free content' (sabnzbd and sickbeard are in the portstree)


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:48:38

Removed files:
	games/londonlaw: Makefile distinfo 
	games/londonlaw/pkg: DESCR PLIST 
	games/londonlaw/patches: patch-londonlaw_server_Game_py 
	                         patch-setup_py 

Log message:
Remove londonlaw, probably doesnt work with newer twisted, and upstream
is dead. If anyone feels like reviving it from the Attic, start by
https://github.com/anyc/londonlaw


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:50:42

Removed files:
	games/castle-combat: Makefile distinfo 
	games/castle-combat/pkg: DESCR PLIST 
	games/castle-combat/patches: patch-castle-combat_py 
	                             patch-data_doc_rules_html 
	                             patch-src_common_py 
	                             patch-src_menu_py 

Log message:
Remove castle-combat, last upstream release was 10+ years ago so it
probably doesnt work with newer twisted. Prove me wrong :)


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 13:52:46

Modified files:
	devel/quirks   : Makefile 
	devel/quirks/files: Quirks.pm 

Log message:
add quirks for py-axiom, py-epsilon, hellanzb, londonlaw & castle-combat


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/16 14:01:04

Removed files:
	devel/py-twisted/conch: distinfo 
	devel/py-twisted/core: distinfo 
	devel/py-twisted/lore: distinfo 
	devel/py-twisted/mail: distinfo 
	devel/py-twisted/names: distinfo 
	devel/py-twisted/news: distinfo 
	devel/py-twisted/pair: distinfo 
	devel/py-twisted/runner: distinfo 
	devel/py-twisted/web: distinfo 
	devel/py-twisted/web2: distinfo 
	devel/py-twisted/words: distinfo 

Log message:
Dammit CVS.


CVSROOT:	/cvs
Module name:	www
Changes by:	fcambus@cvs.openbsd.org	2017/05/16 14:29:02

Modified files:
	.              : macppc.html 

Log message:
Fix broken link.

Reported by Scott Cheloha, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/16 14:52:54

Modified files:
	sys/arch/powerpc/powerpc: pmap.c 

Log message:
Implement copyin32(9).

ok mpi@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/16 14:53:42

Modified files:
	sys/arch/sparc64/sparc64: locore.s 

Log message:
Implement copyin32(9).

ok mpi@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/16 15:42:14

Modified files:
	usr.bin/netstat: inet.c 

Log message:
When printing a tcpcb with -P and -v, also show the inp in netstat
output.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	sashan@cvs.openbsd.org	2017/05/16 16:16:30

Modified files:
	sys/net        : pf.c 

Log message:
- percpu anchor stacks
we actually don't need to pre-allocate per_anchor_stack[], if we use
a 'natural' recursion, when doing anchor tree traversal.

O.K. mikeb@, mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/16 16:29:02

Modified files:
	share/man/man5 : pf.conf.5 

Log message:
tweak the bandwidth description; help/ok mikeb


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/16 16:29:07

Modified files:
	usr.bin/systat : pftop.c 

Log message:
Improve the precision of displayed bandwidth values

Carl Mascott has reported the issue and helped with the fix.  OK tb


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/16 19:24:17

Modified files:
	usr.bin/ssh    : auth.c log.c log.h monitor_wrap.c servconf.c 
	                 sshd_config.5 

Log message:
allow LogLevel in sshd_config Match blocks; ok dtucker bz#2717


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/16 23:00:17

Modified files:
	sys/dev/pci    : pcidevs 

Log message:
add some devices from submitted dmesgs


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/16 23:00:58

Modified files:
	sys/dev/pci    : pcidevs.h pcidevs_data.h 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 00:10:44

Modified files:
	sysutils/awless: Makefile 

Log message:
Add HOMEPAGE.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/17 00:31:15

Modified files:
	devel/gitsh    : Makefile distinfo 
	devel/gitsh/pkg: PLIST 

Log message:
update gitsh to 0.11.2

Initial diff from maintainer Mike Burns, Thanks!
- Fix missing depends (spotted by sthen@)
- Use HOMEPAGE in MASTER_SITES
- Remove SEPARATE_BUILD
- Review and input from jca@ and sthen@

ok jca@


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/17 01:31:20

Modified files:
	mail/libetpan  : Tag: OPENBSD_6_1 Makefile 
Added files:
	mail/libetpan/patches: Tag: OPENBSD_6_1 
	                       patch-src_low-level_imf_mailimf_c 

Log message:
Backport net/libetpan CVE-2017-8825 fix from danj@.

OK danj@, jca@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/17 01:34:19

Modified files:
	databases/postgresql: Makefile distinfo 
	databases/postgresql/pkg: PLIST-docs PLIST-server 

Log message:
Security update to 9.6.3 ( CVE-2017-7484, CVE-2017-7485, CVE-2017-7486)


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/17 02:13:33

Modified files:
	sys/uvm        : uvm_map.c 

Log message:
Raise "uvm_map_entry_kmem_pool" IPL level to IPL_VM to prevent a deadlock.

A deadlock can occur when the uvm_km_thread(), running without KERNEL_LOCK()
is interrupted by and non-MPSAFE handler while holding the pool's mutex.  At
that moment if another CPU is holding the KERNEL_LOCK() and wants to grab the
pool mutex, like in sys_kbind(), kaboom!

This is a temporaty solution, a more generate approach regarding mutexes and
un-KERNEL_LOCK()ed threads is beeing discussed.

Deadlock reported by sthen@, ok kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 02:50:09

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.50.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 02:50:24

Modified files:
	sysutils/awscli: Makefile distinfo 
	sysutils/awscli/pkg: PLIST 

Log message:
Update to awscli-1.11.87.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/17 02:59:05

Modified files:
	sys/nfs        : nfs_socket.c nfs_syscalls.c nfs_vfsops.c 

Log message:
Remove useless splsoftnet().

Outside of USB, no code is executed in a softnet interrupt context.  So
what's protecting NFS data structures is the KERNEL_LOCK().

But more importantly, since r1.114 of nfs_socket.c, the 'softnet' thread
is no longer executing NFS code.

ok visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/17 03:00:08

Modified files:
	sys/net        : if_gif.c 

Log message:
Protect the global list of interfaces with the NET_LOCK().

ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 03:58:26

Modified files:
	graphics/gegl  : Makefile 

Log message:
Sync WANTLIB.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 03:58:38

Modified files:
	graphics/babl  : Makefile distinfo 
	graphics/babl/pkg: PLIST 

Log message:
Update to babl-0.1.26.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 04:01:14

Modified files:
	graphics/gegl03: Makefile distinfo 
	graphics/gegl03/pkg: PLIST 
Removed files:
	graphics/gegl03/patches: patch-configure patch-gegl_Makefile_in 

Log message:
Update to gegl03-0.3.16.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 04:39:44

Added files:
	x11/sisctrl/patches: patch-src_sisctrl_gui_c 

Log message:
trivial fix for clangg


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 05:00:07

Added files:
	games/lgeneral/patches: patch-lgeneral_deploy_h 
	                        patch-lgeneral_gui_c 
	                        patch-lgeneral_gui_h 
	                        patch-lgeneral_sdl_c 
	                        patch-lgeneral_sdl_h 
	                        patch-lgeneral_theme_c 
	                        patch-lgeneral_tools_c 
	                        patch-lgeneral_tools_h 
	                        patch-lgeneral_unit_c 
	                        patch-lgeneral_unit_h 

Log message:
those people don't understand inline, plus numerous typos


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 05:16:38

Modified files:
	infrastructure/mk: pkgpath.mk 

Log message:
expose all the package-args targets, as suitable ports introspection
targets (useful to check if some wide-sweeping change will affect
built packages)


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/05/17 05:20:33

Modified files:
	net/tor        : Makefile distinfo 

Log message:
Update to tor 0.3.0.7.  SECURITY fix for TROVE-2017-002 (relays only).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 05:31:17

Modified files:
	infrastructure/bin: update-patches 
	infrastructure/man/man1: update-patches.1 

Log message:
add a FORCE_REGEN env option


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/17 05:34:17

Modified files:
	devel/bpython  : Makefile 
	devel/py-test  : Makefile 
	devel/py-nose  : Makefile 
	www/py-tornado : Makefile 

Log message:
Fix remaining pkgpaths for twisted update, reported by naddy@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/17 05:35:35

Modified files:
	www/py-mechanize: Makefile 

Log message:
Fix one more, this one reported by nigel@. sqlports should now build.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/17 05:52:25

Modified files:
	sys/arch/loongson/dev: bonito.c voyager.c 
	sys/arch/loongson/include: intr.h 

Log message:
Make IPL_MPSAFE effective on loongson.

Testing help from fcambus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 06:10:53

Modified files:
	games/wizznic  : Makefile 

Log message:
assert gnu89-inline, the semantics is too deeply ingrained to be worth
fixing.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 06:46:42

Added files:
	net/olsrd/patches: patch-Makefile_inc 

Log message:
remove bogus CCACHE logic, actually honor CC


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/17 06:53:31

Modified files:
	x11/p5-X11-Protocol-Other: Makefile 
	x11/p5-X11-Protocol-Other/pkg: PLIST 

Log message:
Install examples
ok ajacoutot@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/17 07:23:58

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Tweak remote fs check.


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/17 07:25:27

Modified files:
	sys/netinet6   : ip6_mroute.c 

Log message:
Optimize multicast packet sending by using m_dup_pkt() instead of
m_copym() for cloning packets. m_dup_pkt() creates a new mbuf with the
whole packet content and also pre allocates the space for layer 2
headers (Ethernet/VLAN).

ok mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/17 07:30:05

Modified files:
	mail/rspamd    : Makefile 
	mail/rspamd/pkg: PLIST 

Log message:
fix @sample filename:

share/examples/rspamd/redirectors.inc
-@sample ${SYSCONFDIR}/rspamd/redirections.inc
+@sample ${SYSCONFDIR}/rspamd/redirectors.inc


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/17 07:52:33

Modified files:
	net/GeoIP      : Makefile distinfo 

Log message:
update to GeoIP-1.6.11, update geolite db while there


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 07:53:49

Modified files:
	games/golly    : Makefile 
	games/golly/patches: patch-gui-wx_configure_configure 
Added files:
	games/golly/patches: patch-gui-wx_configure_Makefile_in 

Log message:
don't use -Wl,--as-needed for final links of executables.
This assumes runtime support works in a certain way, which is wildly
inaccurate with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/17 07:59:03

Modified files:
	net/GeoIP      : distinfo 

Log message:
oops, regen distinfo


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/17 07:59:41

Modified files:
	net/arp-scan   : Makefile distinfo 

Log message:
update OUI vendor database


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/17 08:00:06

Modified files:
	usr.sbin/smtpd : ca.c config.c ioev.c lka.c mta_session.c 
	                 smtp_session.c ssl.c 

Log message:
Introduce more use of freezero().  Also, remove ptr conditionals before
many functions which are free(NULL)-compat
ok gilles


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 08:14:27

Modified files:
	x11/nitrogen   : Makefile 

Log message:
WANTCXX


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 08:43:43

src/regress/lib/libc/qsort

Update of /cvs/src/regress/lib/libc/qsort
In directory cvs.openbsd.org:/tmp/cvs-serv81551/qsort

Log Message:
Directory /cvs/src/regress/lib/libc/qsort added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 08:47:06

Modified files:
	regress/lib/libc: Makefile 
Added files:
	regress/lib/libc/qsort: Makefile qsort_test.c 

Log message:
Add qsort(3) regress based on Bentley & McIlroy's "Engineering a Sort Function"


CVSROOT:	/cvs
Module name:	ports
Changes by:	jcs@cvs.openbsd.org	2017/05/17 09:04:46

Modified files:
	x11/xbanish    : Makefile distinfo 

Log message:
update to xbanish 1.5, now with pledge


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 09:13:30

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
There's no need to track the number of errors (and the counter might
wrap), make it a flag instead.  Pointed out by schwarze@


CVSROOT:	/cvs
Module name:	ports
Changes by:	tb@cvs.openbsd.org	2017/05/17 09:18:05

Modified files:
	x11/xbanish    : Makefile 

Log message:
Add "# uses pledge()" marker.

ok jcs


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/17 09:20:23

Modified files:
	usr.bin/tmux   : cmd-command-prompt.c cmd-confirm-before.c 
	                 status.c tmux.h 

Log message:
Tidy command prompt callbacks and pass in the client.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/17 09:39:36

Modified files:
	sys/netinet    : in_proto.c 
	sys/netinet6   : in6_proto.c 

Log message:
The large and nested GIF #ifdef in protosw made it hard to figure
out what is going on.  There were also some inconsistencies that
seem to be oversights.  Use more specific the #ifdefs.
OK mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 10:03:32

Modified files:
	net/kismet     : Makefile 
	net/kismet/patches: patch-Makefile_in patch-gpsmap_cc 
Added files:
	net/kismet/patches: patch-alertracker_h patch-config_h_in 
	                    patch-frontend_h patch-gpsdump_cc 
	                    patch-gpsdump_h patch-kismet_server_cc 
	                    patch-macaddr_h patch-packet_h 
	                    patch-packetracker_cc patch-packetstream_h 
	                    patch-panelfront_cc patch-panelfront_h 
	                    patch-server_protocols_cc 
	                    patch-server_protocols_h patch-tcpclient_h 
	                    patch-tcpserver_cc patch-tcpserver_h 
	                    patch-timetracker_h patch-tracktypes_h 
	                    patch-util_h 

Log message:
let it build with clang: fix depends line, const correct char*,
typedef nonsense, and delete vs new[]


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 10:26:51

Modified files:
	audio/pulseaudio: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 10:58:20

Modified files:
	lib/libc/stdlib: qsort.c 

Log message:
The BSD qsort() performs tail recursion elimination on the second
side of the array being partitioned to save on stack space.  Greater
savings can be gained by choosing recursion for the smaller side
of the partition and eliminating recursion for the larger side.
This also results in a small but measurable performance gain.
OK otto@ schwarze@


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/17 11:26:35

Modified files:
	faq            : faq5.html 

Log message:
noperm implies nodev, so no need to have nodev in the example fstab line

noted by "bink" on freenode


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/17 11:40:07

Modified files:
	faq            : faq5.html 

Log message:
mount mfs noperm partition with nosuid


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 11:53:48

Modified files:
	usr.bin/mandoc : mdoc_html.c 

Log message:
Delete pointless width calculation for SYNOPSIS .Nm block heads.
Just let HTML <table> do its work of selecting the needed width.
<Anton dot Lindqvist at gmail dot com> reported that the manually
calculated width was insufficient in some manual pages.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/17 11:54:29

Modified files:
	regress/sys/crypto/aesxts: Makefile aes_xts.c 
	sys/crypto     : aes.h xform.c 

Log message:
Revert MI AES-XTS code back to T-tables amid poor performance

Suffered by many, the revert tested by stsp@.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 12:07:03

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
Add "killer" input from "algorithmic complexity attacks and libc
qsort()".  This causes quadratic behavior with the 4.4BSD qsort's
"switch to insertion sort" optimization when the input appears to
be mostly sorted.  That optimization was removed in qsort.c r1.12
but it is worth having in the regress test too.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/17 14:09:36

Modified files:
	devel/gtest    : Makefile 
Added files:
	devel/gtest/patches: patch-googletest_cmake_internal_utils_cmake 

Log message:
Enable gtest patches, from Greg Steuck.
Greg contacted the maintainer who said he's no longer interested,
so drop MAINTAINER and bump REVISION while there.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/17 14:21:22

Modified files:
	faq            : faq4.html 

Log message:
clarify that fw_update should be run post-install, not in the installer,
when wireless networking is your only option.

reported by han on freenode
ok tb


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/17 14:23:45

Modified files:
	devel/protobuf : Makefile 
	devel/protobuf/patches: patch-Makefile_in patch-configure 
	                        patch-src_Makefile_in 
	                        patch-src_google_protobuf_message_cc 
Added files:
	devel/protobuf/patches: 
	                        patch-src_google_protobuf_compiler_cpp_cpp_unittest_cc 
	                        patch-src_google_protobuf_extension_set_unittest_cc 
	                        patch-src_google_protobuf_generated_message_reflection_unittest_cc 
	                        patch-src_google_protobuf_io_printer_unittest_cc 
	                        patch-src_google_protobuf_io_tokenizer_unittest_cc 
	                        patch-src_google_protobuf_message_unittest_cc 
	                        patch-src_google_protobuf_reflection_ops_unittest_cc 
	                        patch-src_google_protobuf_repeated_field_unittest_cc 

Log message:
Unbreak protobuf tests following the gtest update, from Greg Steuck with some
tweaks by me. Greg contacted the maintainer who said he's no longer interested,
so drop MAINTAINER and bump REVISION while there. Also switch MASTER_SITES from
googlecode to github.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 14:28:35

Modified files:
	regress/lib/libc/qsort: Makefile qsort_test.c 

Log message:
Approximate nlgn instead of using libm.  The same approximation may
be used in qsort.c in a later commit.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 15:18:41

Modified files:
	usr.bin/mandoc : mansearch.c 

Log message:
Do not warn if a database file does not exist
because that is simply equivalent to an empty database.
Suggested by ajacoutot@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 15:24:48

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
Add "median of three" killer, as seen in "Introspective Sorting and
Selection Algorithms" by David R  Musser.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/17 15:40:13

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
Avoid running the "killer" tests multiple times with the same
parameters.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 16:07:46

Modified files:
	regress/usr.bin/mandoc/db/out: all.derr padfmagic.dout 
	                               padimacro.dout padmmacro.dout 
	regress/usr.bin/mandoc/db/run: Makefile 

Log message:
Stop testing the creation and the properties of empty databases.
They are about to be deprecated.
For the tests built on top of them,
use a database containing a single page instead.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 16:26:52

Modified files:
	usr.bin/mandoc : makewhatis.8 mandocdb.c 

Log message:
Never create empty databases.

When pkg_add(1)ing packages installing manual pages into some directory,
the database in that directory automatically gets created or updated,
no change so far.  This patch causes the database file to be
automatically unlinked when pkg_delete(1)ing the last package having
manual pages in that directory, to leave less cruft behind.

Suggested by ajacoutot@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 16:39:53

Added files:
	graphics/xpaint/patches: patch-rw_readWritePS_c 

Log message:
return fix for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 16:46:44

Modified files:
	regress/usr.bin/mandoc/db/run: Makefile 

Log message:
*Add* a test checking that no empty databases get created,
by *removing* one line from the Makefile.  Neat, isn't it?


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 16:53:33

ports/games/taisei/patches

Update of /cvs/ports/games/taisei/patches
In directory cvs.openbsd.org:/tmp/cvs-serv36244/patches

Log Message:
Directory /cvs/ports/games/taisei/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 16:54:28

Modified files:
	games/taisei   : Makefile 
Added files:
	games/taisei/patches: patch-src_boss_h patch-src_enemy_h 
	                      patch-src_item_c patch-src_item_h 
	                      patch-src_laser_h 
	                      patch-src_menu_replayview_c 
	                      patch-src_player_h patch-src_projectile_h 
	                      patch-src_stages_stage1_c 
	                      patch-src_stageutils_h 

Log message:
gnu89-inline, complex is NOT "complex double", snprintf format, and two
nits...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 17:01:26

Added files:
	net/cnupm/patches: patch-Makefile_inc patch-cnupm_Makefile 

Log message:
stupid compiler flags


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 17:08:24

Modified files:
	net/spectrum/patches: patch-src_spectrum_util_cpp 
Added files:
	net/spectrum/patches: patch-src_configinterface_cpp 
	                      patch-src_utf8_checked_h 

Log message:
trivial clang fixes


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 17:20:00

Modified files:
	usr.bin/mandoc : mandoc.1 

Log message:
Modernize an example showing antiquated syntax,
and delete an example showing the arcane -W stop option.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/17 17:21:55

Modified files:
	net/spectrum-tools: Makefile 
Added files:
	net/spectrum-tools/patches: patch-spectool_curses_c 
	                            patch-spectool_gtk_c 
	                            patch-spectool_gtk_channel_c 
	                            patch-spectool_gtk_hw_registry_c 
	                            patch-spectool_gtk_planar_c 
	                            patch-spectool_gtk_spectral_c 
	                            patch-spectool_gtk_topo_c 
	                            patch-spectool_gtk_widget_c 
	                            patch-spectool_raw_c 

Log message:
fix function returns, gnu89-inlines, clang works


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 17:22:29

Modified files:
	usr.bin/mandoc : man.1 

Log message:
Fix documentation bug:
man(1) does not ignore manpath directories lacking mandoc.db(5) files;
instead, it uses filename lookup to find manuals in such directories.


CVSROOT:	/cvs
Module name:	src
Changes by:	schwarze@cvs.openbsd.org	2017/05/17 17:39:15

Modified files:
	share/man/man7 : mandoc_char.7 
	usr.bin/mandoc : main.c mandoc.1 

Log message:
Delete the -T xhtml command line option.
It has been obsolete for more than two years.
Use -T html.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/17 19:27:49

Modified files:
	sys/arch/arm/armv7: armv7_mutex.c 
	sys/arch/arm/include: mutex.h 
	sys/arch/sh/include: mutex.h 
	sys/arch/sh/sh : mutex.c 

Log message:
Fix kernel build on armv7 and sh.

Pointed out by deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/17 23:12:34

Modified files:
	usr.sbin/pcidump: pcidump.c 

Log message:
When an array of PCIe extended cability strings was added it missed
some offsets, leading to the wrong strings being used in some cases.
Add the missing strings.

ok mpi@ deraadt@ millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/17 23:47:13

Modified files:
	sys/arch/arm64/arm64: locore.S 

Log message:
AAPCS64 requires 16 byte stack alignment.  Set the bits in the system
control register to enable alignment fault exceptions if the stack
pointer is not correctly aligned when used as a base address in load or
store instructions.

drahn@ pointed out that FreeBSD made this change in svn rev 295270 and
believes we should do the same.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 00:33:13

Modified files:
	net/p5-Nmap-Parser: Makefile distinfo 

Log message:
Update to p5-Nmap-Parser-1.34.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/18 00:39:49

Modified files:
	lang/rust      : Makefile 
	lang/rust/pkg  : PFRAG.amd64-main PFRAG.i386-main 

Log message:
Add a symlink to base libgcc.a in rust libraries subdir, so that
clang/rust finds it when linking some rust code - somewhat needed by
stylo (the css engine written in rust within mozilla). Modeled after
what is done in lang/g77.

From semarie@, who discussed it with espie@.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 00:55:34

Modified files:
	devel/p5-Test-WWW-Mechanize: Makefile distinfo 

Log message:
Update to p5-Test-WWW-Mechanize-1.48.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 01:03:02

Modified files:
	textproc/p5-LaTeX-Encode: Makefile distinfo 

Log message:
Update to p5-LaTeX-Encode-0.092.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/18 01:08:45

Modified files:
	sys/kern       : kern_synch.c 

Log message:
Do not panic if we find ourself on the sleep queue while being SONPROC.

If the rwlock passed to rwsleep(9) is contented, the CPU will call wakeup()
between sleep_setup() and sleep_finish().  At this moment curproc is on the
sleep queue but marked as SONPROC.  Avoid panicing in this case.

Problem reported by sthen@

ok kettenis@, visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/18 01:57:04

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.51.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/18 01:57:18

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.88.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/18 02:35:56

Modified files:
	sys/dev/ic     : athn.c 

Log message:
Fix a uvm fault in athn_clock_rate():
Don't deref an IEEE80211_CHAN_ANYC channel pointer.
ok mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 02:38:48

Modified files:
	www/p5-WWW-Shorten: Makefile distinfo 
	www/p5-WWW-Shorten/pkg: PLIST 

Log message:
Update to p5-WWW-Shorten-3.093.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 02:42:37

Modified files:
	www/p5-WWW-Shorten-Googl: Makefile distinfo 

Log message:
Update to p5-WWW-Shorten-Googl-1.100.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/18 03:15:16

Modified files:
	sys/sys        : systm.h 

Log message:
Add copyin32(9) prototype.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/18 03:20:06

Modified files:
	sys/arch/amd64/amd64: machdep.c 
	sys/arch/i386/i386: machdep.c 

Log message:
Since copyin(9) already doeas access 32-bit quantities atomically, we can
add copyin32(9) as a simple C wrapper around it.  These wrappers do check
alignment and return EFAULT if the userland pointer is misaligned.  This is
enough to guarantee that the access doesn't cross a cache line boundary which
could make the access non-atomic.

ok mpi@, visa@, tedu@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 04:29:00

Modified files:
	multimedia/dvdauthor: Makefile 

Log message:
nested functions are not "mandatory", get it to build with clang, even
if we lose some functionality (this code is such a mess that I don't
even know what we lose)


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/05/18 04:39:20

Modified files:
	sysutils/gkrellm/gkrellm/patches: 
	                                  patch-src_sysdeps_bsd-net-open_c 

Log message:
Remove unneeded & dying <netinet/tcpip.h>

ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/05/18 04:40:08

Modified files:
	shells/nsh/patches: patch-stats_c 

Log message:
Remove unneeded and dying headers.

ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/18 04:56:45

Modified files:
	sys/net        : if_gif.c 
	sys/netinet    : in_proto.c ip_ipip.c ip_ipip.h ip_ipsp.c 
	                 ip_ipsp.h ipsec_output.c 
	sys/netinet6   : in6_proto.c 

Log message:
The function name ip4_input() is confusing as it also handles IPv6
packets.  This is the IP in IP protocol input function, so call it
ipip_input().  Rename the existing ipip_input() to ipip_input_gif()
as it is the input function used by the gif interface.  Pass the
address family to make it consistent with pr_input.  Use __func__
in debug print and panic messages.  Move all ipip prototypes to the
ip_ipip.h header file.
OK dhill@ mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	mpi@cvs.openbsd.org	2017/05/18 05:34:35

Modified files:
	infrastructure/db: config.site 

Log message:
netinet/tcpip.h is going away.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/18 05:38:07

Modified files:
	sys/netinet    : tcp_debug.c tcp_debug.h tcp_input.c 
	                 tcp_output.c tcp_subr.c tcp_usrreq.c 
	usr.sbin/trpt  : trpt.c 
Removed files:
	sys/netinet    : tcpip.h 
	sys/netinet6   : tcpipv6.h 

Log message:
Merge the content of <netinet/tcpip.h> and <netinet6/tcpipv6.h> in
<netinet/tcp_debug.h>.

The IPv6 variant was always included and the IPv4 version is not
present on all systems.

Most of the offending ports are already fixed, thanks to sthen@!


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/18 05:50:47

Modified files:
	share/man/man5 : pf.conf.5 

Log message:
better describe "!";
from michal mazurek, tweaked a bit by myself


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/18 06:02:06

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Don't pass `-m' to ftp(1). Instead let isatty() decide whether we display the
progress bar or not for better cron(1)/logger(1) output.

req. by henning@


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/05/18 06:24:15

Modified files:
	usr.sbin/pkg_add/OpenBSD: PackageLocator.pm PackageRepository.pm 

Log message:
introduce new url "installpath" to mean "the contents of installurl"
use it to simplify logic.

have ./ always be silent, wherever it may come from.

zap NOINSTALLPATH since it's more intuitive to just define PKG_PATH=
(nothing) now.


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/05/18 06:29:54

Modified files:
	usr.sbin/pkg_add: pkg_add.1 

Log message:
document installpath, explain PKG_PATH defaults in terms of it.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 06:31:20

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
various things should refer to BUILD_PACKAGES instead of MULTI_PACKAGES


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 06:38:46

Modified files:
	infrastructure/mk: bsd.port.mk 

Log message:
get FETCH_PACKAGES to find things by default by using installpath.
no incidence for people who haven't updated pkg_add yet, this used to
not work, so this will still not work for them :)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 06:41:58

Modified files:
	net/kismet/patches: patch-gpsmap_cc 

Log message:
there was already one const there. noticed by nigel, as stupid gcc dislikes
const const.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/18 06:58:43

Modified files:
	productivity/homebank: Makefile distinfo 

Log message:
Update to 5.1.5


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/18 07:27:14

Modified files:
	multimedia/get_iplayer: Makefile distinfo 
	multimedia/get_iplayer/patches: patch-get_iplayer 

Log message:
update to get_iplayer-3.01


CVSROOT:	/cvs
Module name:	src
Changes by:	jcs@cvs.openbsd.org	2017/05/18 07:29:32

Modified files:
	sys/arch/i386/conf: GENERIC 

Log message:
enable acpisbs on i386 for old MacBooks

tested by Jan Stary


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/18 07:30:21

Modified files:
	devel/re2c     : Makefile distinfo 

Log message:
update to re2c-0.16


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 07:41:33

Added files:
	multimedia/libmp4v2/patches: patch-src_bmff_typebmff_cpp 
	                             patch-src_itmf_type_cpp 

Log message:
steal modern compiler fixes from their git


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/18 07:51:42

Modified files:
	net/rrdtool    : Makefile distinfo 
	net/rrdtool/patches: patch-bindings_Makefile_in patch-configure 
	                     patch-doc_Makefile_in 
	                     patch-examples_Makefile_in 
	                     patch-examples_rrdcached_Makefile_in 
	                     patch-src_Makefile_in 
	                     patch-src_rrd_graph_helper_c 
	                     patch-src_rrd_lastupdate_c 
	                     patch-src_rrd_tool_c 
	net/rrdtool/pkg: PLIST-main PLIST-python 
Removed files:
	net/rrdtool/patches: patch-src_rrd_cgi_c 

Log message:
update to rrdtool-1.7.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/18 08:09:06

Modified files:
	x11/xfce4/terminal: Makefile distinfo 

Log message:
Update to xfce4-terminal 0.8.5.1


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/18 08:35:23

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/18 08:38:25

Modified files:
	net/radcli     : Makefile distinfo 

Log message:
update to radcli-1.2.7


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 08:47:27

Modified files:
	net/retroshare/patches: 
	                        patch-src_libretroshare_src_rsserver_rsinit_cc 
Added files:
	net/retroshare/patches: 
	                        patch-src_libbitdht_src_util_bdthreads_cc 
	                        patch-src_libretroshare_src_dbase_findex_cc 
	                        patch-src_libretroshare_src_dbase_findex_h 
	                        patch-src_libretroshare_src_retroshare_rsflags_h 
	                        patch-src_libretroshare_src_util_argstream_h 
	                        patch-src_retroshare-gui_src_gui_common_GroupTreeWidget_cpp 

Log message:
classical fixes for C++, clang happy


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/18 08:48:27

Modified files:
	sys/dev/usb    : if_umb.c 

Log message:
Grab the netlock in umb_state_task() and umb_decode_ip_configuration()
when calling in_ioctl().  These ioctls modify the routing table,
which is global.  So they need the lock.
Found with Zaur Molotnikov's static lock analyzer.
OK gerhard@ mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/18 08:50:08

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
use mergesort instead of heapsort when comparing results


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/18 09:12:56

Modified files:
	devel/py-hypothesis: Makefile distinfo 

Log message:
Update to py-hypothesis 3.8.5


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/18 09:18:39

Modified files:
	textproc/py-chardet: Makefile distinfo 

Log message:
Update to py-chardet 3.0.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/18 09:29:35

Modified files:
	sysutils/flashrom: Makefile 
Added files:
	sysutils/flashrom/patches: patch-hwaccess_c patch-physmap_c 

Log message:
adjust error message text, the securelevel mechanism changed in src/etc/rc 1.432


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/18 09:41:59

Modified files:
	sys/arch/hppa/hppa: locore.S machdep.c 
	sys/arch/hppa/include: cpu.h 

Log message:
Implement copyin32(9).

"your chicken scratches look fine to me" deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/05/18 10:58:06

Modified files:
	www/aria2      : Makefile distinfo 

Log message:
Upgrade for Aria2 to 1.32.0.

OK benoit@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/18 12:50:32

Modified files:
	sys/kern       : exec_subr.c 

Log message:
Add a gap of 1MB between the stack and mmap spaces.

ok deraadt@, millert@, stefan@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/18 13:23:02

Modified files:
	net/nfsen      : Makefile 
Added files:
	net/nfsen/patches: patch-libexec_NfSenRRD_pm 

Log message:
patch to relax the version check, breakage reported by nigel@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 15:27:47

Modified files:
	sysutils/usmb  : Makefile 
	sysutils/usmb/patches: patch-usmb_c patch-usmb_dir_c 

Log message:
fix memset size, as found by clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 17:28:53

Modified files:
	net/ns         : Makefile 
	net/ns/patches : patch-common_packet_h 
	                 patch-indep-utils_cmu-scen-gen_setdest_setdest_h 
Added files:
	net/ns/patches : patch-autoconf_h_in patch-common_packet_cc 
	                 patch-common_ptypes2tcl_cc 
	                 patch-common_tclAppInit_cc 
	                 patch-common_tkAppInit_cc 
	                 patch-dccp_bsd_queue_h patch-dccp_dccp_ackv_cc 
	                 patch-dccp_dccp_ackv_h patch-dccp_dccp_cc 
	                 patch-dccp_dccp_h 
	                 patch-indep-utils_cmu-scen-gen_setdest_calcdest_cc 
	                 patch-indep-utils_cmu-scen-gen_setdest_setdest_cc 
	                 patch-linkstate_ls_cc patch-linkstate_ls_h 
	                 patch-mac_mac-802_11Ext_cc 
	                 patch-mac_mac-802_11Ext_h 
	                 patch-mac_wireless-phyExt_cc 
	                 patch-mac_wireless-phyExt_h 
	                 patch-mdart_mdart_adp_cc 
	                 patch-mdart_mdart_function_h 
	                 patch-mdart_mdart_queue_h patch-mobile_god_cc 
	                 patch-mobile_god_h patch-nix_nixnode_cc 
	                 patch-queue_errmodel_cc patch-sctp_sctp-cmt_cc 
	                 patch-sctp_sctp-cmt_h patch-tcp_tcp-full_cc 
	                 patch-tcp_tcp-full_h patch-tcp_tcp-session_h 
	                 patch-tcp_tcp_cc patch-tcp_tcp_h 
	                 patch-tools_rng_cc 

Log message:
fix build with clang, errors, plus a lot of warnings


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 17:42:44

Modified files:
	net/tacacs+/patches: patch-Makefile patch-generate_passwd_c 
	                     patch-tac_plus_h 
Added files:
	net/tacacs+/patches: patch-dump_c patch-maxsess_c patch-packet_c 

Log message:
let it compile with clang, sprinkle a few missing includes


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/18 18:08:25

Added files:
	x11/fleditor/patches: patch-fltk_editengine_h 
	                      patch-src_editengine_cxx 

Log message:
fix for clang. contrary to habit, this string *can't* be constant!


CVSROOT:	/cvs
Module name:	www
Changes by:	juanfra@cvs.openbsd.org	2017/05/18 18:46:47

Modified files:
	faq            : faq5.html 

Log message:
Use "git config" instead of the config file. Tweaks and OK tb@.


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/18 18:49:53

Modified files:
	sys/arch/hppa/include: intr.h 

Log message:
tweak the spllower asm so it is more straightforward.

this properly identifies the registers used as input and output
operands to the code running in the trap handler, and passes them
to the asm statement as such. this means we dont have to do an extra
copy in the asm, or an extra clobber to keep the compiler away from
the registers. it also lets gcc set up and use the input register
nicely before it reaches the asm.

ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/18 18:50:24

Modified files:
	sys/arch/mips64/mips64: lcore_access.S 

Log message:
Implement copyin32(9) for mips64.

OK kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/18 18:52:49

Modified files:
	sys/arch/mips64/include: lock.h 
	sys/arch/mips64/mips64: lock_machdep.c 

Log message:
Replace __cpu_cas() with atomic_cas_ulong().

OK kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/18 20:33:27

Modified files:
	sysutils/duplicity: Makefile 
	sysutils/duplicity/pkg: DESCR 

Log message:
Sync DESCR with upstream

prodded a while ago by mmcc


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/18 22:08:00

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
Add input targeted at the Bentley and McIrlroy quicksort generated
by McIlroy's "A Killer Adversary for Quicksort".  This results in
quadratic behavior and the test aborts before completion.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 22:50:12

Modified files:
	databases/py-sqlalchemy-migrate: Makefile distinfo 

Log message:
Update to py-sqlalchemy-migrate-0.11.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 23:06:27

Modified files:
	devel/libtermkey: Makefile distinfo 
	devel/libtermkey/pkg: PLIST 

Log message:
Update to libtermkey-0.20.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 23:16:54

Modified files:
	devel/p5-YAML-XS: Makefile distinfo 

Log message:
Update to p5-YAML-XS-0.65.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 23:22:20

Modified files:
	mail/p5-MIME-Base32: Makefile distinfo 
	mail/p5-MIME-Base32/pkg: PLIST 

Log message:
Update to p5-MIME-Base32-1.303.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/18 23:30:36

Modified files:
	www/p5-Dancer-Plugin-Thumbnail: Makefile distinfo 

Log message:
Update to p5-Dancer-Plugin-Thumbnail-0.14.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/18 23:57:31

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
return EIO to vmd if the guest HLTs with interrupts disabled


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/18 23:59:27

Modified files:
	share/man/man9 : mbuf.9 

Log message:
header updates from kevlo;


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/19 00:29:21

Modified files:
	sys/arch/amd64/amd64: identcpu.c vmm.c 
	sys/arch/amd64/include: vmmvar.h 

Log message:
Respect max VPID/ASID limits. VMX VPIDs are capped at 4095, for now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/19 01:32:33

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.52.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/19 01:32:44

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.89.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:37:00

Log message:
    Import math/p5-Business-Hours.
    
    This module is a simple tool for calculating business hours in a time period.
    Over time, additional functionality will be added to make it easy to calculate
    the number of business hours between arbitrary dates.
    
    OK and input from benoit@, sthen@, tsg@
    
    Status:
    
    Vendor Tag:	pirofti
    Release Tags:	pirofti_20170519
    
    N ports/math/p5-Business-Hours/Makefile
    N ports/math/p5-Business-Hours/distinfo
    N ports/math/p5-Business-Hours/pkg/DESCR
    N ports/math/p5-Business-Hours/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:38:06

Modified files:
	math           : Makefile 

Log message:
Link p5-Business-Hours


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:40:52

Log message:
    Import www/p5-CSS-Minifier-XS.
    
    CSS::Minifier::XS is a CSS "minifier"; its designed to remove un-necessary
    whitespace and comments from CSS files, while also not breaking the CSS.
    
    CSS::Minifier::XS is similar in function to CSS::Minifier, but is substantially
    faster as its written in XS and not just pure Perl.
    
    OK and input from sthen@, also OK benoit@, robert@
    
    Status:
    
    Vendor Tag:	pirofti
    Release Tags:	pirofti_20170519
    
    N ports/www/p5-CSS-Minifier-XS/Makefile
    N ports/www/p5-CSS-Minifier-XS/distinfo
    N ports/www/p5-CSS-Minifier-XS/pkg/DESCR
    N ports/www/p5-CSS-Minifier-XS/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:42:10

Modified files:
	www            : Makefile 

Log message:
Link p5-CSS-Minifier-XS


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:43:24

Log message:
    Import www/p5-JavaScript-Minifier-XS.
    
    JavaScript::Minifier::XS is a JavaScript "minifier"; its designed to remove
    un-necessary whitespace and comments from JavaScript files, which also not
    breaking the JavaScript.
    
    JavaScript::Minifier::XS is similar in function to JavaScript::Minifier, but is
    substantially faster as its written in XS and not just pure Perl.
    
    OK and input from sthen@, also OK benoit@, robert@
    
    Status:
    
    Vendor Tag:	pirofti
    Release Tags:	pirofti_20170519
    
    N ports/www/p5-JavaScript-Minifier-XS/Makefile
    N ports/www/p5-JavaScript-Minifier-XS/distinfo
    N ports/www/p5-JavaScript-Minifier-XS/pkg/DESCR
    N ports/www/p5-JavaScript-Minifier-XS/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:45:36

Modified files:
	www            : Makefile 

Log message:
Link p5-JavaScript-Minifier-XS


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:50:28

Log message:
    Import devel/p5-Log-Dispatch-Perl.
    
    The "Log::Dispatch::Perl" module offers a logging alternative using standard
    Perl core functions. It allows you to fall back to the common Perl alternatives
    for logging, such as "warn" and "cluck". It also adds the possibility for a
    logging action to halt the current environment, such as with "die" and "croak".
    
    OK sthen@, benoit@, robert@
    
    Status:
    
    Vendor Tag:	pirofti
    Release Tags:	pirofti_20170519
    
    N ports/devel/p5-Log-Dispatch-Perl/Makefile
    N ports/devel/p5-Log-Dispatch-Perl/distinfo
    N ports/devel/p5-Log-Dispatch-Perl/pkg/DESCR
    N ports/devel/p5-Log-Dispatch-Perl/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:51:56

Modified files:
	devel          : Makefile 

Log message:
Link p5-Log-Dispatch-Perl


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:57:59

Log message:
    Import www/p5-Data-Page-Pageset.
    
    Split long page lists into pretty intervals
    1-6 7-12 13 14 15 16 17 18 19-24 25-30 31-36 37-41
    
    OK and input from sthen@, also OK benoit@, robert@
    
    Status:
    
    Vendor Tag:	pirofti
    Release Tags:	pirofti_20170519
    
    N ports/www/p5-Data-Page-Pageset/Makefile
    N ports/www/p5-Data-Page-Pageset/distinfo
    N ports/www/p5-Data-Page-Pageset/pkg/DESCR
    N ports/www/p5-Data-Page-Pageset/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 01:59:53

Modified files:
	www            : Makefile 

Log message:
Link p5-Data-Page-Pageset


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/19 02:06:59

Modified files:
	www/youtube-dl : Makefile distinfo 

Log message:
Update youtube-dl to 2017.05.18.1.

Unbreaks youtube with
version 2017.05.18.1
* [jsinterp] Fix typo and cleanup regular expressions (#13134)

version 2017.05.18
+ [jsinterp] Add support for quoted names and indexers (#13123,
#13124, #13125, #13126, #13128, #13129, #13130, #13131, #13132)

OK and input sthen@, also OK danj@.

From Hiltjo Posthuma, thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/19 02:07:33

Modified files:
	databases/openldap: Makefile 
	databases/openldap/pkg: DESCR-main DESCR-server 

Log message:
add a gssapi flavour to openldap, from Kurt Mosiejczuk with a few tweaks,
looks fine to aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/19 02:08:15

Modified files:
	databases      : Makefile 

Log message:
build openldap gssapi


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/19 02:22:53

Modified files:
	games/adventure: hdr.h init.c 

Log message:
Silence a whole slew of clang warnings by doing a no-op in the crazy
internal obfuscation scheme the other way around, thereby avoiding a
signed underflow.

ok mestre


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/19 02:31:43

Modified files:
	sys/scsi       : scsiconf.h 

Log message:
Add some comments about the assumptions of the scsi mid layer

ok krw@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/19 03:06:39

Modified files:
	share/man/man5 : pf.conf.5 

Log message:
replace tabs with spaces, for consistency, in the BNF display;
from michal mazurek


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 03:19:49

Modified files:
	geo/gdal       : Makefile distinfo 
	geo/gdal/patches: patch-apps_gdalserver_c patch-configure 
	                  patch-frmts_openjpeg_openjpegdataset_cpp 
	                  patch-swig_perl_GNUmakefile 
	                  patch-swig_python_setup_py 
	geo/gdal/pkg   : PLIST-main PLIST-python 
Added files:
	geo/gdal/patches: patch-port_cpl_port_h 

Log message:
Update to GDAL 2.2.0.

See http://www.osgeo.org/node/1789.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 04:02:58

Modified files:
	geo/mapproxy   : Makefile distinfo 
	geo/mapproxy/pkg: PLIST 
Removed files:
	geo/mapproxy/patches: patch-setup_cfg 

Log message:
Update to mapproxy 1.10.0.

Switch to use pypi.io as upstream instead of github, allows to get rid
of a patch and the post-patch target.


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 04:10:27

Modified files:
	devel/cargo    : Makefile 

Log message:
Remove the use of gcc4 module, not needed anymore since rust has the
libgcc.a symlink pointing to the basesystem libgcc. From semarie@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/19 04:18:57

Modified files:
	sys/dev/ic     : r92creg.h 

Log message:
Fix R92C_USTIME_TSF register definition.
According to Kevin Lo it was wrong (and is also wrong in the Linux driver).
FreeBSD made the same change in r282623.
Patch by Kevin Lo.


CVSROOT:	/cvs
Module name:	src
Changes by:	rzalamena@cvs.openbsd.org	2017/05/19 04:43:05

Modified files:
	sys/net        : pf.c 

Log message:
Change PF behavior to allow MLD Listener Report packets to be sent
without needing a previously created state by MLD Listener Query. It
wasn't working because: (1) you might not have a previous MLD Listener
Query and (2) the addresses of the Query and Report don't match.

ok mikeb@, sashan@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/19 04:53:33

Modified files:
	sys/dev/pci    : if_rtwn.c 

Log message:
Make rtwn(4) support fixed transmit rates set with ifconfig(8).
Useful for development and testing but not recommended for regular usage.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/19 05:30:40

Modified files:
	sys/dev/pci    : if_rtwn.c 

Log message:
Make rtwn(4) add frames which failed to transmit to AMRR's transmit counter.
More closely matches what other drivers are doing.


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/19 05:42:48

Modified files:
	sys/dev/ic     : ar9003.c ar9003reg.h athnreg.h 

Log message:
Make monitor work with athn(4) on my 3T3R AR9380 device.
This card can now receive packets. Transmit is still broken and
Kevin Lo reports that his 2T2R AR9380 device cannot receive yet.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 06:26:43

Modified files:
	net/libtorrent : Makefile 
	net/libtorrent/patches: patch-src_torrent_utils_net_h 
Added files:
	net/libtorrent/patches: clangpatch-src_torrent_utils_log_cc 
	                        clangpatch-src_utils_queue_buckets_h 
	                        patch-src_net_socket_set_h 
	                        patch-src_torrent_common_h 
	                        patch-src_torrent_data_block_failed_h 
	                        patch-src_torrent_data_transfer_list_cc 
	                        patch-src_torrent_utils_extents_h 
	                        patch-src_utils_instrumentation_h 

Log message:
one of the more fun fixes for clang. I don't know where freebsd gets their
tr1, but we don't, so fix it by subsitution. Leaves us with a few nits to
fix. Conditionalize clang patches that interfere with tr1 substitution...


CVSROOT:	/cvs
Module name:	src
Changes by:	otto@cvs.openbsd.org	2017/05/19 06:54:31

Modified files:
	sbin/disklabel : disklabel.8 editor.c 

Log message:
tweak partition sizes for auto-alloction to better suit 8G disks
ok kr@ aja@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 07:19:59

Modified files:
	multimedia/mediatomb: Makefile 
Added files:
	multimedia/mediatomb/patches: patch-src_hash_dbo_hash_h 
	                              patch-src_hash_dbr_hash_h 
	                              patch-src_hash_dso_hash_h 
	                              patch-src_singleton_h 
	                              patch-tombupnp_upnp_src_genlib_net_http_webserver_c 
	                              patch-tombupnp_upnp_src_uuid_upnp_md5_c 

Log message:
build with clang


CVSROOT:	/cvs
Module name:	www
Changes by:	edd@cvs.openbsd.org	2017/05/19 08:04:18

Modified files:
	.              : want.html 

Log message:
Add 2 x Yubikeys to want.html.

GnuPG2 MAINTAINER pea@ and myself would like the ability to properly test gpg2
port updates.

Apparently I don't need an OK for want.html, but since I have two:
OK tb@, pea@. Thanks.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/19 08:11:30

Modified files:
	.              : errata60.html errata61.html 

Log message:
release exec_subr errata.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/19 09:09:34

Modified files:
	.              : index.html 

Log message:
admit to the existence of the #openbsd irc channel on freenode.

discussed with deraadt, tb, brynet


CVSROOT:	/cvs
Module name:	src
Changes by:	tj@cvs.openbsd.org	2017/05/19 10:40:59

Modified files:
	sys/kern       : Tag: OPENBSD_6_1 exec_subr.c 

Log message:
MFC: Add a gap of 1MB between the stack and mmap spaces.


CVSROOT:	/cvs
Module name:	src
Changes by:	tj@cvs.openbsd.org	2017/05/19 10:42:44

Modified files:
	sys/kern       : Tag: OPENBSD_6_0 exec_subr.c 

Log message:
MFC: Add a gap of 1MB between the stack and mmap spaces.


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/19 10:56:49

Modified files:
	share/man/man5 : installurl.5 

Log message:
Clarify that /etc/installurl is only created when using the http method.
Xr pkg_add while there.

ok jmc


CVSROOT:	/cvs
Module name:	ports
Changes by:	mglocker@cvs.openbsd.org	2017/05/19 11:35:54

Log message:
    This is a display-based version of the Space Invaders game.
    The object of the game is to prevent the aliens to invade you.
    For that you need to destroy all fifty-five aliens before they either
    reach your laser base or the floor.
    
    input and ok tb@
    
    Status:
    
    Vendor Tag:	mglocker
    Release Tags:	mglocker_2017-May-19
    
    N ports/games/spaceinvaders/distinfo
    N ports/games/spaceinvaders/Makefile
    N ports/games/spaceinvaders/pkg/PLIST
    N ports/games/spaceinvaders/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/19 12:15:15

Modified files:
	sys/dev/ic     : r92creg.h rtwn.c 

Log message:
Repair rtwn(4) IQ calibration.

Restore behaviour from before the fix of the botched R92C_USTIME_TSF register
definition. IQ cal code was referring to this register by name, but actually
needs to use the old value. So add a register definition for the old value
under a new name (R92C_BCN_CTRL1) and use this name in the IQ cal code.

Discussed with Kevin Lo


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/19 13:08:22

Modified files:
	.              : books.html 

Log message:
add httpd and relayd mastery.


CVSROOT:	/cvs
Module name:	src
Changes by:	eric@cvs.openbsd.org	2017/05/19 13:56:42

Modified files:
	usr.sbin/smtpd : smtpctl.c 

Log message:
- switch to recallocarray
- remove pre-allocation
- use a better growth pattern

ok gilles@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/19 15:07:17

Modified files:
	usr.bin/ssh    : PROTOCOL.agent 

Log message:
Now that we no longer support SSHv1, replace the contents of this file
with a pointer to https://tools.ietf.org/html/draft-miller-ssh-agent-00
It's better edited, doesn't need to document stuff we no longer implement
and does document stuff that we do implement (RSA SHA256/512 signature
flags)


CVSROOT:	/cvs
Module name:	www
Changes by:	djm@cvs.openbsd.org	2017/05/19 15:19:01

Modified files:
	openssh        : specs.html 

Log message:
link to I-D version of the ssh-agent protocol


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 15:54:35

Modified files:
	www/mozilla-firefox: Makefile distinfo 
	www/firefox-i18n: Makefile.inc distinfo 

Log message:
Bugfix update to firefox 53.0.3.

See https://www.mozilla.org/en-US/firefox/53.0.3/releasenotes/


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 15:55:40

Modified files:
	www/firefox-esr: Makefile distinfo 
	www/firefox-esr-i18n: Makefile.inc distinfo 

Log message:
Bugfix update to firefox-esr 52.1.2.

See https://www.mozilla.org/en-US/firefox/52.1.2/releasenotes/


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 15:58:35

Modified files:
	www/mozilla-firefox: Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC: bugfix update to firefox 53.0.3.

See https://www.mozilla.org/en-US/firefox/53.0.3/releasenotes/

Packages for -stable available at
https://packages.rhaalovely.net/pub/OpenBSD/6.1/packages/${ARCH}


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/19 15:59:45

Modified files:
	www/firefox-esr: Tag: OPENBSD_6_1 Makefile distinfo 

Log message:
MFC: bugfix update to firefox-esr 52.1.2.

See https://www.mozilla.org/en-US/firefox/52.1.2/releasenotes/

Packages for -stable available at
https://packages.rhaalovely.net/pub/OpenBSD/6.1/packages/${ARCH}


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 16:25:53

Modified files:
	net/libtorrent : Makefile 
	net/libtorrent/patches: patch-src_net_socket_set_h 
	                        patch-src_torrent_common_h 
	                        patch-src_torrent_data_block_failed_h 
	                        patch-src_torrent_data_transfer_list_cc 
	                        patch-src_torrent_utils_extents_h 
	                        patch-src_torrent_utils_net_h 
	                        patch-src_utils_instrumentation_h 
Added files:
	net/libtorrent/patches: patch-src_data_memory_chunk_cc 
	                        patch-src_protocol_request_list_cc 
	                        patch-src_torrent_data_file_cc 
	                        patch-src_torrent_download_cc 
	                        patch-src_torrent_peer_connection_list_cc 

Log message:
static members must exist, even have external linkage for some, so
that rtorrent can work
bump accordingly.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 16:26:32

Modified files:
	net/rtorrent   : Makefile 
Added files:
	net/rtorrent/patches: patch-src_core_manager_cc 
	                      patch-src_core_poll_manager_cc 
	                      patch-src_display_window_file_list_cc 
	                      patch-src_rpc_exec_file_cc 
	                      patch-src_rpc_object_storage_cc 
	                      patch-src_signal_handler_cc 

Log message:
make it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 16:37:35

Added files:
	net/freetalk/patches: patch-src_callbacks_cc 

Log message:
can't modify read-only result, make a copy first (clang error)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 16:43:11

ports/net/p5-Net-RawIP/patches

Update of /cvs/ports/net/p5-Net-RawIP/patches
In directory cvs.openbsd.org:/tmp/cvs-serv17078/patches

Log Message:
Directory /cvs/ports/net/p5-Net-RawIP/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 16:43:54

Added files:
	net/p5-Net-RawIP/patches: patch-RawIP_xs 

Log message:
clang really hates wrong returns


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 16:55:35

Modified files:
	net/gnugk      : Makefile 
	net/gnugk/patches: patch-yasocket_cxx 
Added files:
	net/gnugk/patches: patch-Toolkit_cxx patch-gk_cxx 

Log message:
use .beforesubst so that patch regen doesn't fuck up
missing headers for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:14:09

Added files:
	net/centerim/patches: patch-libicq2000_src_ContactTree_cpp 
	                      patch-libjabber_jconn_c 
	                      patch-src_hooks_abstracthook_h 

Log message:
fix compilation with clang. warns a lot about stuff that shouldn't be though


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:17:24

Modified files:
	textproc/clo++/patches: patch-configure patch-src_Generator_cc 
Added files:
	textproc/clo++/patches: patch-src_StrUtil_cc 

Log message:
fix with clang (strrchr). regen patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:20:59

Added files:
	math/minisat/patches: patch-core_SolverTypes_h 

Log message:
fix friend


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:23:11

Modified files:
	misc/hfsplus   : Makefile 

Log message:
assert gnu89-inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:33:02

Added files:
	misc/xnc/patches: patch-bookmark_cxx patch-filedir_softmagic_c 
	                  patch-plugins_aqua_aquagui_cxx 
	                  patch-plugins_five_fivegui_cxx 

Log message:
fixes for clang, still warns a lot


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:36:08

Modified files:
	misc/wmtimer   : Makefile 

Log message:
assert gnu89 inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:39:14

Modified files:
	mail/wmmail    : Makefile 

Log message:
assert gnu89 inlines, fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:41:25

Modified files:
	mail/wmmultipop3: Makefile 
	mail/wmpop3    : Makefile 

Log message:
more gnu89 inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:42:51

Modified files:
	graphics/wmphoto: Makefile 

Log message:
gnu89 inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/19 17:59:17

Added files:
	graphics/dia/patches: patch-lib_Makefile_in 

Log message:
--export-dynamic  is a linker option, pass it straight thru.


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/19 20:35:47

Modified files:
	usr.bin/ssh    : readconf.c 

Log message:
there's no reason to artificially limit the key path here, just check
that it fits PATH_MAX; spotted by Matthew Patton


CVSROOT:	/cvs
Module name:	www
Changes by:	djm@cvs.openbsd.org	2017/05/19 22:33:16

Modified files:
	openssh        : specs.html 

Log message:
we no longer implement SSHv1, so remove references to its
specifications


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/20 01:43:10

Modified files:
	graphics/p5-Image-ExifTool: Makefile distinfo 
	graphics/p5-Image-ExifTool/pkg: PLIST 

Log message:
Update to p5-Image-ExifTool-10.50.

from Patrick Keshishian (Maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/20 01:55:14

Modified files:
	devel/p5-Expect: Makefile distinfo 

Log message:
Update to p5-Expect-1.35.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/20 02:02:16

Modified files:
	devel/py-altgraph: Makefile distinfo 

Log message:
Update to py-altgraph-0.14.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/20 02:10:23

Modified files:
	devel/py-configargparse: Makefile distinfo 

Log message:
Update to py-ConfigArgParse-0.12.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/05/20 03:31:19

Modified files:
	usr.bin/tsort  : tsort.c 

Log message:
reorg node struct so it's packed tighter (found by clang actually)
mark usage __dead
okay millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/20 04:13:42

Modified files:
	sys/dev/usb    : uslcom.c 

Log message:
Accept baud rates up to 2 Mbps as these are supported by CP2104 and later
variants.

ok jsg@, deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/20 04:25:46

Modified files:
	share/man/man4 : uslcom.4 

Log message:
Mention that not all varaints support baud rates up to 2 Mbps.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/20 04:32:43

Added files:
	devel/boost/patches: 
	                     patch-libs_config_test_boost_has_nl_types_h_ipp 

Log message:
make sure the one test that boost fails on clang conforms to what gcc does


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/20 05:25:15

Modified files:
	textproc/jo    : Makefile distinfo 
	textproc/jo/pkg: DESCR 

Log message:
Update jo to 1.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/20 06:48:56

Modified files:
	lib/libc/hidden: stdlib.h 
	lib/libc/stdlib: heapsort.c qsort.c 

Log message:
Use David Musser's introsort algorithm to fall back to heapsort(3)
when the recursion depth reaches 2*lg(n + 1).  This avoids quicksort's
quadratic behavior for pathological input without appreciably
changing the average run time.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/20 07:09:01

Modified files:
	lib/libc/stdlib: qsort.3 

Log message:
Document that qsort falls back to heapsort() if the recursion depth
exceeds 2 lg N and add a reference to the introsort paper.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/20 08:24:46

Modified files:
	share/man/man4 : uslcom.4 

Log message:
spelling;


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/20 11:13:01

Modified files:
	games/lgeneral : Makefile 
	games/lgeneral/patches: patch-lgeneral_gui_c 
Removed files:
	games/lgeneral/patches: patch-lgeneral_gui_h 
	                        patch-lgeneral_sdl_c 
	                        patch-lgeneral_sdl_h 
	                        patch-lgeneral_theme_c 
	                        patch-lgeneral_tools_c 
	                        patch-lgeneral_tools_h 
	                        patch-lgeneral_unit_c 
	                        patch-lgeneral_unit_h 

Log message:
bleh sdl wants gnu89 inlines anyway, so just assert it, and don't convert
the rest...


CVSROOT:	/cvs
Module name:	src
Changes by:	sashan@cvs.openbsd.org	2017/05/20 16:56:43

Modified files:
	sys/net        : pf.c 

Log message:
- fixes regression found by pf_forward test

O.K. bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/20 17:12:40

Modified files:
	sys/dev/fdt    : rkclock.c rkclock_clocks.h 

Log message:
More SD/MMC controller-related clocks.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/20 18:06:40

Modified files:
	.              : cvsync.html 
	build/mirrors  : cvsync.html.head 

Log message:
remove mention of sup and cvsup; from amit kulkarni


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/20 18:43:52

Added files:
	databases/strigi/patches: 
	                          patch-libstreamanalyzer_lib_rdfnamespaces_h 
	                          patch-libstreamanalyzer_plugins_endplugins_ffmpegendanalyzer_cpp 
	                          patch-strigidaemon_bin_daemon_xesam_xesamsearch_h 

Log message:
fix for clang


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/20 20:37:52

Modified files:
	sbin/iked      : dh.c 
	usr.sbin/ikectl: ikeca.c 
	usr.sbin/radiusd: radiusd.c 
	usr.sbin/sasyncd: monitor.c 

Log message:
A few more freezero() uses
ok yasuoka mikeb


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 02:59:45

Modified files:
	sys/dev/fdt    : files.fdt 
	sys/arch/arm64/conf: GENERIC RAMDISK 
Added files:
	sys/dev/fdt    : dwmmc.c 

Log message:
Add dwmmc(4), a driver for the Synopsis Designware SD/MMC controller as found
on various Rockchip SoCs.

This is still WIP.  Next steps will be to get rid of various busy-wait loops
and add DMA support.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/21 03:09:58

Modified files:
	distrib/miniroot: install.sub 

Log message:
Ensure a clean initial state (e.g. in case of an installer restart)
by moving setting ulimit, unmounting all filesystems and cleaning up
the dhcp state upwards to before sourcing install.md.

OK tb@

While here, 1>/dev/null -> >/dev/null.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 03:33:38

ports/textproc/arabica/patches

Update of /cvs/ports/textproc/arabica/patches
In directory cvs.openbsd.org:/tmp/cvs-serv21786/patches

Log Message:
Directory /cvs/ports/textproc/arabica/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 03:49:30

Added files:
	devel/boost/patches: patch-tools_build_src_engine_jam_h 

Log message:
do not redefine unix if it's already there, silences some clang warnings


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 03:50:45

Added files:
	textproc/arabica/patches: 
	                          patch-include_SAX_helpers_AttributesImpl_hpp 
	                          patch-include_SAX_helpers_AttributesImpl_hpp.orig 
	                          patch-include_Taggle_impl_html_HTMLScanner_hpp 
	                          patch-include_XPath_impl_xpath_logical_hpp 
	                          patch-include_io_convert_adaptor_hpp 
	                          patch-include_io_socket_stream_hpp 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 04:50:19

ports/devel/boost/files

Update of /cvs/ports/devel/boost/files
In directory cvs.openbsd.org:/tmp/cvs-serv30910/files

Log Message:
Directory /cvs/ports/devel/boost/files added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 05:22:31

Modified files:
	devel/boost    : Makefile 
Added files:
	devel/boost/files: user.hpp 

Log message:
first try at a clang compile, reuse gcc config so that stuff that builds
does build.

todo:
- enable more stuff
- look closer at the tooling, needs something like the gcc config change

but at least, this allows us to look at the remaining ports.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/21 05:23:30

Modified files:
	security/gnupg2: Makefile distinfo 
	security/gnupg2/pkg: PLIST 

Log message:
Update to 2.1.21
Yubikey tested by Pavel Korovin, thanks !
ok edd@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 05:28:27

Added files:
	databases/soprano/patches: patch-client_socket_cpp 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 05:52:04

Modified files:
	sys/dev/fdt    : if_dwge_fdt.c 
	sys/dev/ic     : dwc_gmac.c dwc_gmac_var.h 

Log message:
Rockchip SoCs needs some additional register twiddling when the link speed
changes to set the appropriate clock.  Add a sc_statchg callback in the
core softc that gets called when the link status changes.


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/21 05:54:41

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
correct a return value test
ok millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/21 05:57:53

Modified files:
	print/texlive  : Makefile.inc 
	print/texlive/base: Makefile distinfo 
	print/texlive/base/pkg: DESCR PLIST README 
	print/texlive/texmf: Makefile adj.mk distinfo 
	print/texlive/texmf/files: mk_plists.py 
	print/texlive/texmf/patches: 
	                             patch-texmf-dist_doc_info_texdraw_info 
	                             patch-texmf-dist_scripts_bibexport_bibexport_sh 
	                             patch-texmf-dist_scripts_context_stubs_unix_mtxrun 
	                             patch-texmf-dist_web2c_texmf_cnf 
	                             patch-texmf-dist_web2c_texmfcnf_lua 
	print/texlive/texmf/pkg: PLIST-buildset PLIST-context PLIST-docs 
	                         PLIST-full PLIST-main 

Log message:
Update TeX Live to 2016.

Testing and input from:
* sthen@
* Nicola Tomasone
* pirofti@
* giovanni@
* Ze Loff
* rsadowski@

OK pirofti@

Many thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 06:34:39

Modified files:
	x11/pinot      : Makefile 
Added files:
	x11/pinot/patches: patch-IndexSearch_ModuleFactory_cpp 
	                   patch-Tokenize_filters_GMimeMboxFilter_cc 

Log message:
build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/21 07:00:53

Modified files:
	etc/etc.loongson: MAKEDEV.md 
	sys/arch/loongson/conf: GENERIC 
	sys/arch/loongson/include: autoconf.h pmon.h vmparam.h 
	sys/arch/loongson/loongson: conf.c generic3a_machdep.c machdep.c 
	                            pmon.c 
	sys/arch/mips64/conf: files.mips64 
	sys/dev/pci/drm/radeon: radeon_bios.c 
	sys/kern       : kern_pledge.c 
	sys/uvm        : uvm_device.c 
Added files:
	sys/lib/libkern/arch/mips64: sync.S 

Log message:
Enable radeondrm(4) on loongson to get accelerated graphics
with the RS780E chipset.

OK kettenis@, jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/21 07:02:52

Modified files:
	etc/etc.loongson: MAKEDEV 

Log message:
regen


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/21 07:07:19

Modified files:
	share/man/man8/man8.loongson: MAKEDEV.8 

Log message:
regen


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 07:12:45

Added files:
	devel/xulrunner/24/patches: patch-js_src_jsopcode_cpp 

Log message:
allow clang to go further, pointer comparison


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	visa@cvs.openbsd.org	2017/05/21 07:18:29

Modified files:
	driver         : Makefile 
	lib/mesa       : Makefile.bsd-wrapper 
	xserver/hw/xfree86/os-support/bsd: sgi_video.c 

Log message:
Make X work with radeondrm(4) hardware on loongson.

OK jsg@


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	visa@cvs.openbsd.org	2017/05/21 07:22:23

Modified files:
	distrib/sets/lists/xbase: md.loongson 
	distrib/sets/lists/xserv: md.loongson 

Log message:
sync


CVSROOT:	/cvs
Module name:	www
Changes by:	edd@cvs.openbsd.org	2017/05/21 07:42:51

Modified files:
	.              : want.html 

Log message:
want.html: The request for Yubikeys has now been fulfilled.


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/21 08:22:36

Modified files:
	sys/arch/loongson/loongson: pmon.c 

Log message:
Tweak style.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 08:44:31

Modified files:
	math/calc      : Makefile distinfo 
	math/calc/pkg  : PLIST 

Log message:
update to calc-2.12.5.5


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 08:52:54

Modified files:
	multimedia/minidlna: Makefile distinfo 
	multimedia/minidlna/patches: patch-minidlna_conf 
	                             patch-upnphttp_c patch-utils_c 
Removed files:
	multimedia/minidlna/patches: patch-inotify_c patch-inotify_h 
	                             patch-minidlna_c patch-scanner_c 
	                             patch-upnpglobalvars_c 
	                             patch-upnpglobalvars_h 

Log message:
udpate to MiniDLNA-1.2.0, rescan patch is now committed upstream


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 09:02:41

Modified files:
	graphics/ImageMagick: Makefile distinfo 

Log message:
update to ImageMagick-6.9.8-6


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/21 09:41:49

Modified files:
	textproc/ripgrep: Makefile distinfo 

Log message:
Update to ripgrep-0.5.2

From semarie, discussed with espie


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/21 10:12:43

Modified files:
	net/openvpn    : Makefile 
	net/openvpn/patches: patch-src_openvpn_route_c 

Log message:
Add support for non-0 routing tables

Patch from Steven McDonald, already committed upstream.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 10:23:56

Modified files:
	sys/dev/fdt    : dwmmc.c 

Log message:
Actually wait on auto command done (ACD) as was the intention.


CVSROOT:	/cvs
Module name:	src
Changes by:	jca@cvs.openbsd.org	2017/05/21 10:33:53

Modified files:
	share/man/man4 : route.4 
	sys/net        : route.h 

Log message:
Fix copy/paste in comment.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 11:27:22

Modified files:
	www/squid      : Makefile 

Log message:
use WANT_CXX


CVSROOT:	/cvs
Module name:	xenocara
Changes by:	shadchin@cvs.openbsd.org	2017/05/21 11:36:40

Modified files:
	dist/xkeyboard-config/symbols: pc 

Log message:
Add "Sun LKeys" section, this patch forgot add in last update.

noticed deraadt@, ok matthieu@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 11:44:52

Modified files:
	sys/dev/fdt    : dwmmc.c 
	sys/arch/armv7/conf: GENERIC RAMDISK 

Log message:
Add support for the SD/MMC controller found on Samsuung Exynos5.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 11:47:01

Modified files:
	sys/arch/armv7/exynos: files.exynos 
Removed files:
	sys/arch/armv7/exynos: exesdhc.c 

Log message:
Remove exesdhc(4).  This driver was never finished and has been replaced
by dwmmc(4).


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/21 11:47:53

Modified files:
	graphics/clutter/core: Makefile distinfo 
	graphics/clutter/core/pkg: PLIST 
Removed files:
	graphics/clutter/core/patches: patch-tests_conform_actor-graph_c 

Log message:
update to clutter-1.26.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/21 11:48:10

Modified files:
	x11/gnome/mutter: Makefile distinfo 
	x11/gnome/mutter/patches: patch-src_compositor_compositor_c 
	                          patch-src_core_main_c 

Log message:
update to mutter-3.24.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/21 11:48:25

Modified files:
	x11/gnome/shell: Makefile distinfo 

Log message:
update to gnome-shell-3.24.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/21 11:48:41

Modified files:
	x11/gnome/shell-extensions: Makefile distinfo 
	x11/gnome/shell-extensions/pkg: PLIST 

Log message:
update to gnome-shell-extensions-3.24.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/21 11:49:04

Modified files:
	devel/vte3     : Makefile distinfo 

Log message:
update to vte-0.48.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/21 11:49:17

Modified files:
	x11/gnome/terminal: Makefile distinfo 

Log message:
update to gnome-terminal-3.24.2


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 11:49:45

Modified files:
	sys/arch/armv7/exynos: exclock.c 

Log message:
Add clocks for SD/MCC controller on Exynos 5420/5800.


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/21 11:51:30

Modified files:
	devel/py-spark-parser: Makefile distinfo 

Log message:
Update to py-spark-parser 1.6.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/21 11:54:10

Modified files:
	devel/py-xdis  : Makefile distinfo 

Log message:
Update to py-xdis 3.3.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/21 12:02:39

Modified files:
	devel/py-hypothesis: Makefile distinfo 

Log message:
Update to py-hypothesis 3.9.0


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/21 12:22:51

Modified files:
	faq            : faq5.html 

Log message:
replace the 'why is /usr/obj on its own partition' with a short section on
ctags files, which allow you to navigate the source trees quickly.

ok tj


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/21 13:14:36

Modified files:
	sys/arch/arm64/arm64: pmap.c 

Log message:
Give the vp pool its own allocator.  Avoiding the logic that creates large
pool pages that fit at least 8 pool items reduces the kva pressure.
Unfortunately this doesn't completely eliminate the problems sthen@ is
seeing.

ok drahn@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 15:05:22

Modified files:
	math/calc      : Makefile 
Added files:
	math/calc/patches: patch-version_c 

Log message:
Fix intermittent segfault in the version string printing that was introduced
in the last update.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 15:46:32

Modified files:
	databases/pecl-redis: Makefile distinfo 

Log message:
update to pecl-redis-3.1.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/21 15:51:27

Modified files:
	www/pecl-geoip : Makefile distinfo 
Removed files:
	www/pecl-geoip/patches: patch-config_m4 

Log message:
update to pecl-geoip-1.1.1


CVSROOT:	/cvs
Module name:	www
Changes by:	espie@cvs.openbsd.org	2017/05/21 16:36:26

Modified files:
	.              : want.html 

Log message:
we finally killed those boxen, they were taking rackspace for obsolete
builds.


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/21 16:53:36

Modified files:
	faq            : upgrade40.html 

Log message:
fix weird linebreak inside <pre>


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/21 16:57:30

Modified files:
	faq            : upgrade35.html upgrade36.html upgrade37.html 
	                 upgrade38.html upgrade39.html upgrade41.html 
	                 upgrade42.html upgrade43.html 

Log message:
more of these linebreaks inside <pre>


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/21 17:12:55

Modified files:
	libressl       : openbsd.css 
	openbgpd       : openbsd.css 
	opencvs        : openbsd.css 
	openntpd       : openbsd.css 
	opensmtpd      : openbsd.css 
	openssh        : openbsd.css 
	.              : openbsd.css 

Log message:
treat text inside <tt> as preformatted. avoids unfortunate linebreaks
in commands and paths.

discussed with tj


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/21 17:16:04

Modified files:
	faq            : upgrade59.html upgrade60.html upgrade61.html 

Log message:
remove redundant css


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 17:33:12

Added files:
	net/radcli/patches: patch-lib_util_c 

Log message:
bogus char at end of constant (there's no 'd' for doubles)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 17:39:46

Modified files:
	games/sdlroids : Makefile 

Log message:
assert gnu89 inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 17:41:47

ports/games/xwelltris/patches

Update of /cvs/ports/games/xwelltris/patches
In directory cvs.openbsd.org:/tmp/cvs-serv33745/patches

Log Message:
Directory /cvs/ports/games/xwelltris/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 17:42:17

Added files:
	games/xwelltris/patches: patch-src_sdl_sdlwelldrawing_cxx 

Log message:
pointer vs integer


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/21 18:13:09

Added files:
	games/widelands/patches: patch-src_i18n_cc 
	                         patch-src_journal_exceptions_h 
	                         patch-src_main_cc 
	                         patch-src_network_network_lan_promotion_cc 
	                         patch-src_writeHTML_cc 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/21 19:56:22

Modified files:
	sys/net        : if_ethersubr.c 

Log message:
white space fix. no functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/21 20:23:18

Log message:
    Import py-simpleeval-0.9.5 from semarie with minor tweaks from me
    
    A quick single file library for easily adding evaluatable expressions into
    python projects.
    
    Say you want to allow a user to set an alarm volume, which could depend on the
    time of day, alarm level, how many previous alarms had gone off, and if there
    is music playing at the time.
    
    Or if you want to allow simple formulae in a web application, but don't want to
    give full eval() access, or don't want to run in javascript on the client side.
    
    Status:
    
    Vendor Tag:	danj
    Release Tags:	danj_20170521
    
    N ports/devel/py-simpleeval/Makefile
    N ports/devel/py-simpleeval/distinfo
    N ports/devel/py-simpleeval/pkg/DESCR
    N ports/devel/py-simpleeval/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	danj@cvs.openbsd.org	2017/05/21 20:26:01

Modified files:
	devel          : Makefile 

Log message:
+ py-simpleeval
+ py-simpleeval,python3


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/21 23:25:03

Modified files:
	graphics/rawtherapee: Makefile distinfo 
	graphics/rawtherapee/patches: patch-CMakeLists_txt 
	                              patch-rtengine_sleef_c 
	graphics/rawtherapee/pkg: PLIST 

Log message:
update to rawtherapee-5.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 02:04:07

Modified files:
	lang/gcc/4.9   : gcc4.port.mk 

Log message:
provide an indirection to libatomic, because at least one port depends on it
when not built with base clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 02:04:39

Modified files:
	x11/ogre       : Makefile 

Log message:
fix packaging with clang, requires -current gcc4.port.mk for gcc4


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 02:06:25

Modified files:
	infrastructure/mk: modules.port.mk 

Log message:
improvements to WANT_CXX
- add clang to the list of keywords (to mean ports' clang)
- take MODGCC4_ARCHS/MODCLANG_ARCHS into account if they're defined,
so we can skip one compiler if it's not appropriate and go to the next
one.

This should take care of 95% of the remaining gcc4/clang users on "some
architectures"


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/22 03:05:49

Modified files:
	print/texlive  : Makefile.inc 

Log message:
tweak the comment about ftp.tug.org which doesn't work with ftp(1)'s keepalive
implementation

drop the ftp.math.utah.edu mirror as some people have had problems with it
stalling

ok edd@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/22 03:24:24

Modified files:
	mail/gmime30   : Makefile distinfo 

Log message:
Update to gmime30-3.0.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 04:22:25

Modified files:
	x11/vlc        : Makefile 
	x11/vlc/patches: patch-include_vlc_fixups_h 
Added files:
	x11/vlc/patches: patch-Makefile_in patch-include_vlc_atomic_h 
	                 patch-include_vlc_playlist_h 
	                 patch-modules_demux_mp4_libmp4_h 
	                 patch-modules_gui_qt4_dialogs_messages_cpp 
	                 patch-modules_gui_qt4_dialogs_messages_hpp 
	                 patch-modules_gui_skins2_src_dialogs_cpp 

Log message:
let it build with base clang.
there's an horrible work-around because we have use_locale stubs only
in C++ mode...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 04:25:02

Modified files:
	www/mozilla-firefox: Makefile 

Log message:
allow build with clang, be explicit about the C++ lib


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 04:26:14

Modified files:
	www/firefox-esr: Makefile 

Log message:
let it build with base clang, be explicit about the c++ lib


CVSROOT:	/cvs
Module name:	ports
Changes by:	sebastia@cvs.openbsd.org	2017/05/22 07:07:44

Modified files:
	sysutils/ruby-puppet/4: Makefile distinfo 
	sysutils/ruby-puppet/4/pkg: PLIST 

Log message:
Long overdue update 4.8.4 -> 4.10.1
Check Puppet release notes for detailed
changes for all the revisions in between.

runs for me since a week without issues.

OK jasper@


CVSROOT:	/cvs
Module name:	src
Changes by:	gilles@cvs.openbsd.org	2017/05/22 07:40:54

Added files:
	usr.sbin/smtpd : smtpf_session.c 

Log message:
stub for the smtp filter protocol, currently always returns -1


CVSROOT:	/cvs
Module name:	src
Changes by:	gilles@cvs.openbsd.org	2017/05/22 07:43:15

Modified files:
	usr.sbin/smtpd : parse.y smtp.c smtpd.h 
	usr.sbin/smtpd/smtpd: Makefile 

Log message:
- filters are currently broken, do not allow using them until we're done


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:47:39

Modified files:
	archivers/zstd : Makefile 

Log message:
okay, this is C, but still does not need gcc4 on clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:48:39

Added files:
	games/dustrac/patches: patch-src_editor_editorview_cpp 

Log message:
missing includes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:52:55

Modified files:
	graphics/rawtherapee: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/22 07:54:14

Modified files:
	sys/kern       : subr_witness.c 

Log message:
Drop kernel trace points. The trace facility does not exist on OpenBSD.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:54:20

Modified files:
	productivity/libalkimia: Makefile 

Log message:
allow build with clang, /usr/local does not come for free


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:54:51

Modified files:
	productivity/ledger: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:55:54

Modified files:
	multimedia/mlt : Makefile 

Log message:
swig will use g++ if we don't tell it otherwise. Unhardcode


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:57:11

Modified files:
	textproc/vislcg3: Makefile 

Log message:
WANT_CXX. No need for LIBECXX because ports clang will bring it and base
clang has LIBCXX already


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 07:58:24

Modified files:
	www/seamonkey  : Makefile 

Log message:
most complex WANT_CXX yet. The one for which I wrote the *ARCHS support


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 08:00:21

Modified files:
	databases/mongodb: Makefile 
	databases/mongodb/patches: patch-SConstruct 
Added files:
	databases/mongodb/patches: 
	                           patch-src_mongo_platform_stack_locator_openbsd_cpp 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 08:01:52

Added files:
	textproc/clucene/patches: 
	                          patch-src_shared_CLucene_LuceneThreads_h 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 08:02:55

Added files:
	net/kea/patches: patch-src_lib_util_watch_socket_cc 

Log message:
missing include for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 08:22:24

Added files:
	mail/zarafa/zarafa/patches: 
	                            patch-provider_libserver_ECConvenientDepthObjectTable_cpp 
	                            patch-provider_plugins_plugin_h 

Log message:
clang wants const correct operators


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 08:25:14

Modified files:
	games/scorched3d/patches: patch-src_client_client_SecureID_cpp 

Log message:
misses unistd


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/22 08:26:08

Modified files:
	sys/netinet    : ip_icmp.c 

Log message:
Fix a mbuf leak when reflecting an ICMP packet with IP options.
Free the options in icmp_input_if() after a successful call to
icmp_reflect().
bug report and analysis by Hendrik Gerlach
OK krw@ claudio@ phessler@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 08:42:47

Removed files:
	x11/kde4/libkdcraw/patches: patch-libkdcraw_kdcraw_cpp 
	                            patch-libkdcraw_kdcraw_p_h 

Log message:
zap old patches that are no longer needed.  pkg-config finds  its includes
correctly, and since clang does not have /usr/local/include in its default
path, it will fail miserably.


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/22 08:51:10

Modified files:
	usr.bin/systat : pftop.c 

Log message:
Support for displaying flow queues alongside H-FSC

This (ab)uses the fact that node->qstats.data.period field in
hfsc_class_stats structure is at the same offset as the 'flows'
field in fqcodel_stats.

While here make use of a presently empty field "SCH" to display
the queue management policy (flow or fifo) which is not strictly
a scheduler, but it will hopefully become descriptive and useful
later. This distinguishes flow queues from the regular HFSC ones.

OK sthen, visa


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 09:02:40

Modified files:
	graphics/inkscape: Makefile 
Added files:
	graphics/inkscape/patches: patch-src_libavoid_connector_cpp 
	                           patch-src_ui_tools_flood-tool_cpp 

Log message:
allow build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 09:06:28

Modified files:
	games/openxcom : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/22 10:00:47

Modified files:
	bin/md5        : md5.c 

Log message:
obvious use for freezero()


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/22 10:25:09

Modified files:
	sys/netinet    : Tag: OPENBSD_6_1 ip_icmp.c 

Log message:
Fix a mbuf leak when reflecting an ICMP packet with IP options.
Free the options in icmp_input_if() after a successful call to
icmp_reflect().
bug report and analysis by Hendrik Gerlach
OK krw@ claudio@ phessler@ millert@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/22 10:25:52

Modified files:
	sys/netinet    : Tag: OPENBSD_6_0 ip_icmp.c 

Log message:
Fix a mbuf leak when reflecting an ICMP packet with IP options.
Free the options in icmp_input_if() after a successful call to
icmp_reflect().
bug report and analysis by Hendrik Gerlach
OK krw@ claudio@ phessler@ millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 10:26:49

Modified files:
	net/nepenthes  : Makefile 
	net/nepenthes/patches: 
	                       patch-modules_download-curl_download-curl_hpp 
	                       patch-modules_submit-http_HTTPSession_hpp 
	                       patch-modules_submit-http_submit-http_hpp 
	                       patch-modules_submit-norman_submit-norman_hpp 
Added files:
	net/nepenthes/patches: 
	                       patch-modules_dnsresolve-adns_dnsresolve-adns_cpp 
	                       patch-modules_download-csend_CSendDialogue_cpp 
	                       patch-modules_download-ftp_download-ftp_cpp 
	                       patch-modules_download-http_HTTPDialogue_cpp 
	                       patch-modules_download-rcp_RCPDialogue_cpp 
	                       patch-modules_download-tftp_TFTPDialogue_cpp 
	                       patch-modules_log-prelude_log-prelude_hpp 
	                       patch-modules_module-honeytrap_PCAPSocket_cpp 
	                       patch-modules_module-peiros_PeirosParser_cpp 
	                       patch-modules_module-peiros_PeirosParser_hpp 
	                       patch-modules_module-peiros_TapInterface_hpp 
	                       patch-modules_module-portwatch_module-portwatch_cpp 
	                       patch-modules_shellcode-generic_sch_generic_unicode_cpp 
	                       patch-modules_shellcode-signatures_sch_engine_unicode_cpp 
	                       patch-modules_submit-gotek_gotekDATADialogue_hpp 
	                       patch-modules_submit-gotek_submit-gotek_cpp 
	                       patch-modules_vuln-bagle_vuln-bagle_cpp 
	                       patch-modules_vuln-dameware_vuln-dameware_cpp 
	                       patch-modules_vuln-dcom_vuln-dcom_cpp 
	                       patch-modules_vuln-ftpd_vuln-ftpd_cpp 
	                       patch-modules_vuln-iis_vuln-iis_cpp 
	                       patch-modules_vuln-kuang2_vuln-kuang2_cpp 
	                       patch-modules_vuln-lsass_vuln-lsass_cpp 
	                       patch-modules_vuln-msdtc_vuln-msdtc_cpp 
	                       patch-modules_vuln-msmq_vuln-msmq_cpp 
	                       patch-modules_vuln-mydoom_vuln-mydoom_cpp 
	                       patch-modules_vuln-optix_vuln-optix_cpp 
	                       patch-modules_vuln-pnp_vuln-pnp_cpp 
	                       patch-modules_vuln-sub7_vuln-sub7_cpp 
	                       patch-modules_vuln-wins_vuln-wins_cpp 
	                       patch-modules_x-5_x-5_cpp 
	                       patch-modules_x-6_x-6_cpp 
	                       patch-nepenthes-core_include_DownloadUrl_hpp 
	                       patch-nepenthes-core_src_Config_cpp 
	                       patch-nepenthes-core_src_DownloadManager_cpp 
	                       patch-nepenthes-core_src_DownloadUrl_cpp 
	                       patch-nepenthes-core_src_EventManager_cpp 
	                       patch-nepenthes-core_src_FileLogger_cpp 
	                       patch-nepenthes-core_src_LogManager_cpp 
	                       patch-nepenthes-core_src_ModuleManager_cpp 
	                       patch-nepenthes-core_src_Nepenthes_cpp 
	                       patch-nepenthes-core_src_RingFileLogger_cpp 
	                       patch-nepenthes-core_src_SocketManager_cpp 
	                       patch-nepenthes-core_src_Utilities_cpp 

Log message:
let it build with clang, missing includes, and a shitload of actual bugs
because -Werror is more picky


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/22 11:15:52

Modified files:
	distrib/miniroot: install.sub 

Log message:
No need to trim a trailling blank, bsort (in scan_dmesg) does not
emit one anymore.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/22 11:16:43

Modified files:
	regress/lib/libc/qsort: Makefile qsort_test.c 
Added files:
	regress/lib/libc/qsort: antiqsort.c 

Log message:
Instead of embedding pre-generated tables from  McIlroy's "A Killer
Adversary for Quicksort", just include the code to generate them.
Also allow the number of elements to be specified on the command line.


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/22 11:52:16

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
Add timing and test name options.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 12:25:41

Modified files:
	graphics/darktable: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 12:26:30

Added files:
	games/valyriatear/patches: 
	                           patch-src_luabind_luabind_detail_object_rep_hpp 

Log message:
build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	edd@cvs.openbsd.org	2017/05/22 12:28:02

Modified files:
	graphics/asymptote: Makefile 
	x11/gnustep/dbuskit: Makefile 

Log message:
Fix ports using texinfo during the build stage.

texinfo was removed from texlive in favour of the existing port.

Spotted by naddy@ in a bulk, thanks.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 12:28:05

Added files:
	x11/xdrawchem/patches: patch-xdrawchem_ioiface_cpp 
	                       patch-xdrawchem_molecule_obmol_cpp 

Log message:
build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/22 13:03:24

Modified files:
	distrib/miniroot: install.sub 

Log message:
The DISPLAY variable is actually not a global variable as it's used
only once in questions(). Use scan_dmesg() output directly to test
for wsdisplay* in dmesg.boot instead.

Change comment, now that it only refers to setting CONSOLE.

no objection tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/22 13:15:29

Modified files:
	share/man/man5 : pf.conf.5 

Log message:
some tweaks to the QUEUEING section;
from mikeb and myself


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 13:39:00

Modified files:
	productivity/akonadi/patches: patch-CMakeLists_txt 
	                              patch-server_src_storage_dbconfigpostgresql_cpp 
Added files:
	productivity/akonadi/patches: 
	                              patch-cmake_modules_FindSqlite_cmake 

Log message:
figure out how to get to sqlite during tests. fixes clang configure


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/22 14:03:43

Modified files:
	mail/akpop3d   : Makefile 
	mail/akpop3d/patches: patch-authenticate_c 
	mail/akpop3d/pkg: PLIST 

Log message:
unbreak authentication, spotted by aja@
explicitely disable mysql support
hints and ok tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/22 14:04:12

Modified files:
	sys/netinet    : ip_input.c ip_var.h 
	sys/netinet6   : ip6_input.c 

Log message:
Use the IPsec policy check from IPv4 also when doing local delivery
in ip6_local() to our IPv6 stack.
OK mikeb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 14:30:52

Added files:
	graphics/aqsis/patches: patch-libs_core_ddmanager_ddmanager_cpp 
	                        patch-libs_shadervm_shaderexecenv_shadeops_tmap_cpp 
	                        patch-libs_util_posix_execute_system_cpp 
	                        patch-libs_util_posix_socket_system_cpp 

Log message:
trivial clang patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 14:34:10

Modified files:
	devel/keystone : Makefile 

Log message:
WANT_CXX, reason is atomics usage.


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/22 14:57:54

Modified files:
	.              : errata60.html errata61.html 

Log message:
release icmp_opts errata.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/22 16:20:01

Modified files:
	x11/gnome/vinagre: Makefile 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/22 16:23:11

Modified files:
	sys/netinet    : ip_input.c ip_ipsp.h ip_var.h ipsec_input.c 
	sys/netinet6   : ip6_input.c 

Log message:
Move IPsec forward and local policy check functions to ipsec_input.c
and give them better names.
input and OK mikeb@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/23 00:55:05

Modified files:
	usr.sbin/smtpd : smtpctl.8 

Log message:
"update table" is for tables of type file only; ok gilles


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 01:19:14

Modified files:
	devel/pango    : Makefile distinfo 

Log message:
Update to pango-1.40.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 01:24:16

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.53.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 01:24:28

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.90.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 01:26:51

Modified files:
	sysutils/awless: Makefile distinfo 

Log message:
Update to awless-0.0.24.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 02:00:49

Modified files:
	devel/avr32/gcc-bootstrap: Makefile 
	devel/avr/gcc  : Makefile 

Log message:
assert gnu89 inlines


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/23 02:13:10

Modified files:
	sys/netinet6   : ip6_input.c 

Log message:
Bump the right counters.  One of these was caught by clang because of a
mismatched enum.

ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/23 02:13:35

Modified files:
	net/seafile    : Makefile.inc 
	net/seafile/ccnet: distinfo 
	net/seafile/client: distinfo 
	net/seafile/seafile: distinfo 
Added files:
	net/seafile/ccnet/patches: patch-lib_rsa_c 
Removed files:
	net/seafile/client/patches: patch-src_seafile-applet_cpp 

Log message:
Update to seafile-6.0.6


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/23 02:30:53

Modified files:
	mail/akpop3d   : Tag: OPENBSD_6_1 Makefile 
	mail/akpop3d/patches: Tag: OPENBSD_6_1 patch-authenticate_c 
	mail/akpop3d/pkg: Tag: OPENBSD_6_1 PLIST 

Log message:
Unbreak authentication
explicitely disable mysql support
spotted by I. Schuchardt
ok tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 02:57:27

Modified files:
	www/owncloud   : Makefile distinfo 
	www/owncloud/patches: patch-_htaccess patch-version_php 
	www/owncloud/pkg: PLIST 

Log message:
Update to owncloud-10.0.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/23 03:00:53

Modified files:
	sysutils/dfc   : Makefile distinfo 
	sysutils/dfc/patches: patch-CMakeLists_txt 
	sysutils/dfc/pkg: PLIST 
Added files:
	sysutils/dfc/patches: patch-src_platform_services-bsd_c 
Removed files:
	sysutils/dfc/patches: patch-src_util_c 

Log message:
Update to dfc-3.1.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 03:02:45

Modified files:
	x11/gnome/maps : Makefile distinfo 

Log message:
Update to gnome-maps-3.24.3.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/23 03:09:03

Modified files:
	sys/net        : pf.c 

Log message:
Move the common length check in pf_pull_hdr() after the address
family switch.  This makes the specific calculation more obvious.
OK claudio@


CVSROOT:	/cvs
Module name:	ports
Changes by:	landry@cvs.openbsd.org	2017/05/23 03:16:29

Modified files:
	geo/qgis       : Makefile distinfo 
	geo/qgis/patches: patch-doc_CMakeLists_txt 
	                  patch-src_app_qgisapp_cpp 
	geo/qgis/pkg   : PLIST 

Log message:
Bugfix update to QGIS 2.18.8.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/23 03:39:48

Modified files:
	sysutils/dfc   : Makefile 

Log message:
Fix WANTLIB


CVSROOT:	/cvs
Module name:	ports
Changes by:	awolk@cvs.openbsd.org	2017/05/23 03:54:13

Modified files:
	editors/ghostwriter: Makefile distinfo 

Log message:
Update editors/ghostwriter 1.4.2 => 1.5

OK landry@

port changes:
- no need to @sed VERSION as upstream stopped shelling out to git

upstream changelog:
---
New Features

* HUD windows can now be closed using the Esc key when they have focus.
* A new option has been added to highlight double spaces at the end of a line.
* Github-style task lists can now be made using the * and + bullet point
characters, in addition to the - character.
* Support for ConTeXt and wkhtmltopdf when exporting to PDF with Pandoc has been
added.
* Auto-matching characters for selected text now respects the existing preferences
for the matching done while typing without text selected.
* Typing a single quote (') will no longer result in a second quote being
automatically inserted after the cursor if the cursor is positioned in the
middle of a word.
* Most settings have been moved into a new Preferences dialog to accommodate the
ever increasing number of application options.
* Font size can now be increased by pressing Ctrl+=or decreased by pressing
Ctrl+-. It can also be changed by using Ctrl and the mouse wheel.
* When exporting to other file formats, the output file will be opened after
export with its default application.
* E-books created using Pandoc will now also be generated with a table of
contents.
* When passing in a file path via the command line, a new file will be created
with that path if it does not already exist.
* When typing a * character, ghostwriter would auto-insert a second * character in
anticipation of emphasized text. The auto-inserted second * will now be removed
if a space is typed to accommodate a bullet list instead.
* Rudimentary support for HiDPI has been added. See notes below.
* Various performance enhancements and tweaks have been made under the hood.

Fixes

* Issue #128: Hyphenated words are now considered one word for spell checking.
* Issue #131: ghostwriter can now be built from its source tarball without needing
git to be installed.
* Issue #132: Linux desktop file now specifies that ghostwriter can open only one
file from the command line rather than multiple files.
* Issue #170: Ctrl+M now opens the HTML Preview instead of Ctrl+W. This is to
avoid a conflict with closing windows in Linux.
* Issue #219: Copy and paste no longer makes the word count jump.
* Sundry minor fixes have been added.
---


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/23 05:11:16

Modified files:
	multimedia/py-pafy: Makefile distinfo 
	multimedia/py-pafy/pkg: PLIST 

Log message:
Update to py-pafi-0.5.3.1.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 06:01:53

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Shorten varname.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 06:05:54

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Only install /bsd.mp on SP machines if it's already there (a default
installation will not have it).


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 07:00:47

Modified files:
	graphics/sane-backends: Makefile distinfo 
	graphics/sane-backends/patches: patch-backend_Makefile_in 
	                                patch-backend_canon-sane_c 
	                                patch-backend_dll_c 
	                                patch-backend_dll_conf_in 
	                                patch-backend_genesys_low_c 
	                                patch-backend_kvs40xx_h 
	                                patch-backend_sm3600-scanusb_c 
	                                patch-backend_v4l_c 
	                                patch-backend_xerox_mfp_h 
	                                patch-configure 
	graphics/sane-backends/pkg: PLIST 
Added files:
	graphics/sane-backends/patches: patch-backend_epsonds_c 
	                                patch-frontend_scanimage_c 
Removed files:
	graphics/sane-backends/patches: patch-backend_kodakaio_c 
	                                patch-backend_kvs20xx_opt_c 
	                                patch-include_sane_sanei_thread_h 
	                                patch-sanei_sanei_ir_c 

Log message:
Update to sane-backends-1.0.27.
- now uses libusb1, so ping me if you see a regression


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 07:01:05

Modified files:
	print/hplip    : Makefile 

Log message:
Regen WANTLIB after sane-backends update.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/23 07:08:28

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Hide sh(1) error message when /etc/installurl does not exist; we already
error out with a message in this case since _MIRROR is empty.

reported by tedu@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/23 07:44:13

Modified files:
	security/dropbear: Makefile distinfo 

Log message:
update to dropbear-2017.75
CVE-2017-9078: double-free in server TCP listener cleanup
CVE-2017-9079: information disclosure with ~/.ssh/authorized_keys symlink.


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/23 08:09:00

Modified files:
	build          : mirrors.dat 

Log message:
add openbsd.mirror.constant.com (Piscataway NJ USA), from John Struse


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/23 08:09:16

Modified files:
	.              : ftp.html ftplist httpslist 
	openbgpd       : ftp.html 
	openssh        : ftp.html portable.html 
	openntpd       : portable.html 

Log message:
sync


CVSROOT:	/cvs
Module name:	www
Changes by:	sthen@cvs.openbsd.org	2017/05/23 08:09:42

Modified files:
	build          : mirrors.dat 

Log message:
better ME


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 08:16:41

Modified files:
	x11/vlc/patches: patch-include_vlc_atomic_h 

Log message:
gcc 4.9.4's std::atomic_uint_least32_t is bogus (__atomic_base instead
of atomic), so use the full name.

This should work with both libstdc++ and libc++

noticed by Mark Patruck.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/23 08:17:00

Modified files:
	databases/postgresql: Makefile 
	databases/postgresql/pkg: README-server 

Log message:
switch README to using rcctl, ok pea@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 08:19:01

Added files:
	lang/sbcl/patches: patch-src_runtime_Config_generic-openbsd 
	                   patch-src_runtime_gc-common_c 

Log message:
let it build with clang, thx kettenis@ for useful hints


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/23 08:35:04

Modified files:
	net/freeradius3: Makefile 
Added files:
	net/freeradius3/patches: patch-configure 
Removed files:
	net/freeradius3/patches: patch-configure_ac 

Log message:
apply patch-configure_ac to configure; now freeradius3 is back on a normal
release it's not regenerating the autoconf scripts. fixes accidentally picking
up collectdclient.

use WANT_CXX and MODGCC4_LANGS=c; thread-local-storage.


CVSROOT:	/cvs
Module name:	src
Changes by:	patrick@cvs.openbsd.org	2017/05/23 08:57:30

Modified files:
	.              : Makefile.cross 

Log message:
Adjust cross-toolchain environment to the changes in the clang build
fabric.  Since we now also build and use LLVM's lld we can copy lld to
the proper directory akin to what we do with clang.  Build compiler-rt
early as it is needed for building libc.

"go for it" mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 09:12:28

Modified files:
	infrastructure/mk: modules.port.mk 

Log message:
forgot about that one, fixes zstd


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 09:18:46

Modified files:
	games/openxcom : Makefile 

Log message:
forgot to remove gcc4, let WANT_CXX do its job


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/23 09:24:10

Modified files:
	devel/py-hypothesis: Makefile distinfo 

Log message:
Update to py-hypothesis 3.10.0


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/23 10:53:15

Modified files:
	sys/arch/loongson/loongson: yeeloong_machdep.c 

Log message:
Rate limit messages about spurious ISA interrupts on yeeloong systems.
On suspend, the USB driver is put to polling mode and it no longer
claims interrupt requests. If the USB controller keeps raising new
requests faster than spurious interrupt messages can be printed,
interrupt processing hogs all CPU time and the suspend code gets
stuck. The rate limiting should prevent this from happening.

Suspend issue with USB Wi-Fi reported by fcambus@
Fix tested by and OK fcambus@


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/23 11:44:39

Modified files:
	www/jupyter-notebook: Makefile distinfo 
	www/jupyter-notebook/pkg: PLIST 

Log message:
Update to jupyter-notebook 5.0.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/23 11:46:31

Modified files:
	textproc/py-MarkupSafe: Makefile distinfo 
	textproc/py-MarkupSafe/pkg: PLIST 

Log message:
Update to py-MarkupSafe 1.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 11:52:34

Modified files:
	infrastructure/bin: update-patches 

Log message:
if PATCHORIG!=.orig, say it. avoids head-scratching when fixing a port you
don't know too well...


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/23 11:52:39

Modified files:
	textproc/py-nltk: Makefile distinfo 
	textproc/py-nltk/pkg: PLIST 

Log message:
Update to py-nltk 3.2.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 11:54:54

Modified files:
	games/openmw   : Makefile 
Added files:
	games/openmw/patches: patch-apps_openmw_main_cpp 

Log message:
WANT_CXX, missing proto for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/23 11:55:02

Modified files:
	www            : Makefile 

Log message:
+py-bokeh,python3

ok ajacoutot@(maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 11:55:52

Modified files:
	x11/kde4/kate/patches: patch-tests_CMakeLists_txt 
Added files:
	x11/kde4/kate/patches: patch-part_view_kateviewhelpers_cpp 

Log message:
minor clang fixes


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 12:43:41

Modified files:
	devel/avr32/gcc: Makefile 

Log message:
assert gnu89 inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:18:45

Modified files:
	devel/leatherman: Makefile 
Added files:
	devel/leatherman/patches: patch-cmake_cflags_cmake 

Log message:
let it build with clang, adjust -Werror to "work".


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:52:14

Added files:
	games/mars/patches: patch-include_Hud_TabStats_hpp 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:53:27

Modified files:
	devel/cpp-hocon: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:55:13

Modified files:
	lang/pypy      : Makefile 

Log message:
surprisingly this builds just fine with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:55:37

Modified files:
	mail/lumail    : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:56:06

Modified files:
	mail/mozilla-thunderbird: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:56:36

Modified files:
	multimedia/mkvtoolnix: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:57:50

Modified files:
	sysutils/gource: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 14:58:22

Modified files:
	sysutils/grive2: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 15:00:59

Modified files:
	mail/evolution-rss/patches: patch-src_rss_c 

Log message:
return value


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 15:01:46

Modified files:
	www/cclive     : Makefile 
	www/cclive/patches: patch-src_cc_options_h 

Log message:
fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 15:26:06

Added files:
	multimedia/swftools/patches: patch-configure 
	                             patch-lib_pdf_xpdf_GlobalParams_cc 
	                             patch-m4_gcc_2_95_m4 

Log message:
really stupid fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 16:56:57

Modified files:
	x11/cegui      : Makefile 
	games/sumwars  : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 17:19:08

Modified files:
	math/eigen2    : Makefile 
Added files:
	math/eigen2/patches: patch-Eigen_src_Array_BooleanRedux_h 

Log message:
clang insists on more correct C++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 18:59:18

ports/security/p5-Crypt-OpenSSL-X509/patches

Update of /cvs/ports/security/p5-Crypt-OpenSSL-X509/patches
In directory cvs.openbsd.org:/tmp/cvs-serv40741/patches

Log Message:
Directory /cvs/ports/security/p5-Crypt-OpenSSL-X509/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 18:59:48

Added files:
	security/p5-Crypt-OpenSSL-X509/patches: patch-Makefile_PL 

Log message:
don't Werror the option clang doesn't get


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 19:01:29

Modified files:
	games/alephone/alephone/patches: 
	                                 patch-Source_Files_Sound_SoundManager_cpp 
Added files:
	games/alephone/alephone/patches: 
	                                 patch-Source_Files_CSeries_csalerts_sdl_cpp 

Log message:
missing prototypes


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/23 19:27:40

Modified files:
	games/0ad/base : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/05/23 22:19:43

Modified files:
	security/burpsuite: Makefile distinfo 

Log message:
update burpsuite to 1.7.23.
release notes: http://releases.portswigger.net/2017/05/1723.html


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/23 22:55:57

Modified files:
	usr.sbin/ikectl: ikeca.c 

Log message:
Set REQ_EXT in req section so ikectl ca certificate revoke will work again.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 01:08:59

Modified files:
	mail/evolution-rss/patches: patch-src_rss_c 

Log message:
Add a comment or this chunk will be lost at next update for sure.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 01:10:46

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.54.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 01:11:00

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.91.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/24 01:50:25

Modified files:
	devel/p5-File-Touch: Makefile distinfo 

Log message:
Update to p5-File-Touch-0.11.

ok Abel Abraham Camarillo Ojeda (Maintainer)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 02:07:32

Modified files:
	audio/clementine: Makefile 
Added files:
	audio/clementine/patches: patch-src_library_groupbydialog_h 

Log message:
let it build with clang. don't -Werror, because that doesn't work with
extended warnings


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 02:30:20

Modified files:
	devel/boost    : Makefile 
	devel/boost/files: user.hpp 
	devel/boost/patches: patch-boost_config_compiler_clang_hpp 
Added files:
	devel/boost/patches: 
	                     patch-boost_asio_detail_handler_type_requirements_hpp 
	                     patch-boost_concept_detail_general_hpp 
	                     patch-boost_range_config_hpp 
	                     patch-boost_static_assert_hpp 
	                     patch-libs_config_test_boost_has_part_alloc_ipp 
	                     patch-libs_config_test_boost_no_inline_memb_init_ipp 
	                     patch-libs_config_test_boost_no_std_allocator_ipp 
	                     patch-libs_math_test_compile_test_test_compile_result_hpp 

Log message:
improve the clang config: boost hardcodes __attribute__((unused)) on the
wrong compiler, so re-add it (dependent ports will whine a lot less)
tell boost we have threads and int128 (there's not issue about dual
compiler for clang)


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 02:30:31

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Also trap INT when reverting a patch.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 02:32:16

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Don't fill up /tmp when installing or reverting multiple patches at once.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 02:43:04

Modified files:
	mail/evolution-rss/patches: patch-src_rss_c 

Log message:
Upstream actually fixed it 2 years ago.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 03:16:57

Modified files:
	infrastructure/bin: update-patches 

Log message:
if the WRKDIST doesn't exist, don't even try


CVSROOT:	/cvs
Module name:	src
Changes by:	mestre@cvs.openbsd.org	2017/05/24 03:18:15

Modified files:
	usr.sbin/user  : user.c 

Log message:
Remove 2 unused parameters from copydotfiles function
While here sort headers and add missing prototypes

OK tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	mestre@cvs.openbsd.org	2017/05/24 03:19:55

Modified files:
	usr.bin/encrypt: encrypt.c 

Log message:
Use freezero instead of explicit_bzero+free

OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 03:22:48

Modified files:
	infrastructure/bin: update-patches 

Log message:
do the check upfront, this one works


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 03:26:35

Modified files:
	multimedia/mjpegtools: Makefile 
	multimedia/mjpegtools/patches: patch-configure_ac 
Added files:
	multimedia/mjpegtools/patches: patch-lavtools_jpeg2yuv_c 
	                               patch-lavtools_lav_io_c 
	                               patch-lavtools_lavtrans_c 
	                               patch-lavtools_liblavplay_c 
	                               patch-mpeg2enc_ontheflyratectlpass1_hh 
	                               patch-y4mdenoise_MotionSearcher_hh 
	                               patch-yuvdenoise_main_c 
	                               patch-yuvfilters_yuvkineco_c 

Log message:
build with clang, remove nopic non sense, two phase dependent lookup, and
a shitload of actual abs errors...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 04:29:40

Modified files:
	x11/kde4/py-kde/patches: patch-CMakeLists_txt 
Added files:
	x11/kde4/py-kde/patches: patch-sip_solid_powermanagement_sip 
	                         patch-sip_solid_predicate_sip 

Log message:
fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 04:31:21

Modified files:
	net/icinga/core2: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 05:21:13

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Preserve the modification time when install(1)ing.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/24 05:58:29

Modified files:
	net/samba      : Makefile 
Added files:
	net/samba/patches: patch-source3_rpc_server_srv_pipe_c 

Log message:
SECURITY fix for CVE-2017-7494

o CVE-2017-7494 rpc_server3: Refuse to open pipe names with /


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/24 06:03:02

Modified files:
	net/samba      : Tag: OPENBSD_6_1 Makefile 
Added files:
	net/samba/patches: Tag: OPENBSD_6_1 
	                   patch-source3_rpc_server_srv_pipe_c 

Log message:
SECURITY fix for CVE-2017-7494

o CVE-2017-7494 rpc_server3: Refuse to open pipe names with /


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/24 06:19:42

Modified files:
	devel/py-test  : Makefile distinfo 
	devel/py-test/pkg: PLIST 

Log message:
Update to py-test 3.1.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 06:46:40

Added files:
	x11/kde4/ruby-qt/patches: patch-src_qtruby_cpp 

Log message:
trivial fix for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/24 07:06:47

Modified files:
	games/warzone2100: Makefile distinfo 
	games/warzone2100/pkg: PLIST 
Removed files:
	games/warzone2100/patches: patch-src_scripttabs_cpp 

Log message:
Updateb to warzone2100-3.2.3.
Remove patch committed upstream


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/24 07:26:03

Modified files:
	usr.sbin/smtpd : smtpd.conf.5 

Log message:
document that "for local" is the default; while here,
paste in the "table <aliases>" text;

ok gilles


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/24 07:33:00

Modified files:
	sys/arch/mips64/include: cpu.h 
	sys/arch/mips64/mips64: context.S cpu.c 

Log message:
Add an idle cycle implementation for R4600/R5000/RM7000 CPUs and their
derivatives. This lets the kernel utilize the CPUs' Standby Mode to
reduce the power consumption of an idle system.

Suggested by and input from miod@.
He also tested this patch on an RM7000 O2.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 07:52:34

Modified files:
	archivers/unzip: Makefile 

Log message:
extend PORTROACH to skip 5.5.1 as well


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 08:04:50

Modified files:
	benchmarks/bonnie++: Makefile distinfo 
	benchmarks/bonnie++/patches: patch-Makefile_in patch-port_h_in 

Log message:
update to bonnie++-1.97.3, builds with clang now.
remove -Winit-self and reattempt GCC3_ARCHS while there.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 08:05:42

Modified files:
	comms/fldigi   : Makefile distinfo 

Log message:
update to FLdigi-4.0.4


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 08:07:11

Modified files:
	databases/py-mongo: Makefile distinfo 
	databases/py-mongo/pkg: PLIST 

Log message:
update to py-mongo-3.4.0, add py3 support, drop sphinx docs
from Andrew Aldridge with minor tweak


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 08:07:45

Modified files:
	databases      : Makefile 

Log message:
build py-mongo,python3


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/24 08:41:36

Modified files:
	devel/p5-File-DesktopEntry: Makefile 

Log message:
add missing runtime dependency
ok benoit@
spotted by kasimov.an@gmail.com


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/24 08:54:28

Log message:
    Import to py-webencodings 0.5.1, ok sthen@
    
    DESCR:
    
    This is a Python implementation of the WHATWG Encoding standard.
    
    In order to be compatible with legacy web content when interpreting
    something like Content-Type: text/html; charset=latin1, tools need
    to use a particular set of aliases for encoding labels as well as
    some overriding rules. For example, US-ASCII and iso-8859-1 on the
    web are actually aliases for windows-1252, and an UTF-8 or UTF-16
    BOM takes precedence over any other encoding declaration. The
    Encoding standard defines all such details so that implementations
    do not have to reverse-engineer each other.
    
    This module has encoding labels and BOM detection, but the actual
    implementation for encoders and decoders is Python's.
    
    Status:
    
    Vendor Tag:	shadchin
    Release Tags:	shadchin_20170524
    
    N ports/textproc/py-webencodings/Makefile
    N ports/textproc/py-webencodings/distinfo
    N ports/textproc/py-webencodings/pkg/PLIST
    N ports/textproc/py-webencodings/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/24 08:56:50

Modified files:
	textproc       : Makefile 

Log message:
+py-webencodings
+py-webencodings,python3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 09:29:55

Modified files:
	games/bastet   : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 09:37:35

Modified files:
	games/blobby   : Makefile 
Added files:
	games/blobby/patches: patch-src_raknet_RakPeer_cpp 

Log message:
I don't even want to know how g++ compiled that one.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/24 09:44:42

Modified files:
	textproc/icu4c : Makefile 
	textproc/icu4c/patches: patch-source_common_Makefile_in 
	                        patch-source_common_putilimp_h 
	                        patch-source_config_mh-bsd-gcc 
	textproc/icu4c/pkg: PLIST 
Added files:
	textproc/icu4c/patches: patch-source_common_putil_cpp 
	                        patch-source_common_unicode_uconfig_h 
	                        patch-source_i18n_Makefile_in 
	                        patch-source_io_Makefile_in 
	                        patch-source_layoutex_Makefile_in 
	                        patch-source_stubdata_Makefile_in 
	                        patch-source_tools_ctestfw_Makefile_in 
	                        patch-source_tools_toolutil_Makefile_in 
Removed files:
	textproc/icu4c/patches: patch-source_config_Makefile_inc_in 
	                        patch-source_icudefs_mk_in 

Log message:
Spring cleaning:
* as per upstream recommendation
- use --with-data-packaging=archive on all archs
- pass -DICU_NO_USER_DATA_OVERRIDE
- pass --disable-renaming (fixes the infamous symbol mismatch)
* don't duplicate libicutest installation
* don't strip static libraries (from FreeBSD)
* when not in POSIX/C mode, assume UTF-8 by default like Darwin (from FreeBSD)
* sync config/mh-bsd-gcc with config/mh-linux
* build extra tool
* remove uneeded patches / chunks
* bump major


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 09:50:20

Modified files:
	games/gargoyle : Makefile 
Added files:
	games/gargoyle/patches: patch-terps_bocfel_process_h 

Log message:
I don't really want to know how jam does shitz, but at least this gets to
the C compiles and not the C++ compiles (which use ${CC} even though there
is a ${CXX}...)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 09:52:52

Modified files:
	games/opensonic: Makefile 

Log message:
assert gnu89-inline


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 09:58:52

ports/games/pentobi/patches

Update of /cvs/ports/games/pentobi/patches
In directory cvs.openbsd.org:/tmp/cvs-serv56520/patches

Log Message:
Directory /cvs/ports/games/pentobi/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 09:59:28

Added files:
	games/pentobi/patches: 
	                       patch-src_libboardgame_sgf_MissingProperty_cpp 

Log message:
fix with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/24 10:20:26

Modified files:
	usr.sbin/tcpdump: print-pflog.c 

Log message:
Sync NO_PID value from kernel header to tcpdump source.  It is
#ifdef _KERNEL, so it does not work automatically.  This prevents
some bogus uid and pid print when dumping from pflog interface.
from Matthias Pitzl; OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/24 10:26:58

Modified files:
	sys/net        : bpf.c 

Log message:
When using "tcpdump proto 128" the filter never matched.  A sign
expansion bug in bpf prevented protocols above 127.  m_data is
signed, bpf_mbuf_ldb() returns unsigned.
bug report Matthias Pitzl; OK deraadt@ millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 10:30:52

Modified files:
	multimedia/mlt : Makefile 
Added files:
	multimedia/mlt/patches: patch-src_framework_mlt_property_h 

Log message:
let glue match the compat glue in libc++, and also removes one clang
warning...

helps kdeenlive build eventually


CVSROOT:	/cvs
Module name:	src
Changes by:	mikeb@cvs.openbsd.org	2017/05/24 10:34:17

Modified files:
	sys/net        : fq_codel.c 

Log message:
Fail with EINVAL when asked to create a non-root queue instead of panicking

Prompted by a bug report from semarie@, thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 10:41:26

ports/multimedia/kdenlive/patches

Update of /cvs/ports/multimedia/kdenlive/patches
In directory cvs.openbsd.org:/tmp/cvs-serv60539/patches

Log Message:
Directory /cvs/ports/multimedia/kdenlive/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 10:42:17

Added files:
	multimedia/kdenlive/patches: 
	                             patch-src_scopes_audioscopes_spectrogram_cpp 

Log message:
abs doesn't work too well with unsigned params


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/24 12:24:07

Log message:
    import p5-Crypt-OpenSSL-EC 1.01
    from Nils Frohberg; OK sthen@
    
    Comment:
    EC using OpenSSL
    
    Description:
    Crypt::OpenSSL::EC is a perl module that provides a standard (non-OO)
    interface to the OpenSSL EC (Elliptic Curve) library.
    
    Status:
    
    Vendor Tag:	nilsf
    Release Tags:	bluhm_20170524
    
    N ports/security/p5-Crypt-OpenSSL-EC/Makefile
    N ports/security/p5-Crypt-OpenSSL-EC/distinfo
    N ports/security/p5-Crypt-OpenSSL-EC/pkg/DESCR
    N ports/security/p5-Crypt-OpenSSL-EC/pkg/PLIST
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/24 12:35:14

Log message:
    import p5-Crypt-OpenSSL-ECDSA 0.08
    from Nils Frohberg; OK sthen@
    
    Comment:
    ECDSA encoding and decoding using OpenSSL
    
    Description:
    Crypt::OpenSSL::ECDSA is a perl module that provides an interface
    to the ECDSA (Elliptic Curve Digital Signature Algorithm) functions
    in OpenSSL.
    
    Status:
    
    Vendor Tag:	nilsf
    Release Tags:	bluhm_20170524
    
    N ports/security/p5-Crypt-OpenSSL-ECDSA/Makefile
    N ports/security/p5-Crypt-OpenSSL-ECDSA/distinfo
    N ports/security/p5-Crypt-OpenSSL-ECDSA/pkg/DESCR
    N ports/security/p5-Crypt-OpenSSL-ECDSA/pkg/PLIST
    N ports/security/p5-Crypt-OpenSSL-ECDSA/patches/patch-ECDSA_xs
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 12:37:23

ports/games/ri-li/patches

Update of /cvs/ports/games/ri-li/patches
In directory cvs.openbsd.org:/tmp/cvs-serv27659/patches

Log Message:
Directory /cvs/ports/games/ri-li/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 12:37:43

Added files:
	games/ri-li/patches: patch-src_audio_cc patch-src_ecran_cc 
	                     patch-src_editeur_cc patch-src_jeux_cc 
	                     patch-src_loco_cc patch-src_main_cc 
	                     patch-src_menu_cc patch-src_mouse_cc 
	                     patch-src_sprite_cc patch-src_tableau_cc 
	                     patch-src_utils_cc 

Log message:
surprisingly enough, this converts easily to modern C++


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/24 12:38:05

Modified files:
	security       : Makefile 

Log message:
+p5-Crypt-OpenSSL-EC
+p5-Crypt-OpenSSL-ECDSA


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/24 12:47:36

Modified files:
	devel/p5-Exporter-Tiny: Makefile distinfo 

Log message:
update p5-Exporter-Tiny to 1.000000


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 12:49:31

Modified files:
	games/vodovod  : Makefile 
	games/vodovod/patches: patch-config_cpp patch-hiscore_cpp 
Added files:
	games/vodovod/patches: patch-effects_cpp patch-effects_h 
	                       patch-hiscore_h patch-njamfont_cpp 

Log message:
make it build with clang, correct some horrible code


CVSROOT:	/cvs
Module name:	ports
Changes by:	mglocker@cvs.openbsd.org	2017/05/24 13:06:04

Modified files:
	games/spaceinvaders: Makefile distinfo 
	games/spaceinvaders/pkg: DESCR 

Log message:
update to spaceinvaders-0.6


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 13:19:22

Modified files:
	games/warmux/patches: 
	                      patch-tools_servers_game_server_Makefile_in 
Added files:
	games/warmux/patches: patch-lib_fixedpoint_fixed_class_h 
	                      patch-src_Makefile_in 
	                      patch-src_tool_string_tools_h 
	                      patch-tools_list_games_Makefile_in 
	                      patch-tools_servers_index_server_Makefile_in 
	                      patch-tools_servers_index_server_server_h 

Log message:
let it build with clang, as-needed nonsensical for end program


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 13:33:53

Modified files:
	graphics/gfract: Makefile 
	graphics/gfract/patches: patch-Makefile 
Added files:
	graphics/gfract/patches: patch-Tool_cpp patch-color_cpp 

Log message:
let it compile with clang without too much noise


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 13:38:09

Modified files:
	devel/kf5/kactivities: Makefile 

Log message:
okay, just look into /usr/local/include, please ?


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 14:16:58

ports/devel/etl/patches

Update of /cvs/ports/devel/etl/patches
In directory cvs.openbsd.org:/tmp/cvs-serv25952/patches

Log Message:
Directory /cvs/ports/devel/etl/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 14:17:31

Modified files:
	devel/etl      : Makefile 
Added files:
	devel/etl/patches: patch-ETL__stringf_h patch-ETL__surface_h 

Log message:
steal freebsd patches to allow etl to actually be useful


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/24 14:18:14

Modified files:
	lang/go        : Makefile distinfo 

Log message:
Security update to 1.8.2 (CVE-2017-8932)
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/24 15:18:25

Modified files:
	lib/libc/stdlib: qsort.c 

Log message:
Support swapping 32-bit aligned elements on 64-bit platforms.
Previously they would be swapped a byte at a time when sizeof(int)
!= sizeof(long).  Idea from FreeBSD.


CVSROOT:	/cvs
Module name:	src
Changes by:	gilles@cvs.openbsd.org	2017/05/24 15:27:32

Modified files:
	usr.sbin/smtpd : mta_session.c 

Log message:
Fix a possible fatal() when smtpd is configured to *force* relaying over
SMTPS, that the connection succeeds, but that something causes a failure
in the TLS code path afterwards. Session gets downgraded so it can use a
plaintext connector but since it's not allowed to do so, it fatal()-s.
This didn't impact STARTTLS, only SMTPS.

Issue experienced a few times by stsp@ triggered by a suspend.
ok eric@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 15:27:45

Modified files:
	multimedia/synfig: Makefile 
	multimedia/synfig/patches: patch-src_synfig_main_cpp 
Added files:
	multimedia/synfig/patches: patch-src_synfig_transform_cpp 

Log message:
WANT_CXX + trivial C++ patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 15:28:21

Modified files:
	devel/kf5/kactivities-stats: Makefile 

Log message:
want /usr/local


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 17:59:42

Modified files:
	multimedia/synfigstudio: Makefile 
Added files:
	multimedia/synfigstudio/patches: patch-src_gui_dialogs_about_cpp 
	                                 patch-src_gui_iconcontroller_cpp 
	                                 patch-src_gui_splash_cpp 

Log message:
simple fixes for C++11 (user-defined literals require a space for splicing
string literals together)


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 18:04:15

Modified files:
	devel/libmagic : Makefile distinfo 
	devel/py-libmagic: Makefile distinfo 
Removed files:
	devel/libmagic/patches: patch-src_ascmagic_c 

Log message:
update to {py-,}libmagic from file-5.31


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 18:05:06

Modified files:
	devel/perltidy : Makefile distinfo 
	devel/perltidy/pkg: PLIST 

Log message:
update to Perl-Tidy-20170521


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/24 18:13:47

Modified files:
	math/calc      : Makefile distinfo 
Removed files:
	math/calc/patches: patch-version_c 

Log message:
update to calc-2.12.5.6


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/24 18:14:40

Added files:
	misc/spdrs60/patches: patch-spdrs60_srcpmessage_cpp 
	                      patch-spdrs60_srcpmessage_h 

Log message:
one default constructor to build them all


CVSROOT:	/cvs
Module name:	src
Changes by:	dlg@cvs.openbsd.org	2017/05/24 21:19:39

Modified files:
	sys/arch/sparc64/dev: iommu.c psycho.c pyro.c schizo.c vdsk.c 
	                      viommu.c 
	sys/arch/sparc64/include: atomic.h bus.h ctlreg.h psl.h 
	sys/arch/sparc64/sparc64: cpu.c ipifuncs.c lock_machdep.c 
	                          machdep.c vm_machdep.c 
	sys/dev/pci/drm: drmP.h 

Log message:
tweak sparc64 membars as a step toward making them usable in userland.

specifically, dont rely on magic in ctlreg to implement membars. moving
that to atomic.h would add a lot of pollution to the namespace, so
move to passing the membar options to a single __membar macro.

this tweaks everything that was using the ctlreg backend to either use
an appropriate membar_foo(), or to use __membar() in the MD code.

ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/24 21:50:10

Modified files:
	sys/arch/amd64/include: lock.h 

Log message:
Drop trailing semicolon from a macro.

OK dlg@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/24 21:54:10

Modified files:
	sys/arch/amd64/amd64: lapic.c 
	sys/arch/amd64/include: cpufunc.h 

Log message:
Replace the only usage of x86_pause() with SPINLOCK_SPIN_HOOK.

OK dlg@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 02:13:58

Modified files:
	security/libhttpseverywhere: Makefile distinfo 

Log message:
Update to libhttpseverywhere-0.4.4.


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/25 02:25:00

Modified files:
	distrib/miniroot: install.sub 

Log message:
Replace various echo "..."; exit 1 with a new err_exit() function.

diskussed with tb@ and halex@
OK krw@ on a similar diff


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 02:54:31

Modified files:
	devel/py-test  : Makefile 

Log message:
missing BDEP on devel/py-setuptools_scm${MODPY_FLAVOR}


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 03:02:05

Modified files:
	audio/ardour   : Makefile 
	audio/ardour/patches: patch-SConstruct 
	                      patch-gtk2_ardour_ardour_ui_cc 
	                      patch-gtk2_ardour_gain_meter_cc 
Added files:
	audio/ardour/patches: patch-gtk2_ardour_automation_selectable_h 
	                      patch-gtk2_ardour_connection_editor_h 
	                      patch-gtk2_ardour_io_selector_h 
	                      patch-gtk2_ardour_tempo_lines_h 
	                      patch-libs_ardour_ardour_io_h 
	                      patch-libs_ardour_ardour_recent_sessions_h 
	                      patch-libs_ardour_audiosource_cc 
	                      patch-libs_pbd_fpu_cc 
	                      patch-libs_pbd_mountpoint_cc 
	                      patch-libs_pbd_pbd_ringbuffer_h 
	                      patch-libs_pbd_pbd_stl_delete_h 

Log message:
make it build with clang, most painful part was scons


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 03:30:04

Modified files:
	games/sumwars  : Makefile 

Log message:
unbreak packaging, WANT_CXX got lost


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 03:40:18

Modified files:
	share/man/man8 : rc.d.8 

Log message:
Four, not three variables can be overriden. But the number is not important
so just drop it.
reported by thelocals_job_applicant at protonmail


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 03:57:10

Modified files:
	net/py-boto    : Makefile distinfo 

Log message:
Update to py-boto-2.47.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 04:05:23

Modified files:
	net/py-botocore: Makefile distinfo 
	net/py-botocore/pkg: PLIST 

Log message:
Update to py-botocore-1.5.55.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 04:05:35

Modified files:
	sysutils/awscli: Makefile distinfo 

Log message:
Update to awscli-1.11.92.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 04:18:13

Modified files:
	sysutils/google-cloud-sdk: Makefile distinfo 
	sysutils/google-cloud-sdk/pkg: PLIST 

Log message:
Update to google-cloud-sdk-156.0.0.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 04:34:11

Added files:
	audio/xmms2/patches: 
	                     patch-src_include_xmmsclient_xmmsclient++_coll_h 

Log message:
let xmms2 build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 04:35:32

Modified files:
	audio/ncmpcpp  : Makefile 

Log message:
WANT_CXX. Explicitly ask for /usr/local


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 04:54:19

Added files:
	devel/msp430/gdb/patches: patch-sim_msp430_interp_c 

Log message:
fix return error on clang. still doesn't link (relocation error)


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 05:03:31

Modified files:
	games/xmoto    : Makefile 
	games/xmoto/patches: patch-src_helpers_System_cpp 
Added files:
	games/xmoto/patches: patch-src_include_xm_hashmap_h 

Log message:
build with clang: zap extra warnings, const correct


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 05:15:41

Modified files:
	lang/intel2gas/patches: patch-intel2gas_cc 
Added files:
	lang/intel2gas/patches: patch-strhandle_cc 

Log message:
let it compile with clang (dirty const_cast, code is really not const correct


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 05:23:02

Added files:
	lang/jruby/patches: patch-jffi_jni_GNUmakefile 

Log message:
Werror considered harmful


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 05:26:15

Modified files:
	graphics/openimageio: Makefile 
Added files:
	graphics/openimageio/patches: patch-CMakeLists_txt 

Log message:
WANT_CXX, silence warnings (-Werror) with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 05:27:08

Modified files:
	lang/librep    : Makefile 

Log message:
assert gnu89 inlines


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 05:31:45

Modified files:
	www/webkitgtk4 : Makefile distinfo 
Removed files:
	www/webkitgtk4/patches: 
	                        patch-Source_WebCore_bindings_scripts_generate-bindings-all_pl 

Log message:
SECURITY update to webkitgtk4-2.16.3.
- CVE-2017-2496, CVE-2017-2539, CVE-2017-2510


CVSROOT:	/cvs
Module name:	ports
Changes by:	pirofti@cvs.openbsd.org	2017/05/25 05:34:21

Modified files:
	databases/postgresql: Tag: OPENBSD_6_1 Makefile distinfo 
	databases/postgresql/pkg: Tag: OPENBSD_6_1 PLIST-docs 
	                          PLIST-server 

Log message:
Backport postgresql security update 9.6.3.

Fixes CVE-2017-7484, CVE-2017-7485, CVE-2017-7486.

OK pea@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/25 05:35:00

Modified files:
	www/webkitgtk4 : Tag: OPENBSD_6_1 Makefile distinfo 
Removed files:
	www/webkitgtk4/patches: Tag: OPENBSD_6_1 
	                        patch-Source_WebCore_bindings_scripts_generate-bindings-all_pl 

Log message:
MFC:
SECURITY update to webkitgtk4-2.16.3.
- CVE-2017-2496, CVE-2017-2539, CVE-2017-2510


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/25 05:44:02

ports/devel/py-nbconvert/patches

Update of /cvs/ports/devel/py-nbconvert/patches
In directory cvs.openbsd.org:/tmp/cvs-serv64477/patches

Log Message:
Directory /cvs/ports/devel/py-nbconvert/patches added to the repository


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/25 05:45:25

Modified files:
	devel/py-nbconvert: Makefile distinfo 
	devel/py-nbconvert/pkg: PLIST 
Added files:
	devel/py-nbconvert/patches: patch-nbconvert_exporters_html_py 
	                            patch-nbconvert_filters_markdown_mistune_py 

Log message:
Updatre to py-nbconvert 5.2.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/25 05:47:06

Modified files:
	devel/py-hypothesis: Makefile distinfo 
	devel/py-hypothesis/pkg: PLIST 

Log message:
Update to py-hypothesis 3.11.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 05:48:11

Log message:
    import ports/devel/blocksruntime, tweaks/ok pirofti@
    
    A clone of the BlocksRuntime library portion of the compiler-rt library
    (http://compiler-rt.llvm.org/) for use with the clang compiler's -fblocks
    option.
    
    Status:
    
    Vendor Tag:	sthen
    Release Tags:	sthen_20170525
    
    N ports/devel/blocksruntime/Makefile
    N ports/devel/blocksruntime/distinfo
    N ports/devel/blocksruntime/pkg/PLIST
    N ports/devel/blocksruntime/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 05:48:45

Modified files:
	devel          : Makefile 

Log message:
+blocksruntime


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 05:51:27

Modified files:
	www/liferea    : Makefile 

Log message:
unhardcode estdc++


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/25 06:10:04

Modified files:
	distrib/miniroot: install.sub 

Log message:
Move the code that runs the installer script in non-interactive
mode into a dedicated do_autoinstall() function.

OK halex@, krw@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 06:44:20

Modified files:
	devel/libqtelegram-aseman-edition: Makefile 

Log message:
let it build with clang by cheating... those narrowing conversions are awful


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 06:56:35

Added files:
	net/iperf3/patches: patch-src_Makefile_in 

Log message:
disable building the profiled binary, it wasn't installed anyway, and fails with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 07:03:28

Modified files:
	net/cutegram   : Makefile 

Log message:
same work-around as parent port...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 07:24:10

Modified files:
	www/havp       : Makefile 
Added files:
	www/havp/patches: patch-havp_sockethandler_h 

Log message:
build with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 07:28:27

Modified files:
	security/clamav: Makefile 
Added files:
	security/clamav/patches: patch-libclamav_clamav_h 

Log message:
clean non portable construct from include. stops clang warnings


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 08:14:43

Modified files:
	textproc/isearch/patches: patch-doctype_medline_cxx 
	                          patch-src_Iindex_cxx 
	                          patch-src_index_cxx 
	                          patch-src_string_hxx 
Added files:
	textproc/isearch/patches: patch-Isearch-cgi_cgi-util_cxx 
	                          patch-Isearch-cgi_cgi-util_hxx 
	                          patch-Isearch-cgi_isrch_fetch_cxx 
	                          patch-Isearch-cgi_isrch_srch_cxx 
	                          patch-Isearch-cgi_search_form_cxx 
	                          patch-doctype_colondoc_cxx 
	                          patch-doctype_dif_cxx 
	                          patch-doctype_dtconf_cxx 
	                          patch-doctype_firstline_cxx 
	                          patch-doctype_html_cxx 
	                          patch-doctype_iafadoc_cxx 
	                          patch-doctype_irlist_cxx 
	                          patch-doctype_listdigest_cxx 
	                          patch-doctype_maildigest_cxx 
	                          patch-doctype_mailfolder_cxx 
	                          patch-doctype_memodoc_cxx 
	                          patch-doctype_referbib_cxx 
	                          patch-doctype_sgmltag_cxx 
	                          patch-src_Isearch_cxx 
	                          patch-src_Iutil_cxx patch-src_defs_hxx 
	                          patch-src_fc_hxx patch-src_fpt_cxx 
	                          patch-src_fpt_hxx patch-src_idb_cxx 
	                          patch-src_idb_hxx patch-src_idbobj_hxx 
	                          patch-src_infix2rpn_cxx 
	                          patch-src_infix2rpn_hxx 
	                          patch-src_marc_cxx 
	                          patch-src_marclib_cxx 
	                          patch-src_marclib_hxx 
	                          patch-src_registry_cxx 
	                          patch-src_registry_hxx 
	                          patch-src_sw_hxx 

Log message:
let it compile with clang. there are serious concerns about the bogosity
of this code.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 08:39:24

Modified files:
	security/openssl: Makefile distinfo 
	security/openssl/patches: patch-config 
	security/openssl/pkg: PLIST 

Log message:
update to OpenSSL-1.0.2l


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 08:39:59

Modified files:
	net/trickle    : Makefile 
	net/trickle/patches: patch-Makefile_in 

Log message:
don't use a local copy of getopt, use libc's. ok mestre@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 10:31:41

Modified files:
	sysutils/apcupsd: Makefile 
Added files:
	sysutils/apcupsd/patches: patch-configure 

Log message:
upstream try to avoid dynamic-linking to produce a binary that works more easily
across linux distributions; that's not really useful for us, and the way they
did it (link with cc -lsupc++) doesn't work so well with clang. just switch to
normal linking with c++. ok espie@ kirby@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/25 11:00:24

Modified files:
	lib/libcrypto/objects: obj_mac.num objects.txt 

Log message:
Add definitions for three OIDs used in EV certificates.

From Kyle J. McKay <mackyle at gmail dot com>


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 11:06:26

Modified files:
	mail/neomutt   : Makefile distinfo 
	mail/neomutt/patches: patch-main_c patch-mutt_sasl_c 
	mail/neomutt/pkg: PLIST 
Removed files:
	mail/neomutt/patches: patch-mutt_sasl_h 

Log message:
update to neomutt-20170428


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 11:47:08

Modified files:
	mail/metamail/patches: patch-src_metamail_codes_c 
	                       patch-src_metamail_mailto_c 
	                       patch-src_metamail_metamail_c 
	                       patch-src_metamail_uue_c 
	                       patch-src_richmail_richtext_c 
Added files:
	mail/metamail/patches: patch-src_richmail_iso2022_c 

Log message:
minimal compile fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/25 12:07:53

Modified files:
	comms/gammu    : Makefile distinfo 

Log message:
update to gammu-1.38.3


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 12:09:55

Added files:
	lang/ucblogo/patches: patch-graphics_c patch-xgraphics_c 
	                      patch-xgraphics_h 

Log message:
fiddle with macro so it returns the right type


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 12:37:14

Modified files:
	games/omega/patches: patch-Makefile patch-fixstr_c patch-omega_c 
Added files:
	games/omega/patches: patch-compress_c 

Log message:
void fixes for clang, regen other patches


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 12:42:31

Modified files:
	mail/neomutt   : Makefile 
	mail/neomutt/patches: patch-mutt_sasl_c 
	mail/neomutt/pkg: PLIST 
Added files:
	mail/neomutt/patches: patch-mutt_sasl_h 

Log message:
tweaks to neomutt:

- s/mutt/neomutt in doc/examples dirs

- running autoconf here requires autopoint from gettext-tools; found by tb@

- reinstate patch-mutt_sasl_h; found by tb@ (missing prototype; removed in
error while fixing patch-mutt_sasl_c).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 13:19:41

Modified files:
	devel/valgrind : Makefile 
Added files:
	devel/valgrind/patches: patch-Makefile_tool_am 

Log message:
surprisingly few changes for building on clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 13:33:20

Added files:
	multimedia/swfmill/patches: patch-src_gSWFParseXML_cpp 
	                            patch-src_gSWFWriteXML_cpp 

Log message:
fixes for clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/25 13:46:59

Modified files:
	games/instead  : Makefile distinfo 
	games/instead/pkg: PLIST 

Log message:
Update to instead_3.0.0. From maintainer Roman Yakovlev,  thanks!
Drop devel/lua from CATEGORIES. lang/lua already set by lua.port.mk.
Inspired by fcambus@;s comment to original diff.
"Reads good" rsadowski@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/25 14:11:03

Modified files:
	usr.bin/yacc   : closure.c lalr.c main.c mkpar.c reader.c 
	                 verbose.c 

Log message:
fix a variety of warnings. from Brian Callahan


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/25 14:25:50

Modified files:
	usr.bin/talk   : talk.1 

Log message:
incompatibilities with 4.2 are no longer interesting


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/25 14:27:55

Modified files:
	libexec/talkd  : talkd.8 

Log message:
Xr inetd as a hint about what flavor of crazy you're dealing with


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/25 15:21:18

Added files:
	sys/dev/acpi   : efi.h 

Log message:
Add a header with EFI/UEFI-related definitions for use by the kernel.  For
now this only contains definitions for parsing the EFI memory map.

I anticipate adding limited support for the EFI system table and some of
the EFI runtime services, but not much more.

ok mlarkin@, patrick@, tom@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 16:25:25

Modified files:
	devel/gdb      : Makefile 

Log message:
avoid wasting time on aarch64, there is no gdb yet


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 16:57:42

Modified files:
	lang/ocaml     : Makefile 

Log message:
let ocaml's build dep on devel/gdb (for libbfd.a) be conditional, don't
use it on aarch64 where gdb hasn't been ported yet.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/25 16:59:13

Modified files:
	devel/gdb      : Makefile 

Log message:
add comment re lang/ocaml and aarch64


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 17:15:41

Modified files:
	infrastructure/bin: update-patches 

Log message:
remove most of the useless stuff that update-patches shows by default.
add a few useful messages instead.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/25 17:40:06

Modified files:
	emulators/mednafen/patches: patch-src_nes_ines-correct_inc 
Added files:
	emulators/mednafen/patches: patch-src_nes_ines_cpp 

Log message:
don't compare pointer, not enough to fully fix with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	djm@cvs.openbsd.org	2017/05/25 19:40:07

Modified files:
	usr.bin/ssh    : PROTOCOL 

Log message:
fix references to obsolete v00 cert format; spotted by Jakub Jelen


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/25 23:42:58

Modified files:
	graphics/vigra : Makefile distinfo 
	graphics/vigra/patches: patch-test_CMakeLists_txt 
	graphics/vigra/pkg: PLIST 

Log message:
update to vigra-1.11.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/26 02:09:59

Modified files:
	devel/arm-none-eabi/gcc-linaro: Makefile 

Log message:
mark BROKEN-i386, BROKEN-armv7 for now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 03:37:05

Modified files:
	lang/gcc/4.9   : gcc4.port.mk 

Log message:
introduce the full name of the C++ pkgpath, to be used by a few ports
that run depend on it


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 03:52:16

Modified files:
	devel/qt-creator: Makefile 
	lang/node      : Makefile 
	www/chromium   : Makefile 
	www/iridium    : Makefile 

Log message:
use the MODGCC4* variables instead of hardcoding dependencies.
convert to WANT_CXX even though it might not work yet.
bump the ports that didn't even the full spec


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/26 04:32:51

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	mestre@cvs.openbsd.org	2017/05/26 04:34:53

Modified files:
	net/mcabber/patches: patch-mcabber_main_c 

Log message:
Fix copy pasto from my last commit


CVSROOT:	/cvs
Module name:	ports
Changes by:	mestre@cvs.openbsd.org	2017/05/26 04:36:44

Added files:
	games/ioquake3/patches: patch-Makefile 
	                        patch-code_tools_lcc_cpp_unix_c 

Log message:
Allow games/ioquake3 to be compiled with clang by using libc's getopt instead
of an handrolled one

OK espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 04:50:28

Modified files:
	infrastructure/man/man1: update-patches.1 

Log message:
document PATCH_VERBOSE


CVSROOT:	/cvs
Module name:	www
Changes by:	deraadt@cvs.openbsd.org	2017/05/26 04:52:13

Modified files:
	.              : hackathons.html 
Added files:
	images/hackathons: d2k17-s.gif d2k17.gif 

Log message:
d2k17 has begun in starnberg


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/26 04:59:55

Modified files:
	sys/dev/pv     : vioblk.c vioscsi.c virtio.c virtiovar.h 

Log message:
Move vioblk and vioscsi more fully into the world of iopool and
'modern' scsi. Eliminates use of XS_NO_CCB.

Resource optimization to follow.

ok sf@, "makes sense" dlg@ earlier version


CVSROOT:	/cvs
Module name:	www
Changes by:	jsg@cvs.openbsd.org	2017/05/26 05:23:51

Modified files:
	.              : hackathons.html 

Log message:
link to the larger d2k17 image


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 05:43:43

Modified files:
	net/argus/patches: patch-Makefile_in 

Log message:
unfuck build system


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/26 05:45:57

Modified files:
	bin/ksh        : sh.1 

Log message:
document behaviour when CDPATH unset;
requested by a mail on misc, via otto;

ok otto


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 06:10:13

Modified files:
	net/py-botocore: Makefile distinfo 

Log message:
Update to py-botocore-1.5.56.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 06:10:31

Modified files:
	sysutils/awscli: Makefile distinfo 
	sysutils/awscli/pkg: PLIST 

Log message:
Update to awscli-1.11.93.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kirby@cvs.openbsd.org	2017/05/26 06:12:01

Modified files:
	graphics/vigra : Makefile distinfo 

Log message:
Upstream rerolled tarball. Noticed by espie@, thanks!
Previous tarball contetnt was somewhere between 1.11.0 and 1.11.1.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 06:34:33

Modified files:
	devel/p5-List-MoreUtils: Makefile distinfo 
	devel/p5-List-MoreUtils/pkg: PLIST 

Log message:
update p5-List-MoreUtils to 0.419
XS code has been split into a separate module
license change discussed with afresh1@ sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 06:42:16

Modified files:
	sysutils/terraform: Makefile distinfo 

Log message:
Update to terraform-0.9.6.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 06:53:52

Modified files:
	security/vault : Makefile 

Log message:
Display proper version instead of 'unknown'.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/26 07:13:50

Modified files:
	sys/dev/usb    : ohci.c ohcivar.h 

Log message:
Prepare ohci_intr1() for IPL_MPSAFE.

Stop manipulating the done list and root hub port status in the interrupt
handler.

Some parts lifted from NetBSD's r1.157 but with functionnal polling and
without leaving WDH interrupts masked after exiting ddb(4).

Fix an splassert() by no longer calling usb_transfer_complete() in the
interrupt handler.

Issue reported by claudio@, brynet@ and Jacqueline Jolicoeur.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/26 07:32:11

Modified files:
	security/letsencrypt: Makefile.inc 
	security/letsencrypt/client: distinfo 
	security/letsencrypt/py-acme: distinfo 

Log message:
update to certbot/py-acme 0.14.2


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/26 08:07:03

Modified files:
	usr.sbin/bgpd  : parse.y 

Log message:
Allow nested {} in prefix lists.

Diff from Denis Fondras, many thanks!

OK claudio@ phessler@


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/26 08:08:51

Modified files:
	usr.sbin/bgpd  : parse.y 

Log message:
Expand RIB names in groups

Diff from Denis Fondras, many thanks!

OK claudio@ phessler@


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/26 08:25:14

Modified files:
	sbin/dhclient  : dhclient.c 

Log message:
Move the two loops through the leases file
looking for a valid recorded lease into a separate
function and thus make them consistent.

No intentional functional change.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/26 08:26:33

Modified files:
	sys/dev/pci/drm: drm_linux.h 

Log message:
The Linux code really isn't up to the same standard as our other code, and
clang complains about it a lot.  Since we don't want to fix the code,
suppress certain warnings using #pragma clang diagnostic.

ok jsg@


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/26 08:35:49

Modified files:
	sbin/dhclient  : dhclient.c 

Log message:
Whitespace rectification of a couple of mis-indentations.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 08:43:25

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Fix logic.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 08:50:15

Modified files:
	devel/codeblocks: Makefile 

Log message:
let it build with clang, deactivate nullptr work-around


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 08:51:27

Modified files:
	editors/abiword: Makefile 
Added files:
	editors/abiword/patches: patch-src_af_xap_xp_xap_Dialog_cpp 
	                         patch-src_wp_ap_gtk_ap_UnixApp_cpp 

Log message:
build with clang, trivial fixes


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/26 08:57:41

Modified files:
	sbin/dhclient  : dhclient.c 

Log message:
Move logic to set default client-identifier into a
separate function so it can be used in multiple
places.


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/26 09:26:28

Modified files:
	sys/dev/pv     : vioblk.c 

Log message:
vioblk: set VIOBLK_DONE from vioblk_vq_done1

If the device needs to be reset due to a poll timeout, we need accurate
information which requests are already completed. Otherwise, there will
be a panic "scsi_done called twice on xs", as found out by mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 09:28:00

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
Don't try to revert the same patch in a loop if it returns an error.


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/26 09:30:21

Modified files:
	sys/dev/pv     : virtio.c 

Log message:
virtio: minor tweak

use qe_desc_base instead of calculating the address again


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/26 09:30:49

Modified files:
	telephony/asterisk: Makefile 
Added files:
	telephony/asterisk/patches: patch-autoconf_ast_check_raii_m4 

Log message:
pass LDFLAGS to the autoconf test for clang -fblocks. still broken:

- clang + ld.bfd: link fails in autoconf test, undefined symbols.

- clang + ld.lld: package builds, dlopen()ing the .so modules that use -fblocks
fails at runtime.

because with clang + ld.lld it does build but results in unusable packages,
explicitly mark BROKEN-aarch64 for now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/26 09:42:45

Modified files:
	telephony/asterisk: Makefile distinfo 

Log message:
update to asterisk-13.15.1, fixing AST-2017-004: Memory exhaustion
on short SCCP packets. This only affects SCCP users (chan_skinny).

13.15.1 also added some fixes to the bundled copy of PJSIP
(used by chan_pjsip, *not* used by chan_sip) -
AST-2017-002: Buffer Overrun in PJSIP transaction layer,
AST-2017-003: Crash in PJSIP multi-part body parser
- however that copy is not used by this package and will need to
be fixed separately.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 09:43:18

Modified files:
	www/ruby-capybara-webkit: Makefile 

Log message:
Temporarily mark BROKEN until jca@ has time to look at this new breakage.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 09:56:51

Modified files:
	sys/netinet    : ip_ipip.c 

Log message:
Instead of looking at the IP version of the header, use the outer
address family passed to ipip_input().
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 10:05:35

Modified files:
	usr.bin/nc     : netcat.c 

Log message:
Fix gcc warnings triggered by WARNINGS=yes.
OK florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 10:27:25

Modified files:
	sys/netinet    : ip_ipip.c 

Log message:
In IPIP input rename the variable ipo to ip as it is used for inner
and outer header.  Reset values depending on the the mbuf when the
mbuf is adjusted.  Check the length of the inner IP header with the
correct size in case of IPv6.  Check the IPv4 header size including
IP options.  For the IPIP statistics the inner header length has
to be subtracted from the packet size as the outer header has already
been stripped off.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/26 10:32:14

Modified files:
	lib/libcrypto/ec: ec_asn1.c 

Log message:
Avoid a potential NULL pointer dereference in d2i_ECPrivateKey().

Reported by Robert Swiecki, who found the issue using honggfuzz.

ok bcook@


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 10:41:57

Log message:
    import p5-List-MoreUtils-XS 0.418
    p5-List-MoreUtils has been split in two modules upstream.
    Better use the software in our ports tree as build dependency, patch
    away the included modules.
    OK sthen@
    
    Comment:
    provide compiled List::MoreUtils functions
    
    Description:
    All of the functions are implementable in only a couple of lines
    of Perl code.  Using the functions from this module however should
    give slightly better performance as everything is implemented in
    C.  The pure-Perl implementation of these functions only serves as
    a fallback in case the C portions of this module couldn't be compiled
    on this machine.
    
    Status:
    
    Vendor Tag:	bluhm
    Release Tags:	bluhm_20170526
    
    N ports/devel/p5-List-MoreUtils-XS/distinfo
    N ports/devel/p5-List-MoreUtils-XS/Makefile
    N ports/devel/p5-List-MoreUtils-XS/pkg/DESCR
    N ports/devel/p5-List-MoreUtils-XS/pkg/PLIST
    N ports/devel/p5-List-MoreUtils-XS/patches/patch-MANIFEST
    N ports/devel/p5-List-MoreUtils-XS/patches/patch-Makefile_PL
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 10:46:09

Modified files:
	devel          : Makefile 

Log message:
+p5-List-MoreUtils-XS


CVSROOT:	/cvs
Module name:	src
Changes by:	jsing@cvs.openbsd.org	2017/05/26 10:48:22

Modified files:
	regress/lib/libcrypto/chacha: chachatest.c 

Log message:
Synchronise chacha test cases with the referenced draft - this adds a
missing test case, reassigns two of the labels and removes a test case
that was from an earlier draft.

Inconsistency noted by Steven Roberts <fenderq at gmail dot com>, some time
ago...


CVSROOT:	/cvs
Module name:	www
Changes by:	tj@cvs.openbsd.org	2017/05/26 11:34:45

Modified files:
	.              : hackathons.html 

Log message:
fix date


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/26 11:38:46

Modified files:
	usr.sbin/identd: identd.c 
	usr.sbin/slowcgi: slowcgi.c 
	usr.sbin/tftp-proxy: tftp-proxy.c 
	usr.sbin/tftpd : tftpd.c 

Log message:
Sync the severity of the syslog_* functions shared between identd, slowcgi,
tftp-proxy and tftpd to the severity used in log.c style loggers.
This also fixes an issue where syslog_err and syslog_errx logged with
different severities.

Sure deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/26 11:51:10

Added files:
	x11/kde4/artikulate/patches: patch-libsound_src_CMakeLists_txt 

Log message:
Fix build with clang in base (wrong CMake variable used).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 11:54:31

Modified files:
	x11/gtk+2      : Makefile 

Log message:
unconditionalize Wno-*, gcc4 has supported it for long enough by now.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 12:02:01

Modified files:
	x11/gtk+2      : Makefile 

Log message:
Move away from the special mpi debug section.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 12:09:15

Modified files:
	games/pingus   : Makefile 
	games/pingus/patches: patch-src_pingus_pingus_main_cpp 
Added files:
	games/pingus/patches: patch-src_lisp_getters_hpp 
	                      patch-src_pingus_pingus_level_hpp 
	                      patch-src_pingus_prefab_file_hpp 
	                      patch-src_pingus_screens_pingus_menu_cpp 
	                      patch-src_util_file_reader_hpp 

Log message:
let pingus build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/26 12:40:05

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Get rid of the DELAY() hack in the firmware loader for 8000 family
iwm(4) devices. I don't see any problems without this hack.
I suppose the underlying problem was fixed in if_iwm.c r1.146.

Add some additional error checking while here.

Tested by me on 8260 and by claudio@ on 8265.
ok claudio@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 12:57:47

Modified files:
	x11/herbstluftwm: Makefile 

Log message:
unhardcode the build system. fixes clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 12:58:52

Modified files:
	x11/gnome/baobab: Makefile 
	x11/gnome/clocks: Makefile 
	x11/gnome/terminal: Makefile 
	x11/gnome/totem: Makefile 

Log message:
Our gcc(1) does not choke on unkwown -Wno-foobar options.


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/26 13:11:20

Modified files:
	sys/net        : pfkey.c pfkeyv2.c pfkeyv2.h 

Log message:
There is only one version of pfkey in OpenBSD and this will not change any
time soon so remove all the code to support multiple pfkey versions.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/26 13:15:06

Modified files:
	sys/arch/amd64/conf: RAMDISK_CD 

Log message:
Enable chvgpio(4) in RAMDISK_CD on amd64.
Makes the King Jim portabook's keyboard work in bsd.rd.
ok deraadt mlarkin


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/26 13:19:23

Modified files:
	games/trek     : Makefile play.c setup.c trek.h 
Removed files:
	games/trek     : dumpgame.c 

Log message:
save and restore hasn't worked for some time, not since -fPIE, since it
uses a pointer equality check for save game validity. remove it.
discovered by the ever inquisitive mlarkin


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:26:15

Log message:
    import devel/py-freezegun, a test dependency for the upcoming khal port
    
    FreezeGun is a library that allows your python tests to travel
    through time by mocking the datetime module.
    
    with input from danj
    
    ok danj
    
    Status:
    
    Vendor Tag:	jung
    Release Tags:	jung-20170526
    
    N ports/devel/py-freezegun/Makefile
    N ports/devel/py-freezegun/distinfo
    N ports/devel/py-freezegun/pkg/PLIST
    N ports/devel/py-freezegun/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:27:56

Log message:
    import devel/py-icalendar, a dependency for the upcoming khal port
    
    This is an attempt at making an iCalendar package for Python, to parse and
    generate iCalendar files.  The inspiration has come from the email package in
    the standard lib, yet efficient and powerful.
    
    ok danj
    
    Status:
    
    Vendor Tag:	jung
    Release Tags:	jung-20170526
    
    N ports/devel/py-icalendar/distinfo
    N ports/devel/py-icalendar/Makefile
    N ports/devel/py-icalendar/pkg/PLIST
    N ports/devel/py-icalendar/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:31:46

Modified files:
	devel          : Makefile 

Log message:
link devel/py-freezegun


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/26 13:34:12

Modified files:
	usr.bin/ssh    : channels.c channels.h 

Log message:
remove channel_input_close_confirmation (ssh1 only); ok djm@


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/26 13:35:50

Modified files:
	usr.bin/ssh    : channels.c channels.h 

Log message:
remove SSH_CHANNEL_XXX_DRAINING (ssh1 only); ok djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:36:21

Modified files:
	devel          : Makefile 

Log message:
link devel/py-icalendar


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:39:04

Modified files:
	devel          : Makefile 

Log message:
add py3 flavor for py-freezegun


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:43:03

Log message:
    import productivity/khal
    
    Khal is a standards based CLI (console) calendar program, able to synchronize
    with CalDAV servers through vdirsyncer.
    
    with input from danj
    
    ok danj
    
    Status:
    
    Vendor Tag:	jung
    Release Tags:	jung-20170526
    
    N ports/productivity/khal/Makefile
    N ports/productivity/khal/distinfo
    N ports/productivity/khal/pkg/PLIST
    N ports/productivity/khal/pkg/DESCR
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 13:45:23

Modified files:
	productivity   : Makefile 

Log message:
link productivity/khal


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/26 13:48:28

Modified files:
	games/trek     : trek.6 
	games/trek/USD.doc: trek.me 
Removed files:
	games/trek/DOC : read_me.nr things 

Log message:
forgot to remove mention of deleted dump/restart.
also delete ancient todo file:
Frankly,
I am getting pretty sick of playing this game.
Hence,
the version which you get may have several bugs


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 13:56:30

Removed files:
	graphics/shotwell/patches: patch-Makefile_in 

Log message:
Drop uneeded patch.


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/26 14:16:57

Modified files:
	tests/portcheck: t17.sample 

Log message:
Oops, forgot to commit that bit a long time before.

Noticed by jca@, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/26 14:27:02

Modified files:
	usr.bin/patch  : pch.c 

Log message:
sometimes patches coming from other places have extra a/ and b/ directories
prepended to filenames. detect this condition and attempt to correct it.
ok openbsd


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/26 14:27:21

Modified files:
	regress/usr.bin/patch: Makefile 
Added files:
	regress/usr.bin/patch: t19.diff t19.in t19.out 

Log message:
add a test for the git diffs, suggested by tom


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/26 14:34:49

Modified files:
	usr.bin/ssh    : sshbuf.c 

Log message:
sshbuf_consume: reset empty buffer; ok djm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/26 14:37:57

Modified files:
	www/surf       : Makefile distinfo 
	www/surf/patches: patch-config_def_h patch-config_mk 

Log message:
update www/surf to 2.0 using newer webkitgtk4, following upstream changes

ok zhuk

note: this update makes www/surf2 mostly superfluous, so may be removed soon


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/26 14:40:31

Modified files:
	infrastructure/bin: portcheck 

Log message:
Use dumb Makefile pipe trick from DPB/Vars.pm instead of trying to access
an existing port (devel/quirks) which could be broken, resulting in strange
errors on portcheck side.

Prompted and solution provided by espie@, thanks!


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 14:43:12

Modified files:
	audio/speech-dispatcher: Makefile distinfo 
	audio/speech-dispatcher/patches: 
	                                 patch-src_api_python_speechd_config_config_py_in 

Log message:
Update to speech-dispatcher-0.8.7.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/26 14:50:57

Modified files:
	graphics/tiff  : Makefile distinfo 
	graphics/tiff/patches: patch-libtiff_tif_getimage_c 
	                       patch-libtiff_tif_luv_c 
	                       patch-man_Makefile_in 
	graphics/tiff/pkg: PLIST 

Log message:
Security update to 4.0.8:
Fixes CVE-2017-5225, CVE-2017-7592 to -7602


CVSROOT:	/cvs
Module name:	ports
Changes by:	jca@cvs.openbsd.org	2017/05/26 14:55:09

Modified files:
	infrastructure/bin: portcheck 

Log message:
More obvious error message for empty patches.

ok zhuk@


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/26 14:55:31

Modified files:
	usr.sbin/bgpd  : bgpd.8 parse.y rde_attr.c session.c 

Log message:
AS 0 is special and should be considered an error.

Drop the session if it shows during OPEN or CAPA, or mark as invalid if
it is part of an Update.

required by RFC 7607

man page OK jmc@
OK florian@ benno@ claudio@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 15:17:12

Modified files:
	graphics/argyll: Makefile distinfo 
	graphics/argyll/patches: patch-icc_icc_h 
	graphics/argyll/pkg: PLIST 

Log message:
Update to argyllcms-1.9.2.


CVSROOT:	/cvs
Module name:	src
Changes by:	sthen@cvs.openbsd.org	2017/05/26 15:23:14

Modified files:
	usr.sbin/ldapd : btree.c 

Log message:
Don't overflow uint16 when the filesystem block size is >32K.
Reported and initial diagnosis from Allan Streib, help/ok millert deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	pascal@cvs.openbsd.org	2017/05/26 15:27:11

Modified files:
	shells/osh     : Makefile distinfo 
Removed files:
	shells/osh/patches: patch-Makefile 

Log message:
Update to osh 4.3.2, patch upstreamed.


CVSROOT:	/cvs
Module name:	src
Changes by:	gilles@cvs.openbsd.org	2017/05/26 15:30:00

Modified files:
	usr.sbin/smtpd : lka_session.c smtpd.h 
	usr.sbin/smtpd/smtpd: Makefile 
Added files:
	usr.sbin/smtpd : mda_variables.c 

Log message:
move variables expansion out of lka_session into their own file, this is a
mechanical diff to simplify a bit the lka code and prepare for moving
variables outside of the lookup process into the chrooted mda process.
no functional change for now.

ok eric@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/26 15:34:47

Modified files:
	games/pioneers : Makefile distinfo 
	games/pioneers/pkg: PLIST 
Removed files:
	games/pioneers/patches: patch-Makefile_in patch-configure 

Log message:
Update to pioneers-15.4.


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 15:46:17

Modified files:
	net/p5-Net-Inspect: Makefile distinfo 

Log message:
update p5-Net-Inspect to 0.327


CVSROOT:	/cvs
Module name:	ports
Changes by:	bluhm@cvs.openbsd.org	2017/05/26 15:50:35

Modified files:
	devel/p5-Devel-CheckOS: Makefile distinfo 

Log message:
update p5-Devel-CheckOS to 1.80


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/26 16:01:39

Added files:
	multimedia/k3b-kde4/patches: patch-CMakeLists_txt 

Log message:
Unbreak for Clang.

The hack to be revisited when we have CMake 3.8 and, therefore, c_std_99.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/26 16:07:16

Modified files:
	devel/valgrind : Makefile 
Added files:
	devel/valgrind/patches: patch-coregrind_m_main_c 

Log message:
changes to workaround major breakages in valgrind:

- add USE_WXNEEDED.

- add a patch from smccalib at protonmail,ch from
https://marc.info/?l=openbsd-ports&m=149541633922860&w=2


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/26 20:27:48

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
add missing prototype


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:41:43

Modified files:
	audio/mpd      : Makefile 
	audio/openal   : Makefile 
	devel/cbmc     : Makefile 
	devel/cppcheck : Makefile 

Log message:
use WANT_CXX, these build trivially


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:45:18

Modified files:
	emulators/desmume: Makefile 
	emulators/mgba : Makefile 

Log message:
compiles like a charm with clang


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:47:41

Modified files:
	emulators/snes9x: Makefile 
	emulators/xnp2 : Makefile 
	emulators/xroar: Makefile 

Log message:
more WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:51:02

Modified files:
	games/lugaru   : Makefile 
	games/supertux : Makefile 

Log message:
more WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:54:31

Modified files:
	games/supertuxkart: Makefile 
	geo/pgrouting  : Makefile 
	geo/viking     : Makefile 
	graphics/ffmpeg: Makefile 
	graphics/glm   : Makefile 
	graphics/libgxps: Makefile 
	graphics/ttfautohint: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:56:48

Modified files:
	lang/guile2    : Makefile 
	lang/racket-minimal: Makefile 

Log message:
more WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:58:08

Modified files:
	lang/ucblogo   : Makefile 

Log message:
one single substitution using beforesubst


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 22:59:05

Modified files:
	mail/evolution-rss: Makefile 

Log message:
re-conditionalize estdc++


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 23:02:07

Modified files:
	misc/gtk3mm-documentation: Makefile 
	multimedia/gstreamer1: Makefile.inc 
	multimedia/qt-gstreamer: Makefile 
	net/filezilla  : Makefile 
	net/gdnsd      : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 23:04:07

Modified files:
	productivity/taskd: Makefile 
	productivity/taskwarrior: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 23:07:48

Modified files:
	sysutils/logstalgia: Makefile 
	sysutils/tmux-mem-cpu-load: Makefile 
	textproc/highlight: Makefile 
	www/aria2      : Makefile 
	www/epiphany   : Makefile 
	www/newsbeuter : Makefile 
	x11/girara     : Makefile 
	x11/gnome/recipes: Makefile 
	x11/gnome/shell: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 23:09:04

Modified files:
	x11/lemonbar   : Makefile 
	x11/worker     : Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/26 23:16:18

Modified files:
	games/tome4    : Makefile 

Log message:
WANT_CXX ignore build system


CVSROOT:	/cvs
Module name:	www
Changes by:	krw@cvs.openbsd.org	2017/05/26 23:53:38

Modified files:
	.              : cvsync.html 

Log message:
Fix entry for UofT cvsync machine.

ok nick@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 00:21:43

Modified files:
	net/dnsdist    : Makefile 
	net/powerdns   : Makefile 
Added files:
	net/dnsdist/patches: patch-ext_json11_json11_cpp 
	net/powerdns/patches: patch-ext_json11_json11_cpp 

Log message:
WANT_CXX
fix json11 (from freebsd)


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/27 00:23:49

Modified files:
	sys/arch/mips64/mips64: pmap.c 

Log message:
Check cache_valias_mask earlier in the expression. The value is zero
on most systems, so this tweak should save an iota of CPU time.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 00:38:23

Modified files:
	emulators/qemu : Makefile 
	emulators/qemu/patches: patch-configure 

Log message:
let it build with clang, just need to patch tls auto-detection


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 00:44:14

Modified files:
	sys/net        : if_tun.c 

Log message:
Remove superflyous splnet()/splx() dances.

ok bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 00:54:40

Modified files:
	graphics/blender: Makefile 
Added files:
	graphics/blender/patches: patch-intern_cycles_bvh_bvh_build_cpp 
	                          patch-intern_itasc_kdl_tree_hpp 
	                          patch-intern_opensubdiv_opensubdiv_converter_cc 

Log message:
WANT_CXX and small clang fixes


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/27 01:07:14

Modified files:
	build          : mirrors.dat 

Log message:
Fix entry for UofT cvsync machine, matching krw's edit of cvsync.html.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 01:26:23

Modified files:
	sysutils/awless: Makefile distinfo 

Log message:
Update to awless-0.0.25.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 01:37:36

Modified files:
	libexec/getty  : subr.c 

Log message:
unifdef XXX_DELAY which is older than i am


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 01:39:27

Modified files:
	libexec/rpc.rwalld: rwalld.c 

Log message:
remove support for OSF


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 01:44:28

Modified files:
	libexec/rpc.rstatd: rstat_proc.c 

Log message:
bzero -> memset


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/27 01:55:27

Modified files:
	emulators/stella: Makefile 

Log message:
Fix HOMEPAGE and MASTER_SITES, project moved to GitHub and the distfiles
have been removed from SourceForge.

OK benoit@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 01:55:44

Modified files:
	usr.bin/banner : Makefile banner.c banner.h chset.c 

Log message:
trim some unused compile options for alternative character forms.


CVSROOT:	/cvs
Module name:	ports
Changes by:	akfaew@cvs.openbsd.org	2017/05/27 02:01:33

Modified files:
	net/bitlbee    : Makefile distinfo 

Log message:
Update to bitlbee-3.5.1

OK sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 02:02:40

Modified files:
	sys/conf       : GENERIC 
	sys/kern       : uipc_domain.c 

Log message:
Kill option KEY, it is a useless knob, nobody uses pfkeyv2 without IPSEC or
tcp md5. OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 02:03:29

Modified files:
	share/man/man4 : options.4 

Log message:
option KEY got tedued.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 02:18:46

Modified files:
	games/warzone2100: Makefile 
	games/warzone2100/patches: patch-configure_ac 
Added files:
	games/warzone2100/patches: patch-3rdparty_glm_core_type_half_inl 
	                           patch-lib_exceptionhandler_exceptionhandler_cpp 
	                           patch-lib_netplay_netplay_cpp 

Log message:
WANT_CXX, patches inspired by freebsd.

horrible hack to prevent build failure if incompatible ports' glm is
installed...


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 02:31:08

Modified files:
	usr.sbin/acme-client: main.c 

Log message:
Use basename(3) instead of hand rolling it.
Gets rid of double slashes, pointed out by Raf Czlonka (rczlonka at
gmail), thanks!

OK benno


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 02:33:25

Modified files:
	usr.sbin/relayd: Makefile ca.c check_tcp.c config.c hce.c 
	                 parse.y relay.c relay_http.c relayd.c relayd.h 
	                 ssl.c 
Added files:
	usr.sbin/relayd: boguskeys.h check_tls.c 

Log message:
Migrate relayd to use libtls for TLS. Still does the TLS privsep via the
engine but at least we can use a sane API for new features.
Going in now so it is possible to work with this in tree.
General agreement at d2k17.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/27 02:35:55

Modified files:
	sys/dev/pv     : vioscsi.c 

Log message:
Move error path to end of function where god intended it
to be. goto'ing upwards into an 'if' statement block
is weird.

ok sf@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 02:40:14

Modified files:
	x11/vlc        : Makefile distinfo 
	x11/vlc/patches: patch-Makefile_in patch-configure_ac 
	                 patch-modules_gui_qt4_dialogs_messages_cpp 
	                 patch-share_Makefile_am 
	x11/vlc/pkg    : PLIST-main 

Log message:
SECURITY update to vlc-2.2.6.

from Brad (maintainer) and a few tweaks by myself


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 02:41:44

Modified files:
	emulators/mupen64plus/video-glide64mk2: Makefile 
Added files:
	emulators/mupen64plus/video-glide64mk2/patches: 
	                                                patch-src_Glide64_3dmath_cpp 

Log message:
differing builtins, WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 03:01:22

Modified files:
	sys/arch/sparc64/conf: ld.script 

Log message:
Make room for another 4GB of .text.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 03:03:22

Modified files:
	sys/arch/sparc64/sparc64: pmap.c 

Log message:
Claim physical memory allocated during early bootstrap from the PROM.


CVSROOT:	/cvs
Module name:	src
Changes by:	zhuk@cvs.openbsd.org	2017/05/27 03:05:18

Modified files:
	distrib/miniroot: install.sub 

Log message:
De-duplicate sets selection instructions, and give a short example.
Still one lines shorter.

Input and okay from tedu@ and deraadt@; also a "weak" okay from sthen@.


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 03:05:25

Modified files:
	usr.sbin/syspatch: syspatch.sh 

Log message:
When running from cron, the ftp(1) progress bar is not shown; that's all fine
and dandy except that if there's fetch/verify error, we may not know which
syspatch caused this. So if we're not associated with a terminal, just echo
what ftp -VD would (without the progress bar).


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/27 03:26:42

Modified files:
	usr.sbin/bgpd  : bgpd.h 

Log message:
fix the reference to draft-ymbk-grow-blackholing, to RFC 7999


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 03:27:36

Modified files:
	sysutils/facter: Makefile 

Log message:
Needs bdep on devel/gettext-tools (/usr/local/bin/xgettext).


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 03:28:28

Modified files:
	libexec/getty  : main.c 

Log message:
remove the getname() code trying to handle baud < 1200 terminals.
leave the special down under code until somebody unearths why it exists.


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/27 03:31:14

Modified files:
	libexec/getty  : gettytab.5 main.c 

Log message:
Stop supporting primordial # (erase) and @ (kill) sequences.
ok tedu


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/27 03:34:55

Modified files:
	libexec/getty  : main.c 

Log message:
Stop echoing ANSI sequences back to the console, by expanding ESC character
to literal ^[.  This makes getty interaction appear more like login, and
stops a mid-ANSI sequence parsing problem that messed up login, making it
freeze the session until timeout.
ok tedu fcambus


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 03:51:07

Modified files:
	usr.bin/doas   : doas.c 

Log message:
for password failure, print Authorization failed instead of EPERM.
will make things less confusing with commands rejected by config file.


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/27 03:51:12

Modified files:
	productivity/vym: Makefile 
Added files:
	productivity/vym/patches: patch-exports_cpp 

Log message:
Unbreak build with Clang.

Still wondering how things were supposed to work with GCC.


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 03:51:18

Modified files:
	sys/net        : route.c 

Log message:
In ifa_ifwithroute() the rtalloc() needs to be done against the rdomain
so use rtable_l2() to get the right id. Fixes adding routes to rtables.
OK mpi@ phessler@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 03:54:43

Modified files:
	sys/arch/arm64/arm64: machdep.c 
	sys/arch/arm64/include: vmparam.h 

Log message:
Use EFI memory map to discover available physical memory.
Fall back on improved code that parses the FDT /memory node.
However, on machines with "real" UEFI firmware, /memory may include
reserved memory that we shouldn't use (it does on the Overdrive 1000).
On those machines, make sure that you use BOOTAA64 0.3 or later such that
the EFI memory map gets used.

For now, print out the EFI memory map to help debug any issues.

ok patrick@


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/27 04:22:06

Modified files:
	sys/dev/pv     : virtio.c 

Log message:
virtio: Remove MINSEG_INDIRECT

Remove MINSEG_INDIRECT as a tweakable define. Always use indirect
descriptors if we have more than 1 segment. Add a comment to document
the way if_vio.c uses maxnsegs in virtio_alloc_vq() to disable
indirect descriptors for a queue.

Based on a diff from krw@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 04:22:50

Modified files:
	sys/arch/amd64/include: cpufunc.h 

Log message:
there shouldn't be any need to check for PGE on amd64. ok deraadt mlarkin


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 04:24:02

Modified files:
	sys/net        : pipex.c 

Log message:
Remove obsolete comment talking about splnet().


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/27 04:24:31

Modified files:
	sys/dev/pv     : virtiovar.h virtio.c 

Log message:
virtio: remove unused vq_maxsegsize


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/27 04:24:44

Modified files:
	usr.sbin/bgpd  : bgpd.conf.5 bgpd.h parse.y printconf.c 
	                 rde_filter.c 

Log message:
allow us to use 'local-as' in the filter language

"match in from any set community local-as:neighbor-as"

OK claudio@


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/05/27 04:25:44

Modified files:
	sbin/wsconsctl : wsconsctl.8 

Log message:
Mention the display.font variable in EXAMPLES.

As mentioned by miod@ here [1], wsconsctl(8) has a currently
undocumented 'display.font' variable allowing to change the
current font on framebuffer consoles.

[1] http://undeadly.org/cgi?action=article&sid=20131023125815

OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/27 04:33:15

Modified files:
	usr.sbin/bgpd  : bgpd.conf.5 parse.y printconf.c rde.c 
	                 rde_filter.c rde_update.c session.c 

Log message:
Allow OpenBGPD to selectively choose which local ASN to use per-peer.
This is intended to be used for ASN migrations, not for permanent use.

You MUST use filters to protect yourself from receiving your own routes.
There be dragons and grues.

OK claudio@ benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	zhuk@cvs.openbsd.org	2017/05/27 04:35:41

Modified files:
	usr.bin/libtool/LT: Getopt.pm 

Log message:
Make libtool handle --tag=... inside command line.

Unbreaks (and changes PLIST) multimedia/lives under Clang, and maybe others.

okay espie@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 04:36:18

Modified files:
	sys/kern       : uipc_mbuf.c 

Log message:
Refactor m_makespace() using MCLGETI to simplify the logic of this function.
Still quite complicated but more legible in the end and it will do less
M_GET calls for huge packets.
OK bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/27 04:36:42

Modified files:
	multimedia/lives: Makefile 
	multimedia/lives/pkg: PLIST 

Log message:
Unbreak for base Clang case.

Requires recent libtool to build due to --tag=disable-static handling fixes.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:37:04

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
bluhm pointed out that the prefix itself can be scoped, too. So we
need to pass around sockaddr_in6s for that, too. While here add some
more validation of what we get handed in as proposal from engine.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:37:56

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
send route label


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:38:54

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
move towards $thing proposals and attach them to iface


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:39:32

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
we need to loop over all proposals


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:40:43

Modified files:
	usr.sbin/slaacd: engine.c slaacd.h 
	usr.sbin/slaacctl: slaacctl.c 

Log message:
no longer carry addresses in struct radv_prefix


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:41:41

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
proposal state


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:42:51

Modified files:
	usr.sbin/slaacd: engine.c engine.h slaacd.c 

Log message:
use new address_proposal struct to generate proposals


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:45:14

Modified files:
	usr.sbin/slaacd: engine.c engine.h frontend.c slaacd.c slaacd.h 

Log message:
handle proposal ack


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:46:27

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
remove unused vars


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:47:23

Modified files:
	usr.sbin/slaacd: engine.c engine.h frontend.c slaacd.c slaacd.h 

Log message:
configure address on interface


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:49:38

Modified files:
	usr.sbin/slaacd: frontend.c 

Log message:
sync route socket processing to netcfgd
- handle multiple messages
- switch to get_rtaddrs() to get an array of addresses transported in
the message


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:50:25

Modified files:
	usr.sbin/slaacd: engine.c frontend.c slaacd.c slaacd.h 

Log message:
delete proposal if address gets deleted


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:52:16

Modified files:
	usr.sbin/slaacd: engine.c frontend.c slaacd.c slaacd.h 
	usr.sbin/slaacctl: slaacctl.c 

Log message:
show address proposals in slaacdctl show interface output


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:53:37

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
do not use %hhu


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:53:59

Modified files:
	usr.sbin/slaacctl: slaacctl.c 

Log message:
do not use %hhu


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:54:44

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
there is no need to construct and send a proposal if we reached the
limit and just remove the list element directly afterwards


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 04:54:47

Modified files:
	games/eduke32  : Makefile 

Log message:
let it build with clang


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/27 04:55:45

Modified files:
	usr.sbin/bgpd  : mrt.c 

Log message:
this expects 2byte ASN, so use that, instead of an asn that may or may not fit

noticed by and OK claudio@


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:55:50

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
handle expiration / renewal of non-privacy addresses


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 04:57:23

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
SOCK_CLOEXEC | SOCK_NONBLOCK


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/27 04:58:53

Modified files:
	regress/sys/netinet/ipsec: Makefile 

Log message:
Do not use reject routes as they prevent path MTU discovery.
Drop possible old TCP connections from previous test runs.
Adapt regex that checks tcpdump pflog0, output has been fixed.


CVSROOT:	/cvs
Module name:	ports
Changes by:	pea@cvs.openbsd.org	2017/05/27 05:18:27

Modified files:
	lang/go        : Makefile distinfo 
	lang/go/pkg    : PLIST 

Log message:
Update to 1.8.3
ok jsing@


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/05/27 06:00:28

Modified files:
	sys/dev/wscons : ascii.h 

Log message:
Add missing comments for CAN and SUB, for consistency.

OK tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/27 06:09:27

Modified files:
	usr.sbin/bgpd  : bgpd.h 

Log message:
bump the size of ctl rib flags

OK claudio@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 06:20:43

Added files:
	multimedia/swfmill/patches: patch-src_codegen_parsexml_xsl 
	                            patch-src_codegen_writexml_xsl 
Removed files:
	multimedia/swfmill/patches: patch-src_gSWFParseXML_cpp 
	                            patch-src_gSWFWriteXML_cpp 

Log message:
actually, that's generated code, so coooool!  copy-and-paste bugs 10s of times


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 06:21:50

Modified files:
	sys/arch/i386/i386: cpu.c 
	sys/arch/i386/include: cpufunc.h 
	sys/arch/amd64/amd64: cpu.c 
	sys/arch/amd64/include: cpufunc.h 

Log message:
manually inline tlbflushg. it's short and there's only one caller.
ok deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 06:37:16

Modified files:
	x11/gtk+2      : Makefile 

Log message:
vi(1) did not like me on that one...
thanks naddy@ for spotting it.


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/27 06:39:12

Modified files:
	sys/net        : pipex.c 

Log message:
Use rn_inithead() instead of rn_inithead0().  Since rn_inithead0()
doesn't trigger rn_initmask() and first session had caused panics.

Reported by VOblezov at mtsbank.ru.


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/27 06:40:51

Modified files:
	sys/dev/ic     : nvme.c nvmevar.h 

Log message:
nvme: Add suspend/resume code

Based on an initial patch by ehrhardt@ . Thanks to claudio@ for testing
and deraadt@ for advice.

"go ahead" deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/27 06:49:03

Modified files:
	x11/gbdfed     : Makefile 

Log message:
Remove defunct HOMEPAGE and switch MASTER_SITES to distfiles.pl.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 07:10:07

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
remove unused vars


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/27 07:31:06

Modified files:
	.              : INDEX 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 07:51:52

Modified files:
	etc/rc.d       : rc.subr ypbind 
	share/man/man8 : rc.d.8 rc.subr.8 

Log message:
Add an ALRM timer to cope with 2 annoying issues in rc.d(8):
- prevent a daemon from hanging the boot
(typo in your flagsm e.g. httpd_flags=-d)
- make sure we can get the status of a backgrounded daemon instead of always
returning success

Side effect of this is that we can kill a knob! rip rc_bg :-)
Ports will need love, and a second commit is coming for that.

The diff is small yet not trivial so I am committing early in the release
process in one shot so it can easily be reverted if needed. I started working on
this during g2k16 in Cambridge then finished it in Brisbane for a2k17 where
robert@, beck@ and sthen@ agreed it was the correct way to go and I should move
ahead with it post 6.1.

If you see any regression, please talk to me!


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 07:53:07

Modified files:
	audio/ympd/pkg : ympd.rc 
	audio/zeya/pkg : zeya.rc 
	databases/mariadb/pkg: mysqld.rc 
	databases/puppetdb/pkg: puppetdb.rc 
	databases/puppetdb4/pkg: puppetdb.rc 
	devel/go-tools/pkg: godoc.rc 
	devel/jenkins/pkg: jenkins.rc 
	games/hedgewars/pkg: hedgewars_server.rc 
	games/ioquake3/pkg: ioq3ded.rc 
	games/yquake2/pkg: q2ded.rc 
	misc/rocrail/pkg: rocrail.rc 
	net/syncthing/pkg: syncthing.rc 
	net/gnugk/pkg  : gnugk.rc 
	net/ices2/pkg  : ices2.rc 
	net/maradns-deadwood/pkg: deadwood.rc 
	net/mfi/pkg    : mfi.rc 
	net/munin/pkg  : munin_asyncd.rc 
	net/unifi/pkg  : unifi.rc 
	net/mlvpn/pkg  : mlvpn.rc 
	net/openfire/pkg: openfire.rc 
	print/cups-filters/pkg: cups_browsed.rc 
	security/heimdal/pkg: kadmind.rc kpasswdd.rc 
	security/snort2pf/pkg: snort2pf.rc 
	security/sshguard/pkg: sshguard.rc 
	security/yubiserve/pkg: yubiserve.rc 
	security/vault/pkg: vault.rc 
	sysutils/facette/pkg: facette.rc 
	sysutils/freedt/pkg: svscan.rc 
	sysutils/consul/pkg: consul.rc 
	sysutils/logstash/pkg: logstash.rc 
	sysutils/riemann/pkg: riemann.rc 
	sysutils/serf/pkg: serf.rc 
	sysutils/beats/filebeat/pkg: filebeat.rc 
	sysutils/beats/packetbeat/pkg: packetbeat.rc 
	sysutils/beats/hwsensorsbeat/pkg: hwsensorsbeat.rc 
	sysutils/beats/heartbeat/pkg: heartbeat.rc 
	sysutils/beats/metricbeat/pkg: metricbeat.rc 
	sysutils/amazon-ssm-agent/pkg: amazon_ssm_agent.rc 
	sysutils/consul-template/pkg: consul_template.rc 
	sysutils/rundeck/pkg: rundeck.rc 
	telephony/stuntman/pkg: stunserver.rc 
	www/ajaxterm/pkg: ajaxterm.rc 
	www/rt/pkg     : rt.rc 
	www/gitea/pkg  : gitea.rc 
	www/kibana/pkg : kibana.rc 
	x11/gnome/gdm/pkg: gdm.rc 
	x11/kde/base3/pkg: kdm.rc 
	x11/kde4/workspace/pkg: kdm.rc 
	x11/slim/pkg   : slim.rc 
	x11/x11vnc/pkg : x11vnc.rc 

Log message:
Cope with recent rc.subr(8) change (removal of rc_bg etc.)


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 07:55:37

Modified files:
	x11/gtksourceview3: Makefile distinfo 

Log message:
update to gtksourceview3-3.24.2


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 07:55:59

Modified files:
	audio/ympd     : Makefile 
	audio/zeya     : Makefile 
	databases/mariadb: Makefile 
	databases/puppetdb: Makefile 
	databases/puppetdb4: Makefile 
	devel/go-tools : Makefile 
	devel/jenkins/devel: Makefile 
	devel/jenkins/stable: Makefile 
	games/hedgewars: Makefile 
	games/ioquake3 : Makefile 
	games/yquake2  : Makefile 
	misc/rocrail   : Makefile 
	net/syncthing  : Makefile 
	net/gnugk      : Makefile 
	net/ices2      : Makefile 
	net/maradns-deadwood: Makefile 
	net/mfi        : Makefile 
	net/munin      : Makefile 
	net/unifi      : Makefile 
	net/mlvpn      : Makefile 
	net/openfire   : Makefile 
	print/cups-filters: Makefile 
	security/heimdal: Makefile 
	security/snort2pf: Makefile 
	security/sshguard: Makefile 
	security/yubiserve: Makefile 
	security/vault : Makefile 
	sysutils/facette: Makefile 
	sysutils/freedt: Makefile 
	sysutils/consul: Makefile 
	sysutils/logstash: Makefile 
	sysutils/riemann: Makefile 
	sysutils/serf  : Makefile 
	sysutils/beats/filebeat: Makefile 
	sysutils/beats/packetbeat: Makefile 
	sysutils/beats/hwsensorsbeat: Makefile 
	sysutils/beats/heartbeat: Makefile 
	sysutils/beats/metricbeat: Makefile 
	sysutils/amazon-ssm-agent: Makefile 
	sysutils/consul-template: Makefile 
	sysutils/rundeck: Makefile 
	telephony/stuntman: Makefile 
	www/ajaxterm   : Makefile 
	www/rt         : Makefile 
	www/gitea      : Makefile 
	www/kibana     : Makefile 
	x11/gnome/gdm  : Makefile 
	x11/kde/base3  : Makefile 
	x11/kde4/workspace: Makefile 
	x11/slim       : Makefile 
	x11/x11vnc     : Makefile 

Log message:
I forgot the bump commit...


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 07:58:45

Modified files:
	graphics/p5-SVG: Makefile distinfo 

Log message:
update to p5-SVG-2.77


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 08:02:36

Modified files:
	devel/libgit2/py-git2: Makefile distinfo 

Log message:
update to py-git2-0.25.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 08:04:25

Modified files:
	devel/ruby-rspec/specinfra: Makefile distinfo 
	devel/ruby-rspec/specinfra/pkg: PLIST 

Log message:
update to specinfra-2.68.0


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 08:04:38

Modified files:
	devel/ruby-rspec/serverspec: Makefile distinfo 

Log message:
update to serverspec-2.38.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 08:05:00

Modified files:
	sysutils/monit : Makefile distinfo 
	sysutils/monit/patches: patch-monitrc 

Log message:
update to monit-5.22.0


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/27 08:16:45

Modified files:
	sys/dev/pci    : ahci_pci.c 

Log message:
remove #ifdef HIBERNATE section that declares stuff that lives in ahci.c


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 08:16:49

Modified files:
	net/mfi        : Makefile 
	net/mfi/pkg    : mfi.rc 

Log message:
Make it possible to pass daemon_flags.

ok jasper@ (maintainer)


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 08:20:39

Modified files:
	lib/librthread : rthread.h rthread_libc.c 
Added files:
	lib/librthread : synch.h rthread_cond.c rthread_mutex.c 

Log message:
New mutex and condvar implementations based on futex(2).

Not enabled yet, it needs some SPINLOCK_SPIN_HOOK love and
some bumps.

Tested by many including sthen@ in a bulk.

ok visa@, sthen@, kettenis@, tedu@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 08:24:29

Modified files:
	regress/lib/libpthread/sigwait: sigwait.c 

Log message:
Go to sleep to let our contending thread win a race.

Because we cannot assume that the contending thread will grab it
between our unlock/lock.

ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 08:33:39

Modified files:
	sys/arch/alpha/alpha: locore.s 

Log message:
Implement copyin32(9) for alpha.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 08:39:34

Modified files:
	graphics/sane-backends: Makefile 

Log message:
--without-api-spec in case we detect ghostscript, transig and/or texlive
which may break the port if dpb junks one of them.

reported by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 09:05:16

Modified files:
	sys/ddb        : db_ctf.c 

Log message:
Spring cleanup:

- Cache the string table pointer
- Unify return statements
- Use the end of the symbol table rather than counting symbols


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 09:08:43

Modified files:
	x11/gnome/recipes: Makefile distinfo 
	x11/gnome/recipes/pkg: PLIST 
Added files:
	x11/gnome/recipes/patches: patch-meson_build 
	                           patch-src_gr-recipe-formatter_c 
	                           patch-src_gr-recipe-store_c 

Log message:
update to gnome-recipes-1.4.4


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 09:11:03

Modified files:
	sys/arch/sparc64/include: lock.h 
	sys/arch/sparc64/sparc64: lock_machdep.c 

Log message:
Move SPINLOCK_SPIN_HOOK to the header used by other archs in order to
prepare the terrain for MI locks.

ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/27 09:32:51

Modified files:
	lib/libc/hash  : sha2.c 
	sys/lib/libsa  : sha2.c 

Log message:
move sha224_initial_hash_value[] under !SHA2_SMALL; ok deraadt@ millert@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/27 09:51:36

Modified files:
	x11/gnome/recipes/patches: patch-src_gr-recipe-formatter_c 
	                           patch-src_gr-recipe-store_c 

Log message:
sync with what's been submitted upstream and add BZ urls


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/27 10:04:38

Modified files:
	regress/lib/libpthread/restart/connect: connect.c 

Log message:
Do not connect to cvs.openbsd.org in regress.  Run on loopback to
make the test pass without internet access.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 10:08:23

Modified files:
	sys/ddb        : db_sym.c 

Log message:
Make ddb print again filename and linenumber if a bsd.gdb was loaded.
mpi@ agrees that this is correct.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 10:16:49

Modified files:
	usr.sbin/slaacd: Makefile engine.c frontend.c slaacd.c slaacd.h 

Log message:
Generate a fake ack (or is it an alternative ack?) internally.
This allows slaacd to configure addresses in the absence of
netcfgd and might be a less scary step forward to move
stateless address autoconfiguration out of the kernel.

This intentionally a compile time option and will go away
once we figure out how to do proposals.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/27 10:41:10

Modified files:
	sys/kern       : uipc_mbuf.c 

Log message:
Put an assert that M_PKTHDR is set before accessing m_pkthdr in the
mbuf functions.
OK claudio@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 10:41:41

Modified files:
	games/stone-soup: Makefile 
	games/stone-soup/patches: patch-source_Makefile 
Added files:
	games/stone-soup/patches: patch-source_rltiles_Makefile 

Log message:
stupid build system. unhardcode gcc/g++, get sqlite path in the right location.
force everything in the build system


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 10:42:41

Modified files:
	sys/kern       : sys_futex.c 

Log message:
Use copyin32(9) to atomically copy the futex from user space.

On !MULTIPROCESSOR kernels we still fall back on copyin(9), but that is
fine.  This will break m88k MULTIPROCESSOR kernels.

ok deraadt@, mpi@, visa@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 10:54:57

Modified files:
	textproc/link-grammar: Makefile 
Added files:
	textproc/link-grammar/patches: patch-link-grammar_utilities_h 

Log message:
allow base clang and libc++
really dirty trick to cope with a really dirty trick...


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 11:31:46

Modified files:
	sysutils/simple-mtpfs: Makefile 

Log message:
WANT_CXX, tell configure to look into /usr/local


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/27 11:43:22

Modified files:
	graphics/vigra : Makefile 

Log message:
Disable tests until the template mismatch issue with
gaussianGradientMultiArray() calls gets fixed.

okay espie@


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/27 12:04:07

Modified files:
	usr.sbin/bgpd  : parse.y 

Log message:
allow only one network <prefix> statement per for the same prefix.
ok florian@ phessler@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/27 12:10:28

Modified files:
	x11/kde4       : kde4.port.mk 

Log message:
forgotten commit... not sure it's actually useful, but better safe than
sorry


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/27 12:12:23

Modified files:
	usr.sbin/bgpd  : bgpd.conf.5 bgpd.h parse.y printconf.c rde.c 

Log message:
Allow an administrator to disable the bgp loop detection algorithm,
which is useful in very limited situations.

Angry dragons and grues will hunt for you, if you use it.

OK claudio@ sthen@ benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 12:33:21

Modified files:
	sys/net        : if_pfsync.c 

Log message:
Remove useless splnet()/splx() dances.

pfsyncioctl() is executed with the NET_LOCK() held which is enough.

ok sashan@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 12:36:20

Modified files:
	sys/net        : if_pppoe.c 

Log message:
Protect the global list of softc with the NET_LOCK().

While here remove superfluous splnet()/splx() in the ioctl routine.

ok sashan@


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 12:37:09

Modified files:
	usr.sbin/slaacctl: slaacctl.c 
	usr.sbin/slaacd: engine.c slaacd.h 

Log message:
print router preference


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/27 12:38:07

Modified files:
	usr.sbin/slaacd: slaacd.h 

Log message:
use sizeof("constant string") to avoid magic number


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/27 12:39:17

Modified files:
	sys/net        : if_ppp.c 

Log message:
Protect the global list of softc with the NET_LOCK().

ok sashan@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/27 12:50:53

Modified files:
	sys/net        : pfkeyv2.c 
	sys/kern       : uipc_socket.c uipc_socket2.c 

Log message:
Push the NET_LOCK down into PF_KEY so that it can be treated like PF_ROUTE.
Only pfkeyv2_send() needs the NET_LOCK() so grab it at the start and release
at the end.  This should allow to push the locks down in other places.
OK mpi@, bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	millert@cvs.openbsd.org	2017/05/27 12:54:09

Modified files:
	regress/lib/libc/qsort: qsort_test.c 

Log message:
Also test arrays of double and long long.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 13:26:35

Modified files:
	infrastructure/templates: rc.template 

Log message:
Fix rc.d template.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/27 13:26:52

Modified files:
	devel/py-freezegun: Makefile distinfo 

Log message:
update to 0.3.9


CVSROOT:	/cvs
Module name:	ports
Changes by:	jung@cvs.openbsd.org	2017/05/27 13:27:20

Modified files:
	devel/py-icalendar: Makefile distinfo 
	devel/py-icalendar/pkg: PLIST 

Log message:
update to 3.11.4


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/27 13:27:45

Modified files:
	sys/dev/ic     : nvme.c 

Log message:
nvme: Don't set prp1 for DEL_IOCQ

NVM_ADMIN_DEL_IOCQ does not need prp1 (just as NVM_ADMIN_DEL_IOSQ).
Remove what is likely a cut'n'paste error from the *_ADD_* code.

tested by claudio@
ok jmatthew@


CVSROOT:	/cvs
Module name:	src
Changes by:	akfaew@cvs.openbsd.org	2017/05/27 13:38:38

Modified files:
	sbin/pfctl     : pfctl_osfp.c 

Log message:
Move includes.

This reduces the diff with usr.sbin/tcpdump/pfctl_osfp.c. The change
from tcpdump is newer, so change pfctl. No binary change.

OK deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 13:47:08

Modified files:
	sys/sys        : atomic.h 

Log message:
Add membar_enter_after_atomic(9) and membar_exit_before_atomic(9) APIs to
allow important optimizations on architectures where atomic instructions
include and implied memory barrier.

ok mikeb@, visa@, mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 13:55:48

Modified files:
	etc/rc.d       : rc.subr ypbind 
	share/man/man8 : rc.subr.8 

Log message:
Ok turns out we still want to keep the rc_bg variable around but we need
to know which daemon cannot background themselves (actually we want to
know the opposite, but there are much more). However, it's only needed in
_rc_wait and rc.subr still does its magic without the need to add `&'.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 13:57:08

Modified files:
	audio/ympd     : Makefile 
	audio/ympd/pkg : ympd.rc 
	audio/zeya     : Makefile 
	audio/zeya/pkg : zeya.rc 
	databases/mariadb: Makefile 
	databases/mariadb/pkg: mysqld.rc 
	databases/puppetdb: Makefile 
	databases/puppetdb/pkg: puppetdb.rc 
	databases/puppetdb4: Makefile 
	databases/puppetdb4/pkg: puppetdb.rc 
	devel/go-tools : Makefile 
	devel/go-tools/pkg: godoc.rc 
	devel/jenkins/devel: Makefile 
	devel/jenkins/pkg: jenkins.rc 
	devel/jenkins/stable: Makefile 
	games/hedgewars: Makefile 
	games/hedgewars/pkg: hedgewars_server.rc 
	games/ioquake3 : Makefile 
	games/ioquake3/pkg: ioq3ded.rc 
	games/yquake2  : Makefile 
	games/yquake2/pkg: q2ded.rc 
	misc/rocrail   : Makefile 
	misc/rocrail/pkg: rocrail.rc 
	net/syncthing  : Makefile 
	net/syncthing/pkg: syncthing.rc 
	net/gnugk      : Makefile 
	net/gnugk/pkg  : gnugk.rc 
	net/ices2      : Makefile 
	net/ices2/pkg  : ices2.rc 
	net/maradns-deadwood: Makefile 
	net/maradns-deadwood/pkg: deadwood.rc 
	net/munin      : Makefile 
	net/munin/pkg  : munin_asyncd.rc 
	net/mlvpn      : Makefile 
	net/mlvpn/pkg  : mlvpn.rc 
	net/openfire   : Makefile 
	net/openfire/pkg: openfire.rc 
	print/cups-filters: Makefile 
	print/cups-filters/pkg: cups_browsed.rc 
	security/heimdal: Makefile 
	security/heimdal/pkg: kadmind.rc kpasswdd.rc 
	security/snort2pf: Makefile 
	security/snort2pf/pkg: snort2pf.rc 
	security/sshguard: Makefile 
	security/sshguard/pkg: sshguard.rc 
	security/yubiserve: Makefile 
	security/yubiserve/pkg: yubiserve.rc 
	security/vault : Makefile 
	security/vault/pkg: vault.rc 
	sysutils/facette: Makefile 
	sysutils/facette/pkg: facette.rc 
	sysutils/freedt: Makefile 
	sysutils/freedt/pkg: svscan.rc 
	sysutils/consul: Makefile 
	sysutils/consul/pkg: consul.rc 
	sysutils/riemann: Makefile 
	sysutils/riemann/pkg: riemann.rc 
	sysutils/serf  : Makefile 
	sysutils/serf/pkg: serf.rc 
	sysutils/beats/filebeat: Makefile 
	sysutils/beats/filebeat/pkg: filebeat.rc 
	sysutils/beats/packetbeat: Makefile 
	sysutils/beats/packetbeat/pkg: packetbeat.rc 
	sysutils/beats/hwsensorsbeat: Makefile 
	sysutils/beats/hwsensorsbeat/pkg: hwsensorsbeat.rc 
	sysutils/beats/heartbeat: Makefile 
	sysutils/beats/heartbeat/pkg: heartbeat.rc 
	sysutils/beats/metricbeat: Makefile 
	sysutils/beats/metricbeat/pkg: metricbeat.rc 
	sysutils/amazon-ssm-agent: Makefile 
	sysutils/amazon-ssm-agent/pkg: amazon_ssm_agent.rc 
	sysutils/consul-template: Makefile 
	sysutils/consul-template/pkg: consul_template.rc 
	sysutils/rundeck: Makefile 
	sysutils/rundeck/pkg: rundeck.rc 
	telephony/stuntman: Makefile 
	telephony/stuntman/pkg: stunserver.rc 
	www/ajaxterm   : Makefile 
	www/ajaxterm/pkg: ajaxterm.rc 
	www/rt         : Makefile 
	www/rt/pkg     : rt.rc 
	www/gitea      : Makefile 
	www/gitea/pkg  : gitea.rc 
	www/kibana     : Makefile 
	www/kibana/pkg : kibana.rc 
	x11/x11vnc     : Makefile 
	x11/x11vnc/pkg : x11vnc.rc 
	net/mfi        : Makefile 
	net/mfi/pkg    : mfi.rc 
	net/unifi      : Makefile 
	net/unifi/pkg  : unifi.rc 
	sysutils/logstash: Makefile 
	sysutils/logstash/pkg: logstash.rc 
	x11/gnome/gdm  : Makefile 
	x11/gnome/gdm/pkg: gdm.rc 

Log message:
Bring rc_bg back.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/05/27 14:02:49

Modified files:
	net/bitlbee    : Makefile 

Log message:
Add missing build dependency textproc/docbook-xsl, otherwise it tries to
fetch xhtml/docbook.xsml from the net during build.


CVSROOT:	/cvs
Module name:	ports
Changes by:	kili@cvs.openbsd.org	2017/05/27 14:09:38

Modified files:
	productivity/khal: Makefile 

Log message:
Add missing build dependency devel/py-setuptools_scm.


CVSROOT:	/cvs
Module name:	src
Changes by:	kettenis@cvs.openbsd.org	2017/05/27 14:12:12

Modified files:
	sys/arch/i386/include: atomic.h 
	sys/arch/amd64/include: atomic.h 

Log message:
On i386 and amd64, atomic instructions include an implicit memory barrier.

ok mikeb@, visa@, mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	jung@cvs.openbsd.org	2017/05/27 14:18:04

Modified files:
	share/man/man5 : port-modules.5 

Log message:
remove devel/waf gone 2 years ago, may not come back but still gives nightmares

ok ajacoutot


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/27 15:00:51

Modified files:
	x11/gnome/gdm  : Makefile 
	x11/gnome/gdm/pkg: gdm.rc 

Log message:
Let's experiment for a bit; it seems that we don't need to wait for
/usr/libexec/getty to be available before starting gdm; it's probably
because gdm takes so long to start...


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/27 15:06:06

Modified files:
	sys/net        : if_pflow.c if_pflow.h 

Log message:
move sending of pflow packet into a task, seperated from the data
collection by a mbuf queue. with help from mpi@
ok florian@


CVSROOT:	/cvs
Module name:	ports
Changes by:	fcambus@cvs.openbsd.org	2017/05/27 15:13:48

Modified files:
	x11/gbdfed     : Makefile 

Log message:
Forgot to bump REVISION in the previous commit.


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/27 15:44:22

Modified files:
	sys/net        : if_pflow.c 

Log message:
fix previous as noted by mpi, thx florian


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/27 15:55:52

Modified files:
	sys/netinet    : ip_carp.c 

Log message:
Fix the carp mode 'balancing ip-stealth'.  Set the link state UP
if at least one vhid is in state MASTER.
from Florian Riehm; OK florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/27 17:58:16

Modified files:
	usr.sbin/vmd   : virtio.c 

Log message:
use pread and pwrite to save code and syscalls. ok mlarkin


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/27 19:33:26

Modified files:
	sys/arch/i386/include: atomic.h 

Log message:
remove bogus atomic_swap_64 code from i386

xchg can't handle 64 bit values on i386.  gcc errors if the code
is called, clang errors if it is included.

ok mlarkin@ kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 01:17:53

Modified files:
	sbin/pfctl     : pfctl_osfp.c 

Log message:
print_ioctl() is unused if not debugging. Found with clang, after
marking the function "static". Use OSFP_DEBUG, in a similar
fashion to OPT_DEBUG (pfctl_optimize.c).

OK bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	anton@cvs.openbsd.org	2017/05/28 01:27:01

Modified files:
	bin/ksh        : vi.c 
	regress/bin/ksh/vi: vi.sh 

Log message:
Fix cursor position while removing characters from the command line.

While here, remove a condition that becomes redundant.

ok schwarze@ tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 01:28:58

Modified files:
	security/libtasn1: Makefile distinfo 

Log message:
Update to libtasn1-4.11.


CVSROOT:	/cvs
Module name:	src
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 01:40:12

Modified files:
	usr.sbin/tcpdump: pfctl_osfp.c 

Log message:
Catch up with pfctl/pfctl_osfp.c, no binary change.

OK deraadt@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 01:57:03

Modified files:
	x11/gnome/recipes/patches: patch-src_gr-recipe-formatter_c 

Log message:
committed upstream


CVSROOT:	/cvs
Module name:	src
Changes by:	awolk@cvs.openbsd.org	2017/05/28 02:03:36

Modified files:
	bin/chmod      : Makefile chmod.c chown.8 

Log message:
chown: Remove SUPPORT_DOT ifdef - it's on by default for 22 years

The old syntax was deprecated 25 years ago when the utility was
first standardised in IEEE Std 1003.2-1992 ("POSIX.2"). There was
no POSIX version of chown with the dot separator.

Let's stop pretending that it will ever go away.

OK jung@, deraadt@, jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 02:04:06

Modified files:
	devel/ruby-rspec/3/core: Makefile distinfo 
	devel/ruby-rspec/3/core/pkg: PLIST 
	devel/ruby-rspec/3/expectations: Makefile distinfo 
	devel/ruby-rspec/3/expectations/pkg: PLIST 
	devel/ruby-rspec/3/mocks: Makefile distinfo 
	devel/ruby-rspec/3/rspec: Makefile distinfo 
	devel/ruby-rspec/3/support: Makefile distinfo 
	devel/ruby-rspec/3/support/pkg: PLIST 

Log message:
update to rspec 3.6.0


CVSROOT:	/cvs
Module name:	src
Changes by:	awolk@cvs.openbsd.org	2017/05/28 02:07:33

Modified files:
	etc            : netstart 

Log message:
etc/netstart: use colon separator instead of dot with chown

OK jung@, deraadt@, jmc@


CVSROOT:	/cvs
Module name:	ports
Changes by:	awolk@cvs.openbsd.org	2017/05/28 02:15:35

Modified files:
	net/corebird   : Makefile distinfo 
	net/corebird/pkg: PLIST 

Log message:
Update net/corebird 1.4.2 => 1.5

OK fcambus@

upstream changelog:
---
Changelog:
- Media attached to tweets can be downloaded using Right Click
and selecting "save as"
- Profiles use the profile background color set in the Twitter
settings if no banner is set
- The tweet compose window now features a "favorite image" view that
allows users to save often sent images and quickly add them to tweets
- The media dialog now shows Previous/Next buttons to quickly switch
between multiple media attachments of a tweet>
- The Vine support has been removed since the project is discontinued
- Allow text selection in Direct Messages
- New --account parameter allows opening the window for the given
account only
- Support tweets with up to 50 replied-to users.
- Add back verified icons next to user avatars
- Redesigned account creation UI
- Tons of bug fixes
---


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 02:22:18

Modified files:
	devel/git-lfs  : Makefile distinfo 
	devel/git-lfs/pkg: PLIST 

Log message:
update to git-lfs-2.1.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 02:27:35

Modified files:
	devel/git-cola : Makefile distinfo 
	devel/git-cola/pkg: PLIST 

Log message:
update to git-cola-2.11


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 02:29:33

Modified files:
	devel/pkgconfig: Makefile distinfo 

Log message:
update to pkgconfig-0.29.2


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 02:38:10

Modified files:
	etc/rc.d       : rc.subr 

Log message:
Drop useless lines continuation; no functional change.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 02:47:19

Modified files:
	devel/pcre2    : Makefile distinfo 
	devel/pcre2/pkg: PLIST 

Log message:
update to pcre2-10.23


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 02:47:19

Modified files:
	sys/arch/amd64/amd64: lock_machdep.c 
	sys/arch/i386/i386: lock_machdep.c 

Log message:
Use intr_disable()/intr_restore() to reduce differences with sparc64
mp_lock.

ok kettenis@, visa@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/28 02:51:06

Modified files:
	libexec/getty  : main.c 

Log message:
Do a better job of not printing sequences we cannot reverse in DELETE or
KILL.  Therefore we can do a better job cleaning up.
testing by benno


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/28 02:59:05

Modified files:
	usr.sbin/smtpd : smtpd.conf.5 

Log message:
split the two "listen on" directives into two separate items;
the markup that we were using wouldn;t have worked with groff anyway
but, more worringly, it didn;t work with mandoc either;


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/28 03:00:24

Modified files:
	usr.sbin/smtpd : smtpd.conf.5 

Log message:
mark up "masquerade";


CVSROOT:	/cvs
Module name:	src
Changes by:	rpe@cvs.openbsd.org	2017/05/28 03:24:56

Modified files:
	distrib/miniroot: install.sub 

Log message:
Remove _mode variable and use AI_MODE directly instead. Use the
exit code of ftp consistently to determine success of fetching the
response file.

discussed with and OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 03:25:31

Modified files:
	sysutils/amazon-ssm-agent: Makefile distinfo 
	sysutils/amazon-ssm-agent/patches: 
	                                   patch-agent_appconfig_constants_unix_go 
	                                   patch-agent_fileutil_fileutil_unix_go 
	                                   patch-agent_platform_platform_unix_go 
	                                   patch-agent_ssm_service_go 
	                                   patch-makefile 
	sysutils/amazon-ssm-agent/pkg: PLIST amazon_ssm_agent.rc 
Removed files:
	sysutils/amazon-ssm-agent/patches: 
	                                   patch-agent_managedInstances_sharedCredentials_shared_Credentials_go 

Log message:
Update to amazon-ssm-agent-2.0.790.0.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/28 03:25:51

Modified files:
	sys/netinet    : ip_input.c ip_var.h ipsec_input.c 
	sys/netinet6   : ip6_input.c ip6_var.h 

Log message:
Rename ip_local() to ip_deliver() and give it the same parameters
as the pr_input functions.  Add an assert that IPv4 delivery ends
in IP proto done to assure that IPv4 protocol functions work like
IPv6.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 03:31:45

Modified files:
	etc/rc.d       : rc.subr 

Log message:
When a daemon reaches its timeout when starting, display "timeout" instead
of "ok" so the user is warned and has a chance to fix it (most of the time
due to bogus flags). Daemons reaching the timeout without being able to
start are still marked as "failed" (which should also give a clue to the
user that some investigation is needed).

prodded by beck@ a while ago
discussed with and ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 03:35:14

Modified files:
	sys/net        : if_enc.c 

Log message:
Protect the global array of interfaces with the NET_LOCK().

ok sashan@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 03:35:26

Modified files:
	mail/rspamd    : Makefile distinfo 

Log message:
update to rspamd-1.5.8

ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/28 03:35:56

Modified files:
	usr.sbin/slaacd: engine.c engine.h frontend.c slaacd.c slaacd.h 
	usr.sbin/slaacctl: slaacctl.c 

Log message:
propose and configure default gateway


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 03:38:32

Modified files:
	sys/net        : if_trunk.c 

Log message:
Remove useless splnet()/splx() dances.

Data structures modified in the ioctl path are protected by the NET_LOCK().

ok sashan@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 03:39:26

Modified files:
	graphics/potrace: Makefile distinfo 

Log message:
update to potrace-1.14


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 03:45:25

Modified files:
	lib/librthread : rthread_mutex.c 

Log message:
Use membar_enter_after_atomic() and membar_exit_before_atomic().


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 03:52:22

Modified files:
	math/gunits    : Makefile distinfo 
	math/gunits/pkg: PLIST 

Log message:
update da g-g-g-g-units to 2.14 yo


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/28 03:59:58

Modified files:
	sys/dev/pci    : if_iwm.c if_iwmvar.h 

Log message:
Remove unused flag IWM_FLAG_STOPPED.
ok tedu@ of course


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 04:00:00

Modified files:
	usr.sbin/traceroute: traceroute.c 

Log message:
move as many globals as possible into the main function - thats the
only place where they are used.
Only exception: v6flags - make it an argument to usage()
ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 04:01:52

Modified files:
	usr.sbin/traceroute: traceroute.c traceroute.h worker.c 

Log message:
introduce struct tr_conf to keep all of the configuration.
Functions needing access to any of those vars get it passed as a parameter.
result: even less global vars.
ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 04:04:27

Modified files:
	usr.sbin/traceroute: traceroute.c traceroute.h worker.c 

Log message:
check_tos() gets a parameter so i can remove another global var.
ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 04:06:12

Modified files:
	usr.sbin/tcpdump: pfctl_osfp.c 

Log message:
Reduce differences between the two pfctl_osfp.c files.

Apply three commits from pfctl/pfctl_osfp.c

OK bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 04:06:13

Modified files:
	usr.sbin/traceroute: traceroute.c traceroute.h 

Log message:
style(9) some variable declarations
ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 04:12:42

Modified files:
	etc/rc.d       : rc.subr 

Log message:
Indent and rename var; no functional change.


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 04:37:26

Modified files:
	usr.sbin/httpd : config.c httpd.c httpd.h proc.c 

Log message:
use __func__ in log messages.
From Hiltjo Posthuma hiltjo -AT codemadness -DOT- org, thanks!
ok florian, claudio


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 04:39:15

Modified files:
	usr.sbin/relayd: agentx.c ca.c check_icmp.c check_script.c 
	                 check_tcp.c hce.c pfe.c pfe_filter.c 
	                 pfe_route.c proc.c relay.c relay_http.c 
	                 relay_udp.c relayd.c snmp.c ssl.c 

Log message:
use __func__ in log messages. fix some whitespace while here.
From Hiltjo Posthuma hiltjo -AT codemadness -DOT- org, thanks!
ok florian, claudio


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 04:49:14

Modified files:
	net/py-paho-mqtt: Makefile distinfo 
	net/py-paho-mqtt/pkg: PLIST 

Log message:
update to py-paho-mqtt-1.2.3


CVSROOT:	/cvs
Module name:	src
Changes by:	stsp@cvs.openbsd.org	2017/05/28 05:03:48

Modified files:
	sys/dev/pci    : if_iwm.c 

Log message:
Fix some spurious fatal firmware errors in iwm(4).

If we are not in SCAN state anymore by the time hardware signals completion
of a scan command, exit the scan completion handler immediately instead of
calling ieee80211_end_scan().

Tested by tb@ and myself.
ok mpi@ tb@ zhuk@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/28 05:17:33

Modified files:
	usr.sbin/smtpd : smtpd.conf.5 

Log message:
reinstate the description of "mask-source" to "listen on socket": my changes
two revisions previous inadvertently removed it;

ok gilles


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 05:41:52

Modified files:
	sys/ddb        : db_ctf.c db_elf.c db_elf.h 

Log message:
Merge two functions to lookup ELF sections by name.

ok claudio@, jasper@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 05:49:39

Modified files:
	sysutils/amazon-ssm-agent: Makefile 
	sysutils/amazon-ssm-agent/patches: patch-makefile 

Log message:
Add support for i386.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 05:52:06

Modified files:
	graphics/ffmpeg: Makefile 

Log message:
stupid typo


CVSROOT:	/cvs
Module name:	ports
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 05:53:52

Modified files:
	net/bitlbee    : Makefile 
	net/bitlbee/pkg: PLIST 

Log message:
Add an install-dev step, this is required by bitlbee-facebook.

OK sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 05:59:36

Log message:
    Import net/bitlbee-facebook
    
    The Facebook protocol plugin for bitlbee. This plugin uses the Facebook
    Mobile API.
    
    OK sthen@
    
    Status:
    
    Vendor Tag:	akfaew
    Release Tags:	akfaew_20170528
    
    N ports/net/bitlbee-facebook/distinfo
    N ports/net/bitlbee-facebook/Makefile
    N ports/net/bitlbee-facebook/pkg/PLIST
    N ports/net/bitlbee-facebook/pkg/DESCR
    N ports/net/bitlbee-facebook/pkg/README
    
    No conflicts created by this import

CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/28 05:59:52

Modified files:
	graphics/ffmpeg: Makefile 

Log message:
Bump, to be on a safe side after fixing resulting plist.

okay espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 06:03:02

Modified files:
	net            : Makefile 

Log message:
Add bitlbee-facebook


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/28 06:12:39

Modified files:
	audio/openal   : Makefile 

Log message:
Leaving clang and/or gcc4 in modules could have fun effects after
switching to WANT_CXX. Zap 'em and unbreak openal.

reported by naddy@, okay espie@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 06:13:06

Modified files:
	www/epiphany   : Makefile 

Log message:
unbreak


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/28 06:13:22

Modified files:
	audio/openal   : Makefile 

Log message:
... and bump for safety as well.


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/28 06:21:36

Modified files:
	usr.sbin/bgpd  : bgpd.h control.c rde.c rde.h rde_rib.c 
	                 session.c session.h 

Log message:
Implement an XON/XOFF protocol between the RDE and the SE to throttle
per control session and peer the generation of imsg in the RDE. This
reduces the memory pressure in the SE substantially and also a bit in
the RDE. Makes the RDE more responsive for bgpctl commands.
Tested by me with 100 peers * 2000 prefixes and by phessler@ on an AMS-IX
border router with 200+ session. Convergance time got quite a bit better.
OK phessler@


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/28 06:22:54

Modified files:
	sys/netinet    : ip_input.c 

Log message:
clang warns on unused labels.  Place a recently introduced label under
ifdef IPSEC to fix the clang build when IPSEC is not defined.

ok deraadt@ bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/28 06:37:10

Modified files:
	sysutils/facter: Makefile 

Log message:
We have wrappers for ccache+egcc cases for a while, drop unneded lines.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 06:47:24

Modified files:
	sys/net        : if.c 
	sys/netinet    : ip_carp.c 

Log message:
Leaving IP multicast group requires the NET_LOCK().

Grab the lock before calling carpdetach().

ok bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/28 06:51:34

Modified files:
	sys/net        : if.c if_ethersubr.c if_pppx.c netisr.h pipex.c 
	                 pipex_local.h 

Log message:
Remove all splnet/splx from pipex(4) and pppx(4) and replace some of
them by NET_LOCK/NET_UNLOCK.  Also make the timeout for pipex_timer
run with a thread context and replace pipex softintr by NETISR_PIPEX.

ok mpi


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 06:53:02

Modified files:
	sysutils/gitolite: Makefile 

Log message:
update HOMEPAGE


CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2017/05/28 07:20:37

Modified files:
	sys/arch/i386/conf: Makefile.i386 

Log message:
Build i386 kernels with -ffreestanding, matching amd64 and various
other platforms.

ok visa@ kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 07:23:50

Modified files:
	textproc/py-vobject: Makefile distinfo 
	textproc/py-vobject/pkg: DESCR PLIST 

Log message:
- update to py-vobject-0.9.4.1
- sync DESCR


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 07:48:23

Modified files:
	textproc/py-vobject: Makefile 

Log message:
re-instate PKGNAME that got lost half an hour ago


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 07:52:31

Modified files:
	textproc/py-vobject: Makefile 
	textproc/py-vobject/pkg: PLIST 

Log message:
add python3 flavor


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 07:53:12

Modified files:
	textproc       : Makefile 

Log message:
+py-vobject,python3


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/28 07:59:05

Modified files:
	sys/netinet    : ip_ipip.c 

Log message:
Call bpf_mtap_af() a bit earlier in ipip_input().  This prepares
upcoming diffs, no functional change.
OK mpi@


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 08:16:12

Modified files:
	net/bitlbee-facebook: Makefile 
	net/bitlbee-facebook/pkg: DESCR PLIST 
Removed files:
	net/bitlbee-facebook/pkg: README 

Log message:
Move bitlbee wiki URL from README to DESCR.
@comment libtool la file.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 08:24:19

Modified files:
	sys/ddb        : db_ctf.c 
	sys/arch/amd64/amd64: db_trace.c 
	sys/arch/i386/i386: db_trace.c 

Log message:
If a function is not found in the CTF data, do not assume it takes no
argument.


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 08:26:38

Modified files:
	sys/net        : if_trunk.c 

Log message:
trunk_port_destroy() needs the NET_LOCK().

It brings the interface down and restore the original lladdr.

Found by Hrvoje Popovski


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/28 08:37:48

Modified files:
	sbin/dhclient  : dispatch.c 

Log message:
Elegant and reliable link status checking courtesy of mpi@.

Less of unreliable ioctl(SIOCGIFMEDIA), more getifaddrs().

ok mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/28 08:54:00

Modified files:
	sys/net        : pf.c 

Log message:
Pf was handling IPv4 and IPv6 differently regarding AH extension
headers.  pf_walk_header6() steps over it and detects the real
protocol.  So to implement a minimal header walking function
pf_walk_header() for IPv4.  It does the header checks and jumps
over AH.  Then pf does not understand AH as a protocol, it is just
an extension that authenticates the packet.  Move some header and
option checks to pf_walk_header() for consistency with IPv6.  This
also improves the header check for IPv4 packets in ICMP payload.
OK henning@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/28 09:03:53

Modified files:
	sys/net        : if_trunk.c 

Log message:
Add missing NET_UNLOCK() in error path.

Spotted by sashan@


CVSROOT:	/cvs
Module name:	src
Changes by:	akfaew@cvs.openbsd.org	2017/05/28 09:15:21

Modified files:
	sbin/pfctl     : parse.y 

Log message:
Don't check np->port for NULL - it's an array, it's never NULL.

OK bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/28 09:16:08

Modified files:
	sys/arch/mips64/mips64: ipifuncs.c 

Log message:
mips64_multicast_ipi() excludes current CPU.
The caller does not have to do that.


CVSROOT:	/cvs
Module name:	src
Changes by:	henning@cvs.openbsd.org	2017/05/28 09:16:33

Modified files:
	usr.sbin/bgpd  : bgpd.c bgpd.h config.c kroute.c parse.y 

Log message:
so far, bgpd was hardcoded to use rtable 0 for nexthop verification.
instead, use the rtable bgpd was started in (route -T <n> exec / rc.d
daemon_rtable) for nexthop verification and as default Adj-RIB-In and
Loc-RIB. This allows multiple bgpds in different rdomains on the same
machine - bgp router virtualization if you like buzzwords.
initial version written under contract more than a year ago, it took us
a while to wrap our brains around the bgpd <-> rdomain interactions -
1) RIBs, 2) nexthop verification and 3) tcp sockets.
ok & input phessler claudio benno


CVSROOT:	/cvs
Module name:	src
Changes by:	henning@cvs.openbsd.org	2017/05/28 09:16:52

Modified files:
	usr.sbin/bgpd  : bgpd.conf.5 

Log message:
we're not hardcoded to table 0 any more


CVSROOT:	/cvs
Module name:	src
Changes by:	anton@cvs.openbsd.org	2017/05/28 09:36:45

Modified files:
	sys/dev/acpi   : dsdt.c 

Log message:
Remove a redundant assignment introduced in revision 1.219 but favor the
assignment outside of the conditional.

ok stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/28 09:46:06

Modified files:
	sys/arch/mips64/mips64: ipifuncs.c 

Log message:
Use fast path if remote call is not needed.

Note that rendezvous calls are no longer necessarily
serialized systemwide.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 09:46:12

Modified files:
	mail/cyrus-imapd: Makefile distinfo 
	mail/cyrus-imapd/files: imapd.conf 
	mail/cyrus-imapd/patches: patch-Makefile_in patch-configure 
	                          patch-imap_mbexamine_c 
	                          patch-imap_tls_c 
	mail/cyrus-imapd/pkg: DESCR PLIST cyrus_imapd.rc 
Added files:
	mail/cyrus-imapd/patches: 
	                          patch-doc_examples_cyrus_conf_normal_conf 
	                          patch-doc_legacy_install-upgrade_html 
	                          patch-imap_fud_c patch-lib_imapoptions 
	                          patch-man_imapd_conf_5 
	                          patch-tools_masssievec 
	                          patch-tools_rehash 
	                          patch-tools_translatesieve 
	                          patch-tools_upgradesieve 
Removed files:
	mail/cyrus-imapd/patches: patch-lib_util_h 
	                          patch-master_conf_normal_conf 

Log message:
Major update to cyrus-imapd-3.0.1.
- cleanup and fix some ports specific stuff while here

Refer to upstream for changes and upgrade notes.
Note that altnamespace and unixhierarchysep are now on by default on, to match
the behaviour of most other IMAP servers in the world.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 09:48:36

Modified files:
	mail/cyrus-imapd: Makefile 

Log message:
Indent.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/28 09:48:49

Modified files:
	usr.sbin/ldapd : syntax.c 

Log message:
Fix checks for seconds and timezones in generalized times.
Fixing the CHECK_RANGE macro in r1.4 revealed that the seconds check
accidentally relied on the macro being broken.  While looking into this I
noticed that the timezone check was also wrong, treating the timezone as
optional for generalized times.

investigation and diff mostly by Seiya Kawashima.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rsadowski@cvs.openbsd.org	2017/05/28 09:54:08

Modified files:
	graphics/digikam-kde4: Makefile 
	x11/kde-applications/libkface: Makefile 

Log message:
zap opencv XXX tag

After the last opencv update the XXX tag is not more necessary.

ok jca@, "go for it" zhuk@


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/28 09:58:02

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
No need to constantly re-add the default route. It will not expire
like the prefixes.  We might want to check if someone deleted the
route by hand though.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 10:18:23

Modified files:
	x11/gnome/recipes: Makefile 

Log message:
unbreak for gcc4/clang, even if we change it later


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 10:20:08

Modified files:
	editors/calligra: Makefile 

Log message:
fix for clang, short circuit bogus libpqxx header auto-detection


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 10:23:28

Modified files:
	lang/scheme48  : Makefile distinfo 
	lang/scheme48/patches: patch-Makefile_in 

Log message:
update to newer version, bug-fixes clang, actually.

okay maintainer


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/28 10:36:53

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
get a new privacy address before the old one expires


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/28 10:43:45

Modified files:
	sys/net        : pf.c pfvar.h 

Log message:
Fix bad white spaces, wrap long lines, kill some empty lines.


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/28 10:52:27

Modified files:
	usr.sbin/bgpd  : bgpd.conf.5 

Log message:
tweak previous;


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/28 10:55:54

Modified files:
	sys/net        : pf.c 

Log message:
Limit the nested header chain for IPv6 extensions headers and for
authentication headers in the IPv4 case.  This prevents spending
excessive cpu time on crafted packets.
OK henning@


CVSROOT:	/cvs
Module name:	src
Changes by:	joris@cvs.openbsd.org	2017/05/28 10:57:01

Modified files:
	usr.bin/cvs    : logmsg.c 

Log message:
Bring the opencvs log message template inline with other cvs implementations.

ok stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	joris@cvs.openbsd.org	2017/05/28 10:58:54

Modified files:
	usr.bin/cvs    : status.c 

Log message:
Teach opencvs status to display the sticky tag according to what it really
represents if it is a branch or a revision.

ok stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	joris@cvs.openbsd.org	2017/05/28 11:01:10

Modified files:
	usr.bin/cvs    : commit.c 

Log message:
Don't allow opencvs to commit towards tags that are not branches.

Gets rid of the old logic that wasn't working and replaced it with
a simplified version.

ok stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	joris@cvs.openbsd.org	2017/05/28 11:11:34

Modified files:
	usr.bin/cvs    : cvs.h file.c import.c 

Log message:
Let opencvs show ignored files on import, not showing them is just confusing.

ok stsp@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/28 11:12:48

Modified files:
	sys/arch/mips64/mips64: ipifuncs.c 

Log message:
Do not allow NULL callback at rendezvous and clear callback
pointer at the end to catch errors faster.


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/28 11:20:11

Modified files:
	x11/gnome/recipes: Makefile 

Log message:
switch to clang by default; tested with base and ports clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	rpointel@cvs.openbsd.org	2017/05/28 12:16:24

Modified files:
	devel/apktool  : Makefile distinfo 

Log message:
update apktool to 2.2.2.
ok benoit@.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 12:31:35

Modified files:
	share/misc     : inter.phone 

Log message:
convert to UTF-8


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 12:35:58

Modified files:
	share/misc     : airport 

Log message:
add HWD - Hayward Executive Airport. After extensive discussion, the
decision was made that a missed approach at the DH counts as "being at
the airport"

ok phessler, deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/28 12:42:00

Modified files:
	sys/net        : pipex.c 

Log message:
Use interface index instead of ifnet pointer.


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/28 12:43:51

Modified files:
	sys/net        : if_pppx.c pipex_local.h 

Log message:
Use interface index and if_{put,get} instead of ifnet pointer.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 12:49:43

Modified files:
	audio/cantata  : Makefile 
	devel/spidermonkey38: Makefile 
	devel/vte3     : Makefile 
	games/dhewm3   : Makefile 
	games/extremetuxracer: Makefile 
	graphics/cfdg  : Makefile 

Log message:
c c++ is default for WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 12:51:27

Modified files:
	etc/rc.d       : rc.subr 

Log message:
Move check later to mitigate a possible race.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 12:55:04

Modified files:
	graphics/maim  : Makefile 
	graphics/nomacs: Makefile 
	graphics/pdf2djvu: Makefile 
	graphics/slop  : Makefile 
	graphics/vigra : Makefile 

Log message:
more WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/28 12:55:25

Modified files:
	sys/net        : pipex.c 

Log message:
Check also whether the interfaces is matched when pipex check PPPoE
packets.  This fixes the problem when pipex connects with pppoe(4)
through pair(4).


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 12:56:30

Modified files:
	textproc/the_silver_searcher: Makefile 

Log message:
WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 12:57:40

Modified files:
	share/misc     : airport 

Log message:
The High Council of Deciders has determined that railway stations, even
those with IATA codes, are not airports and therefore do not qualify for
inclusion in this file.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 12:58:11

Modified files:
	x11/gnome/builder: Makefile 
	x11/gnome/documents: Makefile 
	x11/gnome/gjs  : Makefile 

Log message:
a bit more WANT_CXX tidy


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/28 13:00:52

Modified files:
	usr.bin/tmux   : cmd-refresh-client.c 

Log message:
Also recalculate session sizes when refreh-client -C is used. GitHub
issue 947.


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/28 13:13:13

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
pasto, typos, spelling; ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 13:15:18

Modified files:
	share/misc     : airport 

Log message:
typo


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 13:26:33

Added files:
	share/man/man7 : airport.7 

Log message:
document /usr/share/misc/airport contents and rules, after lengthy
hackroom discussion about train stations.
ok mlarkin, feedback deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/28 13:29:27

Modified files:
	graphics/hugin : Makefile 
	graphics/enblend-enfuse: Makefile 

Log message:
more WANT_CXX


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 13:42:26

Modified files:
	share/misc     : Makefile 
Removed files:
	share/misc     : operator 

Log message:
please read operator(7) for this information.


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/28 13:44:52

Modified files:
	share/man/man7 : Makefile 

Log message:
install new manpage, noted by tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/28 13:46:55

Modified files:
	usr.bin/tmux   : cmd-new-session.c 

Log message:
Change so that sessions created detached (-d or no client) are always
80x24 and the status line is not applied until they attach. Also make -x
and -y work for control clients whether the session is detached or not.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/28 13:57:38

Modified files:
	usr.sbin/slaacd: engine.c engine.h slaacd.c 

Log message:
set autoconfprivacy flag; prodding naddy


CVSROOT:	/cvs
Module name:	ports
Changes by:	gonzalo@cvs.openbsd.org	2017/05/28 14:03:16

Modified files:
	www/nextcloud  : Makefile distinfo 
	www/nextcloud/patches: 
	                       patch-apps_updatenotification_appinfo_info_xml 
	                       patch-version_php 
	www/nextcloud/pkg: PLIST 

Log message:
Upgrade for Nextcloud to 12.0.0:

https://nextcloud.com/changelog/

OK kirby@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/28 14:10:59

Modified files:
	usr.sbin/bgpd  : rde.c session.c 

Log message:
Close imsg pipes later in the process. The shutdown code still tires to
send imsgs and so the SE and RDE crashed because of this late in shutdown.
OK benno@ phessler@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/28 14:12:51

Modified files:
	security/clamav: Makefile 
	security/clamav/pkg: clamd.rc 

Log message:
set daemon_timeout for clamd; startup can be rather slow if you have large
rulesets (for example the sanesecurity anti-spam/malware rules often used
on mail servers)


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/28 14:14:15

Modified files:
	usr.sbin/bgpd  : bgpd.h logmsg.c 

Log message:
Introduce log_peer_info() and make log_peer_warn() log at LOG_ERR instead
of LOG_CRIT (which should only be used for fatal).
OK benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/28 14:15:02

Modified files:
	usr.sbin/bgpd  : rde.c 

Log message:
Print when we send or recv an EOR marker.
Req by and OK benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 14:20:00

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
typo in comment


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 14:34:33

Modified files:
	games/robots   : score.c 

Log message:
high scores printed too far to the right, move it left a little


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/28 14:40:13

Modified files:
	usr.sbin/slaacd: engine.c slaacd.c 

Log message:
removed if 0'ed code; it gets in the way of grepping for things


CVSROOT:	/cvs
Module name:	src
Changes by:	yasuoka@cvs.openbsd.org	2017/05/28 14:48:29

Modified files:
	sys/net        : pipex.c 

Log message:
Process packets immediately without queuing since pipex is believed MP safe
already, for PPPoE case as first step.

ok mpi


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 15:01:13

Modified files:
	games/robots   : main.c 

Log message:
if your dying scream would escape the death field, realign to stay within


CVSROOT:	/cvs
Module name:	src
Changes by:	naddy@cvs.openbsd.org	2017/05/28 15:05:54

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
only mark privacy addresses as such instead of all configured addresses
ok florian@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 15:09:24

Modified files:
	games/robots   : robots.6 

Log message:
there are no bugs; i fixed them


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 15:13:39

Modified files:
	games/robots   : rnd_pos.c 

Log message:
remove unused macro


CVSROOT:	/cvs
Module name:	src
Changes by:	zhuk@cvs.openbsd.org	2017/05/28 15:18:21

Modified files:
	share/misc     : airport 

Log message:
Add ZIA, even given that I didn't visit it after it actually became ZIA
instead of Ramenskoe Airfield.

approved by deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/28 15:21:00

Modified files:
	share/misc     : airport 

Log message:
Add BND, I've been there many times.


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/28 15:23:47

Modified files:
	regress/sys/netinet/ipsec: Makefile 

Log message:
Now that pf looks behind IPv4 authentication headers, disable the
transport mode tests that fail because of floating states.  At least
IPv4 and IPv6 are in sync now.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 15:57:19

Modified files:
	sys/net        : pipex_local.h 

Log message:
fix broken include on previous pipex commit

ok deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 15:59:56

Modified files:
	usr.bin/signify: Makefile 
	distrib/special/signify: Makefile 
Removed files:
	usr.bin/signify: smult_curve25519_ref.c 

Log message:
when copying curvy files from ssh, an extra one snuck in.
signify doesn't do any kex stuff and doesn't need scalarmult.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/28 16:27:10

Modified files:
	games/robots   : robots.6 

Log message:
remove some escapes that are unnecessary/harmful. ok jmc schwarze


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/28 17:23:40

Modified files:
	usr.bin/tmux   : input.c 

Log message:
Support OSC 10 and 11 to set foreground and background colours, from
"bertnp" in GitHub issue 942.


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 17:50:20

Modified files:
	sys/arch/amd64/include: vmmvar.h 

Log message:
rename some fields


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 17:56:13

Modified files:
	usr.sbin/vmd   : vm.c 

Log message:
SVM: add some exit types

Also, fix a comment that wasn't applicable anymore, and change a format
from decimal to hex


CVSROOT:	/cvs
Module name:	src
Changes by:	henning@cvs.openbsd.org	2017/05/28 18:05:28

Modified files:
	share/misc     : airport 

Log message:
mlarkin and airport.7 say "must have been there", not "flown there".
Add XFW, Hamburg-Finkenwerder (the Airbus factory)
ok mlarkin fcambus


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/28 18:41:11

ports/devel/cpp-hocon/patches

Update of /cvs/ports/devel/cpp-hocon/patches
In directory cvs.openbsd.org:/tmp/cvs-serv26582/devel/cpp-hocon/patches

Log Message:
Directory /cvs/ports/devel/cpp-hocon/patches added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/28 22:40:35

Modified files:
	libexec/getty  : main.c 

Log message:
do not need dev[] wasting bss space


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/28 23:59:45

Modified files:
	sys/arch/amd64/amd64: vmm.c 

Log message:
vmm(4): Enable support for AMD-V (SVM) CPUs.

Tested on the following CPUs:

AMD C-60 APU
AMD GX-412TC SOC (PCEngines APU2C4)
AMD Opteron(tm) Processor 6128

... and various others via bochs/simulators, on a variety of different
guest VM types. Also verified no regressions on my x230 Intel machine
since this diff slightly changes CPUID behaviour WRT cache information.

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 00:06:52

Modified files:
	sys/arch/m88k/m88k: subr.S 

Log message:
copyin32 implementation from miod@

ok kettenis@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 00:08:21

Modified files:
	sys/net        : if.c 

Log message:
Do not try to grab the NET_LOCK() while holding an ifp reference.

Fix a deadlock with a thread trying to detach the corresponding interface.

ok sashan@, bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 00:14:10

Modified files:
	sys/ddb        : db_ctf.c db_extern.h db_sym.h 
	sys/arch/amd64/amd64: db_trace.c 
	sys/arch/i386/i386: db_trace.c 

Log message:
Pass the symbol instead of its name when looking for CTF infos.

ok jasper@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 00:44:54

Modified files:
	sys/net        : if_vlan.c 

Log message:
Pass SIOCGIFMEDIA to vlan's parent interface.

ok krw@, dlg@


CVSROOT:	/cvs
Module name:	src
Changes by:	mlarkin@cvs.openbsd.org	2017/05/29 01:15:23

Modified files:
	usr.sbin/vmd   : vmd.c 

Log message:
vmd(8): prevent crashing when presented with a vm name argument to
"vmctl stop" that doesn't exist.

Diff from Pratik Vyas, thanks!


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 01:46:32

Modified files:
	usr.bin/tmux   : tmux.1 

Log message:
Tweak text to mention initial size, from John Hood.


CVSROOT:	/cvs
Module name:	src
Changes by:	krw@cvs.openbsd.org	2017/05/29 01:47:13

Modified files:
	sys/scsi       : cd.c scsi_base.c scsiconf.h sd.c st.c 

Log message:
To prevent anyone else from stumbling on this (now) archaic bit of
history, nuke all mentions of XS_NO_CCB and the #define.

2006 - 2017. R.I.P.

ok kettenis@ inferred ok dlg@


CVSROOT:	/cvs
Module name:	src
Changes by:	phessler@cvs.openbsd.org	2017/05/29 01:49:27

Modified files:
	usr.sbin/bgpd  : parse.y 

Log message:
remove the file permission check for bgpd.conf

OK deraadt@, henning@, sthen@, and everyone who has ever been annoyed


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 01:54:46

Modified files:
	usr.sbin/slaacd: engine.c frontend.c 

Log message:
only send router solicitation on RTM_NEWADDR if the l2 address changed


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 01:58:33

Modified files:
	usr.bin/tmux   : window-copy.c 

Log message:
Do not factor in screen_hsize() for the visible copy mode screen when
adjusting the selection, it should never have any useful history (and
when it does, after resize, we shouldn't use it). From Michal Mazurek.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 02:15:39

Modified files:
	usr.sbin/slaacd: engine.c 

Log message:
Compare the l2 address from which the slaac address was formed with
the current interface l2 address. Only update the address lifetime if
they are the same. This way we get a new address on ifconfig lladdr
random.


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/29 02:28:02

Modified files:
	x11/polkit-qt  : Makefile 

Log message:
somehow, my previous builds if polkit-qt,qt5 always managed to find a
libestdc++ on the machine.  I guess that I've now removed enough gcc
that this becomes obviously wrong. fix for clang.


CVSROOT:	/cvs
Module name:	ports
Changes by:	benoit@cvs.openbsd.org	2017/05/29 02:35:08

Modified files:
	www/p5-HTML-Tidy: Makefile distinfo 

Log message:
Update to p5-HTML-Tidy-1.58.


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 02:59:42

Modified files:
	usr.sbin/slaacd: engine.c frontend.c slaacd.c 

Log message:
clang points out that the first argument to setproctitle is a format
string. Not really an issue since we are eventually passing in a
string literal...
While here don't set the proctitle for the main process to play nicer
with rc.d(8)


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/29 03:37:33

Modified files:
	distrib/sets/lists/base: mi 
	distrib/sets/lists/man: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/29 03:40:02

Modified files:
	lib/libc/compat-43: sigblock.3 sigsetmask.3 sigvec.3 
	lib/libc/gen   : Makefile.inc posix_spawnattr_getpgroup.3 
	lib/libc/sys   : sigaction.2 sigpending.2 sigprocmask.2 
	                 sigsuspend.2 
	lib/libpthread/man: pthread_sigmask.3 
Added files:
	lib/libc/gen   : sigaddset.3 
Removed files:
	lib/libc/gen   : sigsetops.3 

Log message:
It is distasteful to have manual pages which don't refer to real
function calls, but instead a "class" of functions like "sigsetops".
Rename to sigaddset", and while at it improve documentation in sigprocmask(2)
to point to it.
ok tedu


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/29 03:40:14

Modified files:
	distrib/sets/lists/comp: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/29 03:44:01

Modified files:
	etc            : rc 
	lib/libcrypto  : Makefile 

Log message:
Randomize link-order of libcrypto as we do with libc.  This library
has many small functions without significant local storage, therefore
less tail protection from -fstack-protector-strong to prevent their use
as ROP gadgets.  It is used in security contexts.  Also many functions
dribble pointers onto the stack, allowing discovery of gadgets via the
fixed relative addresses, so let's randomly bias those.
ok tedu jsing

The rc script will soon need a strategy for skipping this step on
machines with poor IO performance.  Or maybe do it less often?  However,
I don't see many more libraries we'll do this with, these are the two
most important ones.


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/29 03:56:33

Modified files:
	usr.sbin/bgpctl: bgpctl.8 bgpctl.c 
	usr.sbin/bgpd  : bgpd.conf.5 config.c 

Log message:
change bgpd's control socket from /var/run/bgpd.sock to
/var/run/bgpd.sock.<rdomain> in both bgpd and bgpctl. makes life
easier for admins.
ok phessler, claudio, henning, feedback from Job Snijders


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 04:24:06

Modified files:
	etc            : Makefile rc rc.conf 
Added files:
	etc/rc.d       : slaacd 

Log message:
rc.d(8) for slaacd
OK phessler, deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/29 04:55:34

Modified files:
	sys/conf       : files 
	sys/net        : pfkeyv2.c pfkeyv2.h 
Removed files:
	sys/net        : pfkey.c 

Log message:
PFKEY version 2 is the only pfkey version supported. No need for extra
abstraction. First step of making PF_KEY a bit more like PF_ROUTE.
OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 04:56:46

src/regress/sys/fileops

Update of /cvs/src/regress/sys/fileops
In directory cvs.openbsd.org:/tmp/cvs-serv49186/regress/sys/fileops

Log Message:
Directory /cvs/src/regress/sys/fileops added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 04:57:08

src/regress/sys/fileops/ffs

Update of /cvs/src/regress/sys/fileops/ffs
In directory cvs.openbsd.org:/tmp/cvs-serv44546/regress/sys/fileops/ffs

Log Message:
Directory /cvs/src/regress/sys/fileops/ffs added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 04:57:09

src/regress/sys/fileops/msdos16

Update of /cvs/src/regress/sys/fileops/msdos16
In directory cvs.openbsd.org:/tmp/cvs-serv44546/regress/sys/fileops/msdos16

Log Message:
Directory /cvs/src/regress/sys/fileops/msdos16 added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 04:57:09

src/regress/sys/fileops/msdos32

Update of /cvs/src/regress/sys/fileops/msdos32
In directory cvs.openbsd.org:/tmp/cvs-serv44546/regress/sys/fileops/msdos32

Log Message:
Directory /cvs/src/regress/sys/fileops/msdos32 added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 05:00:04

Modified files:
	regress/sys    : Makefile 

Log message:
Regress test for sparse files & mmap with different FSs

This test creates a file with a hole in the middle and then checks that
when reading or mmaping the whole file, the data is correct.

This catches the bug introduced by the
"Implement VFS read clustering for MSDOSFS" commit that hat to be
reverted.

For now, we run the test with FAT16, FAT32, FFS

With much advice from bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 05:01:16

Added files:
	regress/sys/fileops: Makefile Makefile.inc fileops.c 
	regress/sys/fileops/ffs: Makefile 
	regress/sys/fileops/msdos16: Makefile 
	regress/sys/fileops/msdos32: Makefile 

Log message:
Regress test for sparse files & mmap with different FSs

This test creates a file with a hole in the middle and then checks that
when reading or mmaping the whole file, the data is correct.

This catches the bug introduced by the
"Implement VFS read clustering for MSDOSFS" commit that hat to be
reverted.

For now, we run the test with FAT16, FAT32, FFS

With much advice from bluhm@


CVSROOT:	/cvs
Module name:	ports
Changes by:	anton@cvs.openbsd.org	2017/05/29 05:03:50

Modified files:
	textproc/lowdown: Makefile distinfo 

Log message:
Update to lowdown-0.1.11.

While here, update my own email.

ok fcambus@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/29 05:10:29

Modified files:
	lib/libc/compat-43: sigblock.3 sigsetmask.3 sigvec.3 

Log message:
sort SEE ALSO;


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/29 05:13:09

Modified files:
	lib/libc/sys   : sigaction.2 

Log message:
sort SEE ALSO;


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/29 05:46:49

Modified files:
	sys/arch/mips64/mips64: mips64_machdep.c 

Log message:
Invalidate OCTEON icache after TLB ASID wraparound, otherwise userspace
might execute stale instructions. The cache is virtually tagged and does
not seem to pick up TLB alterations automatically.


CVSROOT:	/cvs
Module name:	ports
Changes by:	ajacoutot@cvs.openbsd.org	2017/05/29 05:56:33

Added files:
	mail/cyrus-imapd/patches: patch-imap_sync_support_c 

Log message:
Unbreak if libical is found at configure time since we're not bulding
http support.
breakage reported by naddy@


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 05:59:32

Modified files:
	regress/sys    : Makefile 

Log message:
Re-add line continuation \ that went missing in the previous commit


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 06:10:51

Removed files:
	sys/sys        : scanio.h 

Log message:
scanner support died some time ago, the header can be removed too.
a gift from miod


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/29 06:11:07

Modified files:
	net/bitlbee    : Makefile 
	net/bitlbee/pkg: PLIST README 
Added files:
	net/bitlbee/pkg: bitlbee.rc 

Log message:
add an rc script for bitlbee, ok Tom Doherty (maintainer), ajacoutot@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 06:12:35

Modified files:
	sys/sys        : systm.h 

Log message:
clang has builtin_memmove. ok deraadt


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/29 06:13:05

Modified files:
	games/residualvm: Makefile 

Log message:
Switch to a newer compiler (via WANT_CXX), GCC 4.2.1 miscompiles on some arch.
From Donovan Watteau, looks good to juanfra@


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/29 06:13:43

Modified files:
	games/scummvm  : Makefile 
Added files:
	games/scummvm/patches: patch-engines_mads_palette_cpp 

Log message:
Switch to a newer compiler (via WANT_CXX), GCC 4.2.1 miscompiles on some arch.
Add upstream patch to fix off-by-ones. From Donovan Watteau, looks good to
juanfra@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 06:13:50

Modified files:
	share/man/man7 : Makefile hostname.7 intro.7 
Removed files:
	share/man/man7 : mailaddr.7 

Log message:
remove mailaddr.7 and its many lies.
ok gilles jmc mpi


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 06:15:39

Modified files:
	usr.bin/mail   : mail.1 

Log message:
remove mention of Berknet and mailaddr.7


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 06:16:50

Modified files:
	usr.sbin/smtpd : aliases.5 

Log message:
rm xr mailaddr.7


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/05/29 06:28:54

Modified files:
	usr.sbin/pkg_add/OpenBSD: FwUpdate.pm PackageLocator.pm 
	                          PackageRepositoryList.pm State.pm 

Log message:
Refactor locator code so it's a proper object.
allow  fw_update to short-circuit entirely, thus the specific
treatment of paths is actually less of a special case,
and the code that reaches into /etc/installurl is no longer used
at all in that case.

problem noticed by mlarkin@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/29 06:41:57

Modified files:
	usr.sbin/bgpctl: bgpctl.8 

Log message:
avoid Xr to self;


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/29 06:48:11

Modified files:
	usr.sbin/bgpd  : rde.c 

Log message:
Fix crash in IMSG_CTL_SHOW_RIB_PREFIX handling. The ctx is not added to
the list in that case so don't try to LIST_REMOVE it.
Problem found by benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/29 06:50:33

Modified files:
	usr.bin/mail   : mail.1 

Log message:
tweak previous to read a little better;


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 06:51:56

Modified files:
	usr.sbin       : Makefile 

Log message:
hook up slaacd and slaacctl.
OK naddy, deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	espie@cvs.openbsd.org	2017/05/29 06:54:05

Modified files:
	usr.sbin/pkg_add/OpenBSD: PackageRepository.pm 

Log message:
do not whine if installpath is undef.


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/29 06:56:26

Modified files:
	usr.sbin/snmpd : proc.c 
	usr.sbin/switchd: proc.c 
	usr.sbin/vmd   : proc.c 

Log message:
sync proc.c changes from relayd/httpd


CVSROOT:	/cvs
Module name:	src
Changes by:	jmatthew@cvs.openbsd.org	2017/05/29 06:58:37

Modified files:
	sys/conf       : files 
	sys/arch/amd64/amd64: hibernate_machdep.c 
	sys/dev/ic     : nvmevar.h nvme.c 

Log message:
Add hibernate support for nvme(4).  This creates a separate IO queue that is
only active during hibernation, preallocating the the submission and completion
queues during attach as they need to be page-aligned.

tested on an x270 that successfully hibernates now.
ok dlg@


CVSROOT:	/cvs
Module name:	src
Changes by:	tb@cvs.openbsd.org	2017/05/29 07:09:17

Modified files:
	bin/ksh        : alloc.c history.c 

Log message:
Change the mmap(2)-based binary history file with lots of magic and a
tendency for corruption to a simpler plaintext version.

To convert your current ksh history to plaintext, issue

fc -ln 1 | sed 's/^	//' > ~/ksh_hist.txt

before upgrading and use ksh_hist.txt as HISTFILE after the upgrade.

Original patch by marco in 2011. Ported to current during g2k16 by me.
Testing, bugfixes and improvements in joint work with natano.

Additional testing by anton and mestre. Includes some tweaks by anton.
Committing now to shake out remaining bugs before 6.2 is cut.

ok deraadt, mestre, anton, sthen


CVSROOT:	/cvs
Module name:	www
Changes by:	tb@cvs.openbsd.org	2017/05/29 07:10:02

Modified files:
	faq            : current.html 

Log message:
add instructions for migrating to the plaintext ksh history file


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/29 07:10:40

Modified files:
	usr.sbin/bgpd  : rde.c 

Log message:
After some consideration, revert last commit and don't abuse rde_dump_done.
IMSG_CTL_SHOW_RIB_PREFIX case is not using rib_dump_r and so should not use
rde_dump_done, instead send the IMSG_CTL_END msg and free the ctx directly.
This is easier to understand.


CVSROOT:	/cvs
Module name:	ports
Changes by:	zhuk@cvs.openbsd.org	2017/05/29 07:28:59

Modified files:
	lang/mono      : Makefile 

Log message:
Mono clearly violates W^X, so mark it as such.

Allows it to be built on amd64 at least.


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 07:30:35

Modified files:
	usr.bin/kdump  : Makefile mkioctls 

Log message:
zap scanio.h, found by deraadt


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 07:48:12

Modified files:
	sys/msdosfs    : denode.h msdosfs_vnops.c 

Log message:
Implement VFS read clustering for MSDOSFS

This is the reverted commit by mpi@ from msdosfs_vnops.c 1.105 plus some
additional tweaks to fix some cluster/block number confusion that lead
to regressions when seeking past the end of a file.

The original commit message was:

The logic used in msdosfs_bmap() to loop calling pcbmap() comes from
FreeBSD and is not really efficient but it is good enough since it is
only called when generating I/O.

With this diff I get a 100% improvement when reading big files from a
crappy USB stick.

With this and bread_cluster(9) modified to not re-fetch B_CACHED buffers,
reading large contiguous files with chunk sizes of MAXPHYS is almost as
fast as physio(9) on the same device.

For a 'real world' example, when copying music files from a USB stick I
see a speed jump from 15MB/s on -current to 24Mb/s with this diff.

While here rename some 'lbn' variables into 'cn' to better reflect what
we're dealing with.

Tested by Mathieu, with support from deraadt@

ok mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/29 07:49:40

Modified files:
	regress/sys/fileops: Makefile.inc fileops.c 

Log message:
Minor regress test cleanup.
OK sf@


CVSROOT:	/cvs
Module name:	src
Changes by:	visa@cvs.openbsd.org	2017/05/29 08:03:46

Modified files:
	sys/arch/mips64/mips64: pmap.c 

Log message:
Reduce code duplication. The local-CPU-only case is now handled
without a lock in smp_rendezvous_cpus().


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 08:05:31

Modified files:
	sys/dev/ata    : wd.c 
	sys/scsi       : sd.c 
	sys/sys        : dkio.h 

Log message:
Add an ioctl to tell storage devices to flush their internal caches

Currently implemented for wd and sd.
Initially ported from netbsd by pedro@

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 08:07:16

Modified files:
	sys/msdosfs    : msdosfs_vfsops.c 
	sys/ufs/ffs    : ffs_vfsops.c 

Log message:
msdosfs & ffs: flush cache if updating mount from r/w to r/o

ok deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	sf@cvs.openbsd.org	2017/05/29 08:08:49

Modified files:
	sys/scsi       : sd.c 

Log message:
sd: flush cache when closing writable FD

Don't skip the cache flush until the last opening of the device is
closed. Otherwise, when umounting a writable partition while a different
partition is still mounted read-only, the necessary disk flush may be
delayed for a very long time.

ok krw@ deraadt@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 08:18:32

Modified files:
	sys/net        : pf.c 

Log message:
export_pflow() is no longer grabbing the NET_LOCK(), so no need to
release it beforehand.

ok henning@, benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 08:19:50

Modified files:
	sys/arch/alpha/alpha: lock_machdep.c machdep.c mutex.c 
	sys/arch/alpha/include: cpu.h lock.h 
	sys/arch/amd64/amd64: fpu.c lapic.c lock_machdep.c pmap.c 
	sys/arch/amd64/include: lock.h 
	sys/arch/hppa/hppa: lock_machdep.c 
	sys/arch/i386/i386: lock_machdep.c pmap.c 
	sys/arch/i386/include: lock.h 
	sys/arch/i386/isa: npx.c 
	sys/arch/luna88k/luna88k: machdep.c 
	sys/arch/m88k/m88k: m8820x_machdep.c m88k_machdep.c mplock.c 
	sys/arch/mips64/mips64: lock_machdep.c 
	sys/arch/powerpc/include: lock.h 
	sys/arch/powerpc/powerpc: lock_machdep.c mutex.c 
	sys/arch/sparc64/include: cpu.h lock.h 
	sys/arch/sparc64/sparc64: lock_machdep.c 

Log message:
Kill SPINLOCK_SPIN_HOOK, use CPU_BUSY_CYCLE() instead.

ok visa@, kettenis@


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/29 08:21:10

Modified files:
	lang/libv8     : Makefile 

Log message:
allow libv8 to build with clang.
problem found by zhuk@ in mono.

still warns a heck of a lot, to be revisited later


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/29 08:22:51

Modified files:
	usr.sbin/bgpd  : session.c 

Log message:
fix "depend on" when carp interface goes from MASTER into state INIT
aka UNKNOWN.
ok claudio@ phessler@ and henning helped along too


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/29 08:28:01

Modified files:
	sys/net        : pfkeyv2.c pfkeyv2.h 

Log message:
Kill struct pfkey_version and move struct pfkeyv2_socket & dump_state
to pfkeyv2.c. These structs are nowhere else needed.
OK gcc


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 08:36:22

Modified files:
	sys/netinet    : in.c in_var.h ip_input.c ip_output.c 
	sys/netinet6   : ip6_input.c 

Log message:
Per-interface list of addresses, both multicast and unicast, are
currently protected by the NET_LOCK().

They are not accessed in the hot path, so protecting them with a
mutex could be an option.  However since we're now going to run
with a NET_LOCK() for some time, assert that it is held.

IPsec is not yet ready to run without KERNEL_LOCK(), so assert it
is held, even in the forwarding path.

Tested by sthen@, ok visa@, claudio@, bluhm@


CVSROOT:	/cvs
Module name:	src
Changes by:	tedu@cvs.openbsd.org	2017/05/29 08:37:51

Modified files:
	gnu/llvm/lib/MC: MCAsmInfoELF.cpp 

Log message:
openbsd does not use nonexec stack segment header hints.
in fact, false is a much better default for UsesNonexecutableStackSection.
platforms that require it can reenable, instead, saving the rest of us an
unnecessary program header (causes trouble for some special binaries).
ok kettenis


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/29 08:37:53

Modified files:
	databases/postgresql-plv8: Makefile 

Log message:
fix typo in comment and bump


CVSROOT:	/cvs
Module name:	src
Changes by:	fcambus@cvs.openbsd.org	2017/05/29 08:41:16

Modified files:
	usr.bin/compress: zopen.c 

Log message:
Remove unused zclose function.

From Brian Callahan, thanks!

OK tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/29 08:43:53

Modified files:
	geo/geoclue2   : Makefile distinfo 

Log message:
update to geoclue-2.4.7


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/29 08:44:40

Modified files:
	productivity/radicale: Makefile distinfo 
	productivity/radicale/pkg: README 

Log message:
update to radicale-1.1.3 which adds a migration path to radicale 2

ok sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 08:47:54

Modified files:
	lib/librthread : rthread_mutex.c synch.h 

Log message:
SPINLOCK_SPIN_HOOK is no more, define our own set of macros.

Prodded by kettenis@ and tedu@


CVSROOT:	/cvs
Module name:	ports
Changes by:	giovanni@cvs.openbsd.org	2017/05/29 09:05:06

Modified files:
	mail/p5-Mail-DMARC: Makefile distinfo 

Log message:
update to 1.20170222
hints and ok sthen@


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/29 09:12:23

Modified files:
	net/ncftp      : Makefile distinfo 

Log message:
* update to 3.2.6
* stop porting forward the KAME patch, i.e., no more IPv6 support
* pass maintainership
ok daniel@ fcambus@ sthen@


CVSROOT:	/cvs
Module name:	src
Changes by:	deraadt@cvs.openbsd.org	2017/05/29 09:21:12

Modified files:
	distrib/sets/lists/base: mi 
	distrib/sets/lists/comp: mi 
	distrib/sets/lists/man: mi 

Log message:
sync


CVSROOT:	/cvs
Module name:	ports
Changes by:	shadchin@cvs.openbsd.org	2017/05/29 09:36:31

Modified files:
	devel/py-testpath: Makefile distinfo 
	devel/py-testpath/pkg: PLIST 

Log message:
Update to py-testpath 0.3.1


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/29 09:38:20

Modified files:
	databases/postgresql-plv8/patches: patch-plv8_cc 
	                                   patch-plv8_func_cc 
Added files:
	databases/postgresql-plv8/patches: patch-plv8_type_cc 

Log message:
now that libv8 builds, hack around the disgusting hack they use to "poison"
postgresql, which ends up breaking math.h with libc++ as well


CVSROOT:	/cvs
Module name:	ports
Changes by:	espie@cvs.openbsd.org	2017/05/29 09:43:21

Modified files:
	graphics/hugin : Makefile 

Log message:
unbreak


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 09:43:48

Modified files:
	usr.bin/tmux   : format.c tmux.1 

Log message:
Add m: for fnmatch(3) format matching.


CVSROOT:	/cvs
Module name:	ports
Changes by:	naddy@cvs.openbsd.org	2017/05/29 10:44:57

Modified files:
	security/libewf: Makefile 

Log message:
don't pick up gmkdir in configure


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/29 10:52:01

Modified files:
	x11/gnome/recipes: Makefile 

Log message:
complete the list of MODGNOME_TOOLS

missing itstool spotted by naddy@


CVSROOT:	/cvs
Module name:	ports
Changes by:	jasper@cvs.openbsd.org	2017/05/29 11:10:06

Modified files:
	mail/offlineimap: Makefile distinfo 
	mail/offlineimap/patches: patch-offlineimap_conf 

Log message:
update to offlineimap-7.1.1

from Remi Locherer (MAINTAINER)


CVSROOT:	/cvs
Module name:	src
Changes by:	joris@cvs.openbsd.org	2017/05/29 11:18:56

Modified files:
	usr.bin/cvs    : file.c update.c 

Log message:
cvs_file_classify() was making the mistake of only taking over a sticky
tag from Entries for a given file if the sticky tag is present.

while changing this we can simplify some logic in update.c on how it
decides what tag to use for file classification.


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/29 11:41:38

Modified files:
	net/py-pcapy   : Makefile distinfo 
	net/py-pcapy/patches: patch-setup_py 

Log message:
update to py-pcapy-0.11.1, add do-test so "make test" does something


CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2017/05/29 11:50:43

Modified files:
	lang/mono      : Makefile 

Log message:
add XXX comment about wxneeded and clang


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 12:06:34

Modified files:
	usr.bin/tmux   : cmd-find-window.c format.c tmux.1 tmux.h 
	                 window.c 

Log message:
Add ||, && format operators and C: to search pane content.


CVSROOT:	/cvs
Module name:	ports
Changes by:	mglocker@cvs.openbsd.org	2017/05/29 12:49:24

Modified files:
	games/spaceinvaders: Makefile distinfo 

Log message:
update to spaceinvaders-0.8


CVSROOT:	/cvs
Module name:	ports
Changes by:	mglocker@cvs.openbsd.org	2017/05/29 13:49:53

Modified files:
	games/spaceinvaders: Makefile 

Log message:
remove REVISION

suggested by tb@


CVSROOT:	/cvs
Module name:	ports
Changes by:	mglocker@cvs.openbsd.org	2017/05/29 13:54:32

Modified files:
	games          : Makefile 

Log message:
+spaceinvaders

ok tb@


CVSROOT:	/cvs
Module name:	src
Changes by:	benno@cvs.openbsd.org	2017/05/29 14:23:18

Modified files:
	usr.sbin/bgpctl: bgpctl.8 
	usr.sbin/bgpd  : bgpd.conf.5 

Log message:
change section title in bgpd.conf talking about MPLS,
add a bit about working with multiple bgpds in rdomains in bgpctl.
shouting from claudio@ and help from jmc@


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/29 14:26:09

src/regress/sbin/iked/test_helper

Update of /cvs/src/regress/sbin/iked/test_helper
In directory cvs.openbsd.org:/cvs.d/hack/markus/src/regress/sbin/iked/test_helper

Log Message:
Directory /cvs/src/regress/sbin/iked/test_helper added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/29 14:26:10

src/regress/sbin/iked/parser

Update of /cvs/src/regress/sbin/iked/parser
In directory cvs.openbsd.org:/cvs.d/hack/markus/src/regress/sbin/iked/parser

Log Message:
Directory /cvs/src/regress/sbin/iked/parser added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/29 14:26:21

src/regress/sbin/iked/compat

Update of /cvs/src/regress/sbin/iked/compat
In directory cvs.openbsd.org:/cvs.d/hack/markus/src/regress/sbin/iked/compat

Log Message:
Directory /cvs/src/regress/sbin/iked/compat added to the repository


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 14:28:57

Modified files:
	sys/netinet6   : in6.c 

Log message:
Allow passing in IN6_IFF_AUTOCONF from userland. Needed by slaacd(8)
OK naddy


CVSROOT:	/cvs
Module name:	src
Changes by:	claudio@cvs.openbsd.org	2017/05/29 14:31:12

Modified files:
	sys/net        : pfkeyv2.c 

Log message:
Replace handrolled list with LIST_* macros. OK mpi@


CVSROOT:	/cvs
Module name:	src
Changes by:	florian@cvs.openbsd.org	2017/05/29 14:31:31

Modified files:
	usr.sbin/slaacd: slaacd.c 

Log message:
The kernel sets IN6_IFF_AUTOCONF for autoconf addresses, also make
slaacd(8) do that. At least you can identify them in ifconfig output.
Difference pointed out by & OK naddy


CVSROOT:	/cvs
Module name:	src
Changes by:	bluhm@cvs.openbsd.org	2017/05/29 14:35:47

Modified files:
	share/man/man5 : bsd.regress.mk.5 

Log message:
Add more regress guidelines to bsd.regress.mk(5) man page.
input schwarze@ jmc@; OK henning@ benno@


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 14:37:30

Modified files:
	usr.bin/tmux   : server-client.c tmux.h 

Log message:
Function to count clients.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 14:41:29

Modified files:
	usr.bin/tmux   : options-table.c server-client.c status.c tmux.h 

Log message:
Store a copy of the old status line, will be needed soon for new choose mode.


CVSROOT:	/cvs
Module name:	src
Changes by:	nicm@cvs.openbsd.org	2017/05/29 14:42:53

Modified files:
	usr.bin/tmux   : status.c tmux.h 

Log message:
Add a flag to stop the prompt input being expanded.


CVSROOT:	/cvs
Module name:	src
Changes by:	markus@cvs.openbsd.org	2017/05/29 14:59:32

Modified files:
	regress/sbin/iked: Makefile 
Added files:
	regress/sbin/iked: Makefile.inc 

Log message:


Added files:
	regress/sbin/iked/parser: Makefile common.c test_parser_fuzz.c 
	                          tests.c 
	regress/sbin/iked/test_helper: Makefile fuzz.c test_helper.c 
	                               test_helper.h 

Log message:
fuzz the iked payload parser using the openssh unit-test framework
from hshoexer


CVSROOT:	/cvs
Module name:	src
Changes by:	mpi@cvs.openbsd.org	2017/05/29 15:19:30

Modified files:
	lib/librthread : Makefile 

Log message:
Enable futex-based mutex and condvar.

ok everybody


CVSROOT:	/cvs
Module name:	src
Changes by:	jmc@cvs.openbsd.org	2017/05/29 15:27:36

Modified files:
	usr.sbin/bgpctl: bgpctl.8 

Log message:
missing .El;


CVSROOT:	/cvs
Module name:	ports
Changes by:	abieber@cvs.openbsd.org	2017/05/29 16:41:32

Modified files:
	security/keybase: Makefile distinfo 
	security/keybase/patches: patch-go_client_cmd_update_go 

Log message:
Bump to latest version.

OK awolk@


